/*! For license information please see main.53464fd7.js.LICENSE.txt */
(()=>{var e={511:e=>{e.exports={eventCodes:{fixation:1,test:2,test_connect:32,open_task:18}}},347:(e,t,n)=>{const r=n(613);let i;try{const e=window.require("electron");i=e.ipcRenderer}catch(o){i=!1}e.exports={photodiodeGhostBox:function(){return'<div class="photodiode-box '.concat("visible",'" id="photodiode-box">\n\t\t\t\t\t\t\t\t\t\t<span id="photodiode-spot" class="photodiode-spot"></span>\n\t\t\t\t\t\t\t\t\t</div>')},pdSpotEncode:function(e,t,n){if(n.USE_PHOTODIODE){!function e(t,n){n>0&&function(e,t){r(".photodiode-spot").css({"background-color":"black"}),setTimeout((()=>{r(".photodiode-spot").css({"background-color":"white"}),t()}),e)}(t,(()=>{setTimeout((()=>{e(t,n-1)}),t)}))}(40,t),i&&i.send("trigger",e)}}}},489:e=>{e.exports={baseStimulus:function(e){return"<div class=".concat(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"center_container":arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"main-prompt":"main",">").concat(e,"</div>")}}},613:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,u=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},l=o.push,c=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},y=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},v=function(e){return null!=e&&e===e.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in w)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?h[d.call(e)]||"object":typeof e}var x="3.7.1",E=/HTML$/i,S=function(e,t){return new S.fn.init(e,t)};function k(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!y(e)&&!v(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}S.fn=S.prototype={jquery:x,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"===typeof s&&(l=s,s=arguments[a]||{},a++),"object"===typeof s||y(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,s[t]=S.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},S.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=s(e))||"function"===typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(k(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=S.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(k(Object(e))?S.merge(n,"string"===typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!E.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(k(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return u(s)},guid:1,support:g}),"function"===typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var C=o.pop,A=o.sort,N=o.splice,D="[\\x20\\t\\r\\n\\f]",P=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");S.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var O=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}S.escapeSelector=function(e){return(e+"").replace(O,R)};var L=b,M=l;!function(){var e,t,n,i,s,u,l,h,d,p,m=M,y=S.expando,v=0,b=0,w=ee(),_=ee(),T=ee(),x=ee(),E=function(e,t){return e===t&&(s=!0),0},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+D+"*("+O+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+D+"*\\]",j=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",F=new RegExp(D+"+","g"),V=new RegExp("^"+D+"*,"+D+"*"),B=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),U=new RegExp(D+"|>"),z=new RegExp(j),q=new RegExp("^"+O+"$"),K={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},H=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),X=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},$=function(){ue()},J=de((function(e){return!0===e.disabled&&I(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(L.childNodes),L.childNodes),o[L.childNodes.length].nodeType}catch(be){m={apply:function(e,t){M.apply(e,a.call(t))},call:function(e){M.apply(e,a.call(arguments,1))}}}function Z(e,t,n,r){var i,o,s,a,l,c,f,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!r&&(ue(t),t=t||u,h)){if(11!==v&&(l=G.exec(e)))if(i=l[1]){if(9===v){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(p&&(s=p.getElementById(i))&&Z.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(l[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!x[e+" "]&&(!d||!d.test(e))){if(f=e,p=t,1===v&&(U.test(e)||B.test(e))){for((p=Q.test(e)&&ae(t.parentNode)||t)==t&&g.scope||((a=t.getAttribute("id"))?a=S.escapeSelector(a):t.setAttribute("id",a=y)),o=(c=ce(e)).length;o--;)c[o]=(a?"#"+a:":scope")+" "+he(c[o]);f=c.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(b){x(e,!0)}finally{a===y&&t.removeAttribute("id")}}}return ve(e.replace(P,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[y]=!0,e}function ne(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return I(t,"input")&&t.type===e}}function ie(e){return function(t){return(I(t,"input")||I(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function ae(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function ue(e){var n,r=e?e.ownerDocument||e:L;return r!=u&&9===r.nodeType&&r.documentElement?(l=(u=r).documentElement,h=!S.isXMLDoc(u),p=l.matches||l.webkitMatchesSelector||l.msMatchesSelector,l.msMatchesSelector&&L!=u&&(n=u.defaultView)&&n.top!==n&&n.addEventListener("unload",$),g.getById=ne((function(e){return l.appendChild(e).id=S.expando,!u.getElementsByName||!u.getElementsByName(S.expando).length})),g.disconnectedMatch=ne((function(e){return p.call(e,"*")})),g.scope=ne((function(){return u.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(be){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(Y,X);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Y,X);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&h){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if("undefined"!==typeof t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;l.appendChild(e).innerHTML="<a id='"+y+"' href='' disabled='disabled'></a><select id='"+y+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+D+"*(?:value|"+k+")"),e.querySelectorAll("[id~="+y+"-]").length||d.push("~="),e.querySelectorAll("a#"+y+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=u.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),l.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=u.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")})),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),E=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument==L&&Z.contains(L,e)?-1:t===u||t.ownerDocument==L&&Z.contains(L,t)?1:i?c.call(i,e)-c.call(i,t):0:4&n?-1:1)},u):u}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ue(e),h&&!x[t+" "]&&(!d||!d.test(t)))try{var n=p.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(be){x(t,!0)}return Z(t,u,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=u&&ue(e),S.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=u&&ue(e);var r=t.attrHandle[n.toLowerCase()],i=r&&f.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},S.uniqueSort=function(e){var t,n=[],r=0,o=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(e,0),A.call(e,E),s){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)N.call(e,n[r],1)}return i=null,e},S.fn.uniqueSort=function(){return this.pushStack(S.uniqueSort(a.apply(this)))},t=S.expr={cacheLength:50,createPseudo:te,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,X),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,X),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=ce(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,X).toLowerCase();return"*"===e?function(){return!0}:function(e){return I(e,t)}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&w(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Z.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,d,f,p=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),b=!u&&!a,w=!1;if(m){if(o){for(;p;){for(h=t;h=h[p];)if(a?I(h,g):1===h.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(w=(d=(l=(c=m[y]||(m[y]={}))[e]||[])[0]===v&&l[1])&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[p]||(w=d=0)||f.pop();)if(1===h.nodeType&&++w&&h===t){c[e]=[v,d,w];break}}else if(b&&(w=d=(l=(c=t[y]||(t[y]={}))[e]||[])[0]===v&&l[1]),!1===w)for(;(h=++d&&h&&h[p]||(w=d=0)||f.pop())&&(!(a?I(h,g):1===h.nodeType)||!++w||(b&&((c=h[y]||(h[y]={}))[e]=[v,w]),h!==t)););return(w-=i)===r||w%r===0&&w/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return i[y]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),s=o.length;s--;)e[r=c.call(e,o[s])]=!(t[r]=o[s])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ye(e.replace(P,"$1"));return r[y]?te((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(Y,X),function(t){return(t.textContent||S.text(t)).indexOf(e)>-1}})),lang:te((function(e){return q.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(Y,X).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===l},focus:function(e){return e===function(){try{return u.activeElement}catch(e){}}()&&u.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return I(e,"input")&&!!e.checked||I(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return H.test(e.nodeName)},button:function(e){return I(e,"input")&&"button"===e.type||I(e,"button")},text:function(e){var t;return I(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function le(){}function ce(e,n){var r,i,o,s,a,u,l,c=_[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=t.preFilter;a;){for(s in r&&!(i=V.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=B.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(P," ")}),a=a.slice(r.length)),t.filter)!(i=K[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?Z.error(e):_(e,u).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function de(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,u){var l,c,h=[v,a];if(u){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(c=t[y]||(t[y]={}),i&&I(t,i))t=t[r]||t;else{if((l=c[o])&&l[0]===v&&l[1]===a)return h[2]=l[2];if(c[o]=h,h[2]=e(t,n,u))return!0}return!1}}function fe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function pe(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function me(e,t,n,r,i,o){return r&&!r[y]&&(r=me(r)),i&&!i[y]&&(i=me(i,o)),te((function(o,s,a,u){var l,h,d,f,p=[],g=[],y=s.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Z(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?v:pe(v,p,e,a,u);if(n?n(b,f=i||(o?e:y||r)?[]:s,a,u):f=b,r)for(l=pe(f,g),r(l,[],a,u),h=l.length;h--;)(d=l[h])&&(f[g[h]]=!(b[g[h]]=d));if(o){if(i||e){if(i){for(l=[],h=f.length;h--;)(d=f[h])&&l.push(b[h]=d);i(null,f=[],l,u)}for(h=f.length;h--;)(d=f[h])&&(l=i?c.call(o,d):p[h])>-1&&(o[l]=!(s[l]=d))}}else f=pe(f===s?f.splice(y,f.length):f),i?i(null,s,f,u):m.apply(s,f)}))}function ge(e){for(var r,i,o,s=e.length,a=t.relative[e[0].type],u=a||t.relative[" "],l=a?1:0,h=de((function(e){return e===r}),u,!0),d=de((function(e){return c.call(r,e)>-1}),u,!0),f=[function(e,t,i){var o=!a&&(i||t!=n)||((r=t).nodeType?h(e,t,i):d(e,t,i));return r=null,o}];l<s;l++)if(i=t.relative[e[l].type])f=[de(fe(f),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[y]){for(o=++l;o<s&&!t.relative[e[o].type];o++);return me(l>1&&fe(f),l>1&&he(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(P,"$1"),i,l<o&&ge(e.slice(l,o)),o<s&&ge(e=e.slice(o)),o<s&&he(e))}f.push(i)}return fe(f)}function ye(e,r){var i,o=[],s=[],a=T[e+" "];if(!a){for(r||(r=ce(e)),i=r.length;i--;)(a=ge(r[i]))[y]?o.push(a):s.push(a);a=T(e,function(e,r){var i=r.length>0,o=e.length>0,s=function(s,a,l,c,d){var f,p,g,y=0,b="0",w=s&&[],_=[],T=n,x=s||o&&t.find.TAG("*",d),E=v+=null==T?1:Math.random()||.1,k=x.length;for(d&&(n=a==u||a||d);b!==k&&null!=(f=x[b]);b++){if(o&&f){for(p=0,a||f.ownerDocument==u||(ue(f),l=!h);g=e[p++];)if(g(f,a||u,l)){m.call(c,f);break}d&&(v=E)}i&&((f=!g&&f)&&y--,s&&w.push(f))}if(y+=b,i&&b!==y){for(p=0;g=r[p++];)g(w,_,a,l);if(s){if(y>0)for(;b--;)w[b]||_[b]||(_[b]=C.call(c));_=pe(_)}m.apply(c,_),d&&!s&&_.length>0&&y+r.length>1&&S.uniqueSort(c)}return d&&(v=E,n=T),w};return i?te(s):s}(s,o)),a.selector=e}return a}function ve(e,n,r,i){var o,s,a,u,l,c="function"===typeof e&&e,d=!i&&ce(e=c.selector||e);if(r=r||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(Y,X),n)||[])[0]))return r;c&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=K.needsContext.test(e)?0:s.length;o--&&(a=s[o],!t.relative[u=a.type]);)if((l=t.find[u])&&(i=l(a.matches[0].replace(Y,X),Q.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=i.length&&he(s)))return m.apply(r,i),r;break}}return(c||ye(e,d))(i,n,!h,r,!n||Q.test(e)&&ae(n.parentNode)||n),r}le.prototype=t.filters=t.pseudos,t.setFilters=new le,g.sortStable=y.split("").sort(E).join("")===y,ue(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(u.createElement("fieldset"))})),S.find=Z,S.expr[":"]=S.expr.pseudos,S.unique=S.uniqueSort,Z.compile=ye,Z.select=ve,Z.setDocument=ue,Z.tokenize=ce,Z.escape=S.escapeSelector,Z.getText=S.text,Z.isXML=S.isXMLDoc,Z.selectors=S.expr,Z.support=S.support,Z.uniqueSort=S.uniqueSort}();var j=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},F=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},V=S.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,n){return y(t)?S.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?S.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?S.grep(e,(function(e){return c.call(t,e)>-1!==n})):S.filter(t,e,n)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,(function(e){return 1===e.nodeType})))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(S(e).filter((function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return r>1?S.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"===typeof e&&V.test(e)?S(e):e||[],!1).length}});var z,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||z,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),B.test(r[1])&&S.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,z=S(b);var K=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!==typeof e&&S(e);if(!V.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?c.call(S(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return j(e,"parentNode")},parentsUntil:function(e,t,n){return j(e,"parentNode",n)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return j(e,"nextSibling")},prevAll:function(e){return j(e,"previousSibling")},nextUntil:function(e,t,n){return j(e,"nextSibling",n)},prevUntil:function(e,t,n){return j(e,"previousSibling",n)},siblings:function(e){return F((e.parentNode||{}).firstChild,e)},children:function(e){return F(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},(function(e,t){S.fn[e]=function(n,r){var i=S.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=S.filter(r,i)),this.length>1&&(H[e]||S.uniqueSort(i),K.test(e)&&i.reverse()),this.pushStack(i)}}));var G=/[^\x20\t\r\n\f]+/g;function Q(e){return e}function Y(e){throw e}function X(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return S.each(e.match(G)||[],(function(e,n){t[n]=!0})),t}(e):S.extend({},e);var t,n,r,i,o=[],s=[],a=-1,u=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){S.each(n,(function(n,r){y(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return S.each(arguments,(function(e,t){for(var n;(n=S.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?S.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return S.Deferred((function(n){S.each(t,(function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(a,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"===typeof r||"function"===typeof r)&&r.then,y(l)?i?l.call(r,s(o,t,Q,i),s(o,t,Y,i)):(o++,l.call(r,s(o,t,Q,i),s(o,t,Y,i),s(o,t,Q,t.notifyWith))):(n!==Q&&(a=void 0,u=[r]),(i||t.resolveWith)(a,u))}},c=i?l:function(){try{l()}catch(r){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(r,c.error),e+1>=o&&(n!==Y&&(a=void 0,u=[r]),t.rejectWith(a,u))}};e?c():(S.Deferred.getErrorHook?c.error=S.Deferred.getErrorHook():S.Deferred.getStackHook&&(c.error=S.Deferred.getStackHook()),r.setTimeout(c))}}return S.Deferred((function(r){t[0][3].add(s(0,r,y(i)?i:Q,r.notifyWith)),t[1][3].add(s(0,r,y(e)?e:Q)),t[2][3].add(s(0,r,y(n)?n:Y))})).promise()},promise:function(e){return null!=e?S.extend(e,i):i}},o={};return S.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=S.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(X(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)X(i[n],s(n),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&$.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){r.setTimeout((function(){throw e}))};var J=S.Deferred();function Z(){b.removeEventListener("DOMContentLoaded",Z),r.removeEventListener("load",Z),S.ready()}S.fn.ready=function(e){return J.then(e).catch((function(e){S.readyException(e)})),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||J.resolveWith(b,[S]))}}),S.ready.then=J.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(S.ready):(b.addEventListener("DOMContentLoaded",Z),r.addEventListener("load",Z));var ee=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===T(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=S.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(G)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var ae=new se,ue=new se,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function he(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ce,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}(n)}catch(i){}ue.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return ue.hasData(e)||ae.hasData(e)},data:function(e,t,n){return ue.access(e,t,n)},removeData:function(e,t){ue.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),S.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ue.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),he(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each((function(){ue.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ue.get(o,e))||void 0!==(n=he(o,e))?n:void 0;this.each((function(){ue.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ue.remove(this,e)}))}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){S.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:S.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),S.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?S.queue(this[0],e):void 0===t?this:this.each((function(){var n=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&S.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){S.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return S.contains(e.ownerDocument,e)},ye={composed:!0};me.getRootNode&&(ge=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});var ve=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===S.css(e,"display")};function be(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=a(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&fe.exec(S.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)S.style(e,t,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var we={};function _e(e){var t,n=e.ownerDocument,r=e.nodeName,i=we[r];return i||(t=n.body.appendChild(n.createElement(r)),i=S.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),we[r]=i,i)}function Te(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ve(r)&&(i[o]=_e(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}S.fn.extend({show:function(){return Te(this,!0)},hide:function(){return Te(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){ve(this)?S(this).show():S(this).hide()}))}});var xe=/^(?:checkbox|radio)$/i,Ee=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Se=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=b.createDocumentFragment().appendChild(b.createElement("div")),t=b.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),g.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",g.option=!!e.lastChild}();var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ie(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?S.merge([e],n):n}function Ce(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,g.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var Ae=/<|&#?\w+;/;function Ne(e,t,n,r,i){for(var o,s,a,u,l,c,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===T(o))S.merge(d,o.nodeType?[o]:o);else if(Ae.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Ee.exec(o)||["",""])[1].toLowerCase(),u=ke[a]||ke._default,s.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;S.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&S.inArray(o,r)>-1)i&&i.push(o);else if(l=ge(o),s=Ie(h.appendChild(o),"script"),l&&Ce(s),n)for(c=0;o=s[c++];)Se.test(o.type||"")&&n.push(o);return h}var De=/^([^.]*)(?:\.(.+)|)/;function Pe(){return!0}function Oe(){return!1}function Re(e,t,n,r,i,o){var s,a;if("object"===typeof t){for(a in"string"!==typeof n&&(r=r||n,n=void 0),t)Re(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Oe;else if(!i)return e;return 1===o&&(s=i,i=function(e){return S().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=S.guid++)),e.each((function(){S.event.add(this,t,i,r,n)}))}function Le(e,t,n){n?(ae.set(e,t,!1),S.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(S.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,S.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Pe)}})):void 0===ae.get(e,t)&&S.event.add(e,t,Pe)}S.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,h,d,f,p,m,g=ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(me,i),n.guid||(n.guid=S.guid++),(u=g.events)||(u=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return"undefined"!==typeof S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(G)||[""]).length;l--;)f=m=(a=De.exec(t[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},c=S.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=u[f])||((d=u[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),S.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,h,d,f,p,m,g=ae.hasData(e)&&ae.get(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(G)||[""]).length;l--;)if(f=m=(a=De.exec(t[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},d=u[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||S.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)S.event.remove(e,f+t[l],n,r,!0);S.isEmptyObject(u)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),u=S.event.fix(e),l=(ae.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(a[0]=u,t=1;t<arguments.length;t++)a[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(s=S.event.handlers.call(this,u,l),t=0;(i=s[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,s,a=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?S(i,this).index(l)>-1:S.find(i,this,null,[l]).length),s[i]&&o.push(r);o.length&&a.push({elem:l,handlers:o})}return l=this,u<t.length&&a.push({elem:l,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return xe.test(t.type)&&t.click&&I(t,"input")&&Le(t,"click",!0),!1},trigger:function(e){var t=this||e;return xe.test(t.type)&&t.click&&I(t,"input")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return xe.test(t.type)&&t.click&&I(t,"input")&&ae.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Pe:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),r=S.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else S.event.simulate(t,e.target,S.event.fix(e))}S.event.special[e]={setup:function(){var r;if(Le(this,e,!0),!b.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Le(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},S.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t);o||(b.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(b.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||S.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),S.fn.extend({on:function(e,t,n,r){return Re(this,e,t,n,r)},one:function(e,t,n,r){return Re(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each((function(){S.event.remove(this,e,n,t)}))}});var Me=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ve(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)S.event.add(t,i,a[i][n]);ue.hasData(e)&&(o=ue.access(e),s=S.extend({},o),ue.set(t,s))}}function qe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ke(e,t,n,r){t=u(t);var i,o,s,a,l,c,h=0,d=e.length,f=d-1,p=t[0],m=y(p);if(m||d>1&&"string"===typeof p&&!g.checkClone&&je.test(p))return e.each((function(i){var o=e.eq(i);m&&(t[0]=p.call(this,i,o.html())),Ke(o,t,n,r)}));if(d&&(o=(i=Ne(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=S.map(Ie(i,"script"),Be)).length;h<d;h++)l=i,h!==f&&(l=S.clone(l,!0,!0),a&&S.merge(s,Ie(l,"script"))),n.call(e[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,Ue),h=0;h<a;h++)l=s[h],Se.test(l.type||"")&&!ae.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):_(l.textContent.replace(Fe,""),l,c))}return e}function He(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(Ie(r)),r.parentNode&&(n&&ge(r)&&Ce(Ie(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=ge(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!S.isXMLDoc(e))for(s=Ie(a),r=0,i=(o=Ie(e)).length;r<i;r++)qe(o[r],s[r]);if(t)if(n)for(o=o||Ie(e),s=s||Ie(a),r=0,i=o.length;r<i;r++)ze(o[r],s[r]);else ze(e,a);return(s=Ie(a,"script")).length>0&&Ce(s,!u&&Ie(e,"script")),a},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[ue.expando]&&(n[ue.expando]=void 0)}}}),S.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ke(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ve(this,e).appendChild(e)}))},prepend:function(){return Ke(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ve(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ke(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ke(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(Ie(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return S.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Me.test(e)&&!ke[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(Ie(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ke(this,arguments,(function(t){var n=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(Ie(this)),n&&n.replaceChild(t,this))}),e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){S.fn[e]=function(e){for(var n,r=[],i=S(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(i[s])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var We=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Ge=/^--/,Qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ye=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Xe=new RegExp(pe.join("|"),"i");function $e(e,t,n){var r,i,o,s,a=Ge.test(t),u=e.style;return(n=n||Qe(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(P,"$1")||void 0),""!==s||ge(e)||(s=S.style(e,t)),!g.pixelBoxStyles()&&We.test(s)&&Xe.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=s,s=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==s?s+"":s}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",s=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),me.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,u,l=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),a}}))}();var Ze=["Webkit","Moz","ms"],et=b.createElement("div").style,tt={};function nt(e){var t=S.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function at(e,t,n,r,i,o){var s="width"===t?1:0,a=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=S.css(e,n+pe[s],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+pe[s],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+pe[s]+"Width",!0,i))):(u+=S.css(e,"padding"+pe[s],!0,i),"padding"!==n?u+=S.css(e,"border"+pe[s]+"Width",!0,i):a+=S.css(e,"border"+pe[s]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-a-.5))||0),u+l}function ut(e,t,n){var r=Qe(e),i=(!g.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,s=$e(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&I(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+at(e,t,n||(i?"border":"content"),o,r,s)+"px"}function lt(e,t,n,r,i){return new lt.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie(t),u=Ge.test(t),l=e.style;if(u||(t=nt(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=be(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie(t);return Ge.test(t)||(t=nt(a)),(s=S.cssHooks[t]||S.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=$e(e,t,r)),"normal"===i&&t in ot&&(i=ot[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],(function(e,t){S.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,r):Ye(e,it,(function(){return ut(e,t,r)}))},set:function(e,n,r){var i,o=Qe(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===S.css(e,"boxSizing",!1,o),u=r?at(e,t,r,a,o):0;return a&&s&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-at(e,t,"border",!1,o)-.5)),u&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=S.css(e,t)),st(0,n,u)}}})),S.cssHooks.marginLeft=Je(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(e,t){S.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+pe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(S.cssHooks[e+t].set=st)})),S.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Qe(e),i=t.length;s<i;s++)o[t[s]]=S.css(e,t[s],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)}),e,t,arguments.length>1)}}),S.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=lt.prototype.init,S.fx.step={};var ct,ht,dt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function pt(){ht&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(pt):r.setTimeout(pt,S.fx.interval),S.fx.tick())}function mt(){return r.setTimeout((function(){ct=void 0})),ct=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function yt(e,t,n){for(var r,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function vt(e,t,n){var r,i,o=0,s=vt.prefilters.length,a=S.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=ct||mt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(r);return a.notifyWith(e,[l,r,n]),r<1&&s?n:(s||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:t,originalOptions:n,startTime:ct||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=S.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<s;o++)if(r=vt.prefilters[o].call(l,e,c,l.opts))return y(r.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return S.map(c,yt,l),y(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(G);for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,u,l,c,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&ve(e),g=ae.get(e,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],dt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=ae.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(Te([e],!0),l=e.style.display||l,c=S.css(e,"display"),Te([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(d.done((function(){p.display=l})),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,f)u||(g?"hidden"in g&&(m=g.hidden):g=ae.access(e,"fxshow",{display:l}),o&&(g.hidden=!m),m&&Te([e],!0),d.done((function(){for(r in m||Te([e]),ae.remove(e,"fxshow"),f)S.style(e,r,f[r])}))),u=yt(m?g[r]:0,r,d),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"===typeof e?S.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return S.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=S.isEmptyObject(e),o=S.speed(t,n,r),s=function(){var t=vt(this,S.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=S.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ft.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||S.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(e,t){var n=S.fn[t];S.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}})),S.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){S.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(ct=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),ct=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ht||(ht=!0,pt())},S.fx.stop=function(){ht=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var bt,wt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return ee(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){S.removeAttr(this,e)}))}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&I(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(G);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||S.find.attr;wt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=wt[s],wt[s]=i,i=null!=n(e,t,r)?s:null,wt[s]=o),i}}));var _t=/^(?:input|select|textarea|button)$/i,Tt=/^(?:a|area)$/i;function xt(e){return(e.match(G)||[]).join(" ")}function Et(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(G)||[]}S.fn.extend({prop:function(e,t){return ee(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[S.propFix[e]||e]}))}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(e){var t,n,r,i,o,s;return y(e)?this.each((function(t){S(this).addClass(e.call(this,t,Et(this)))})):(t=St(e)).length?this.each((function(){if(r=Et(this),n=1===this.nodeType&&" "+xt(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=xt(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,i,o,s;return y(e)?this.each((function(t){S(this).removeClass(e.call(this,t,Et(this)))})):arguments.length?(t=St(e)).length?this.each((function(){if(r=Et(this),n=1===this.nodeType&&" "+xt(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=xt(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return y(e)?this.each((function(n){S(this).toggleClass(e.call(this,n,Et(this),t),t)})):"boolean"===typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=St(e),this.each((function(){if(a)for(o=S(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=Et(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+xt(Et(n))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;S.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,S(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=S.map(i,(function(e){return null==e?"":e+""}))),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(kt,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:xt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(t=S(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=S.makeArray(t),s=i.length;s--;)((r=i[s]).selected=S.inArray(S.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},g.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var It=r.location,Ct={guid:Date.now()},At=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Nt=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,i){var o,s,a,u,l,c,h,d,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Nt.test(m+S.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),l=m.indexOf(":")<0&&"on"+m,(e=e[S.expando]?e:new S.Event(m,"object"===typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),h=S.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!v(n)){for(u=h.delegateType||m,Nt.test(u+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?u:h.bindType||m,(c=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&c.apply(s,t),(c=l&&s[l])&&c.apply&&oe(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!oe(n)||l&&y(n[m])&&!v(n)&&((a=n[l])&&(n[l]=null),S.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Dt),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,Dt),S.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each((function(){S.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}});var Pt=/\[\]$/,Ot=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,r){var i;if(Array.isArray(t))S.each(t,(function(t,i){n||Pt.test(e)?r(e,i):Mt(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==T(t))r(e,t);else for(i in t)Mt(e+"["+i+"]",t[i],n,r)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,(function(){i(this.name,this.value)}));else for(n in e)Mt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Lt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!xe.test(e))})).map((function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:n.replace(Ot,"\r\n")}})).get()}});var jt=/%20/g,Ft=/#.*$/,Vt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,zt=/^\/\//,qt={},Kt={},Ht="*/".concat("*"),Wt=b.createElement("a");function Gt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(G)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Qt(e,t,n,r){var i={},o=e===Kt;function s(a){var u;return i[a]=!0,S.each(e[a]||[],(function(e,a){var l=a(t,n,r);return"string"!==typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),s(l),!1)})),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Yt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=It.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,S.ajaxSettings),t):Yt(S.ajaxSettings,e)},ajaxPrefilter:Gt(qt),ajaxTransport:Gt(Kt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,u,l,c,h,d,f=S.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?S(p):S.event,g=S.Deferred(),y=S.Callbacks("once memory"),v=f.statusCode||{},w={},_={},T="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Bt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)x.always(e[x.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||T;return n&&n.abort(t),E(0,t),this}};if(g.promise(x),f.url=((e||f.url||It.href)+"").replace(zt,It.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(G)||[""],null==f.crossDomain){u=b.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Wt.protocol+"//"+Wt.host!==u.protocol+"//"+u.host}catch(k){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=S.param(f.data,f.traditional)),Qt(qt,f,t,x),l)return x;for(h in(c=S.event&&f.global)&&0===S.active++&&S.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ut.test(f.type),i=f.url.replace(Ft,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(jt,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"===typeof f.data)&&(i+=(At.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Vt,"$1"),d=(At.test(i)?"&":"?")+"_="+Ct.guid+++d),f.url=i+d),f.ifModified&&(S.lastModified[i]&&x.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&x.setRequestHeader("If-None-Match",S.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ht+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,x,f)||l))return x.abort();if(T="abort",y.add(f.complete),x.done(f.success),x.fail(f.error),n=Qt(Kt,f,t,x)){if(x.readyState=1,c&&m.trigger("ajaxSend",[x,f]),l)return x;f.async&&f.timeout>0&&(a=r.setTimeout((function(){x.abort("timeout")}),f.timeout));try{l=!1,n.send(w,E)}catch(k){if(l)throw k;E(-1,k)}}else E(-1,"No Transport");function E(e,t,s,u){var h,d,b,w,_,T=t;l||(l=!0,a&&r.clearTimeout(a),n=void 0,o=u||"",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(f,x,s)),!h&&S.inArray("script",f.dataTypes)>-1&&S.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(k){return{state:"parsererror",error:s?k:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(f,w,x,h),h?(f.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=_),(_=x.getResponseHeader("etag"))&&(S.etag[i]=_)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=w.state,d=w.data,h=!(b=w.error))):(b=T,!e&&T||(T="error",e<0&&(e=0))),x.status=e,x.statusText=(t||T)+"",h?g.resolveWith(p,[d,T,x]):g.rejectWith(p,[x,T,b]),x.statusCode(v),v=void 0,c&&m.trigger(h?"ajaxSuccess":"ajaxError",[x,f,h?d:b]),y.fireWith(p,[x,T]),c&&(m.trigger("ajaxComplete",[x,f]),--S.active||S.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],(function(e,t){S[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),S.ajax(S.extend({url:e,type:t,dataType:i,data:n,success:r},S.isPlainObject(e)&&e))}})),S.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){S(this).wrapInner(e.call(this,t))})):this.each((function(){var t=S(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){S(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},$t=S.ajaxSettings.xhr();g.cors=!!$t&&"withCredentials"in $t,g.ajax=$t=!!$t,S.ajaxTransport((function(e){var t,n;if(g.cors||$t&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!==typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Xt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}})),S.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),S.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=S("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Jt=[],Zt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+i):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||S.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?S(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Jt.push(i)),s&&y(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=function(){var e=b.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),S.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=B.exec(e))?[t.createElement(i[1])]:(i=Ne([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=xt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),s.length>0&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,(function(t){return e===t.elem})).length},S.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l=S.css(e,"position"),c=S(e),h={};"static"===l&&(e.style.position="relative"),a=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),y(t)&&(t=t.call(e,n,S.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):c.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){S.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||me}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;S.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),S.each(["top","left"],(function(e,t){S.cssHooks[t]=Je(g.pixelPosition,(function(e,n){if(n)return n=$e(e,t),We.test(n)?S(e).position()[t]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){S.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!==typeof i),a=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?S.css(t,n,a):S.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){S.fn[t]=function(e){return this.on(t,e)}})),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){S.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),y(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=I,S.isFunction=y,S.isWindow=v,S.camelCase=ie,S.type=T,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},void 0===(n=function(){return S}.apply(t,[]))||(e.exports=n);var tn=r.jQuery,nn=r.$;return S.noConflict=function(e){return r.$===S&&(r.$=nn),e&&r.jQuery===S&&(r.jQuery=tn),S},"undefined"===typeof i&&(r.jQuery=r.$=S),S}))},536:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,l=32,c=64,h=128,d=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,y=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],v="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",T="[object Error]",x="[object Function]",E="[object GeneratorFunction]",S="[object Map]",k="[object Number]",I="[object Object]",C="[object Promise]",A="[object RegExp]",N="[object Set]",D="[object String]",P="[object Symbol]",O="[object WeakMap]",R="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",V="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(Q.source),$=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['\u2019]",Pe="["+Ee+"]",Oe="["+Ne+"]",Re="["+Se+"]",Le="\\d+",Me="["+ke+"]",je="["+Ie+"]",Fe="[^"+Ee+Ne+Le+ke+Ie+Ce+"]",Ve="\\ud83c[\\udffb-\\udfff]",Be="[^"+Ee+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Ce+"]",Ke="\\u200d",He="(?:"+je+"|"+Fe+")",We="(?:"+qe+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Re+"|"+Ve+")"+"?",Xe="["+Ae+"]?",$e=Xe+Ye+("(?:"+Ke+"(?:"+[Be,Ue,ze].join("|")+")"+Xe+Ye+")*"),Je="(?:"+[Me,Ue,ze].join("|")+")"+$e,Ze="(?:"+[Be+Re+"?",Re,Ue,ze,Pe].join("|")+")",et=RegExp(De,"g"),tt=RegExp(Re,"g"),nt=RegExp(Ve+"(?="+Ve+")|"+Ze+$e,"g"),rt=RegExp([qe+"?"+je+"+"+Ge+"(?="+[Oe,qe,"$"].join("|")+")",We+"+"+Qe+"(?="+[Oe,qe+He,"$"].join("|")+")",qe+"?"+He+"+"+Ge,qe+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Je].join("|"),"g"),it=RegExp("["+Ke+Ee+Se+Ae+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ut={};ut[M]=ut[j]=ut[F]=ut[V]=ut[B]=ut[U]=ut[z]=ut[q]=ut[K]=!0,ut[v]=ut[b]=ut[R]=ut[w]=ut[L]=ut[_]=ut[T]=ut[x]=ut[S]=ut[k]=ut[I]=ut[A]=ut[N]=ut[D]=ut[O]=!1;var lt={};lt[v]=lt[b]=lt[R]=lt[L]=lt[w]=lt[_]=lt[M]=lt[j]=lt[F]=lt[V]=lt[B]=lt[S]=lt[k]=lt[I]=lt[A]=lt[N]=lt[D]=lt[P]=lt[U]=lt[z]=lt[q]=lt[K]=!0,lt[T]=lt[x]=lt[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,dt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,yt=gt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===gt,bt=vt&&ft.process,wt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),_t=wt&&wt.isArrayBuffer,Tt=wt&&wt.isDate,xt=wt&&wt.isMap,Et=wt&&wt.isRegExp,St=wt&&wt.isSet,kt=wt&&wt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function jt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Gt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function qt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Ht,n)}function Kt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Gt(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function un(e){return it.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return un(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function mn(e){return un(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var yn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n=(t=null==t?mt:vn.defaults(mt.Object(),t,vn.pick(mt,st))).Array,r=t.Date,ae=t.Error,Ee=t.Function,Se=t.Math,ke=t.Object,Ie=t.RegExp,Ce=t.String,Ae=t.TypeError,Ne=n.prototype,De=Ee.prototype,Pe=ke.prototype,Oe=t["__core-js_shared__"],Re=De.toString,Le=Pe.hasOwnProperty,Me=0,je=function(){var e=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Pe.toString,Ve=Re.call(ke),Be=mt._,Ue=Ie("^"+Re.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=vt?t.Buffer:i,qe=t.Symbol,Ke=t.Uint8Array,He=ze?ze.allocUnsafe:i,We=cn(ke.getPrototypeOf,ke),Ge=ke.create,Qe=Pe.propertyIsEnumerable,Ye=Ne.splice,Xe=qe?qe.isConcatSpreadable:i,$e=qe?qe.iterator:i,Je=qe?qe.toStringTag:i,Ze=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,it=r&&r.now!==mt.Date.now&&r.now,ct=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=Se.ceil,pt=Se.floor,gt=ke.getOwnPropertySymbols,yt=ze?ze.isBuffer:i,bt=t.isFinite,wt=Ne.join,Bt=cn(ke.keys,ke),Qt=Se.max,bn=Se.min,wn=r.now,_n=t.parseInt,Tn=Se.random,xn=Ne.reverse,En=ho(t,"DataView"),Sn=ho(t,"Map"),kn=ho(t,"Promise"),In=ho(t,"Set"),Cn=ho(t,"WeakMap"),An=ho(ke,"create"),Nn=Cn&&new Cn,Dn={},Pn=Fo(En),On=Fo(Sn),Rn=Fo(kn),Ln=Fo(In),Mn=Fo(Cn),jn=qe?qe.prototype:i,Fn=jn?jn.valueOf:i,Vn=jn?jn.toString:i;function Bn(e){if(ta(e)&&!Ks(e)&&!(e instanceof Kn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return Vo(e)}return new qn(e)}var Un=function(){function e(){}return function(t){if(!ea(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=Ks(e),r=!n&&qs(e),i=!n&&!r&&Qs(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?$t(e.length,Ce):[],u=a.length;for(var l in e)!t&&!Le.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||a.push(l);return a}function $n(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Jn(e,t){return Lo(Ai(e),ar(t,0,e.length))}function Zn(e){return Lo(Ai(e))}function er(e,t,n){(n!==i&&!Bs(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Bs(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Bs(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Ni(t,Da(t),e)}function or(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:ka(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,o,s){var a,u=1&t,l=2&t,c=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ea(e))return e;var h=Ks(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ai(e,a)}else{var d=mo(e),f=d==x||d==E;if(Qs(e))return xi(e,u);if(d==I||d==v||f&&!o){if(a=l||f?{}:yo(e),!u)return l?function(e,t){return Ni(e,po(e),t)}(e,function(e,t){return e&&Ni(t,Pa(t),e)}(a,e)):function(e,t){return Ni(e,fo(e),t)}(e,ir(a,e))}else{if(!lt[d])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case R:return Ei(e);case w:case _:return new r(+e);case L:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case F:case V:case B:case U:case z:case q:case K:return Si(e,n);case S:return new r;case k:case D:return new r(e);case A:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case P:return i=e,Fn?ke(Fn.call(i)):{}}var i}(e,d,u)}}s||(s=new Yn);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach((function(r){a.add(ur(r,t,n,r,e,s))})):na(e)&&e.forEach((function(r,i){a.set(i,ur(r,t,n,i,e,s))}));var m=h?i:(c?l?io:ro:l?Pa:Da)(e);return At(m||e,(function(r,i){m&&(r=e[i=r]),tr(a,i,ur(r,t,n,i,e,s))})),a}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ae(o);return Do((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,o=Ot,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=Lt(t,Zt(n))),r?(o=Rt,s=!1):t.length>=200&&(o=tn,s=!1,t=new Qn(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h===h){for(var d=l;d--;)if(t[d]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u}Bn.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,qn.prototype=Un(zn.prototype),qn.prototype.constructor=qn,Kn.prototype=Un(zn.prototype),Kn.prototype.constructor=Kn,Hn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===s?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||Wn),string:new Hn}},Gn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return lo(this,e).get(e)},Gn.prototype.has=function(e){return lo(this,e).has(e)},Gn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,s),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var dr=Oi(wr),fr=Oi(_r,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(u===i?a===a&&!ua(a):n(a,u)))var u=a,l=s}return l}function gr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=vo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):Mt(i,a):r||(i[i.length]=a)}return i}var vr=Ri(),br=Ri(!0);function wr(e,t){return e&&vr(e,t,Da)}function _r(e,t){return e&&br(e,t,Da)}function Tr(e,t){return Pt(t,(function(t){return $s(e[t])}))}function xr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[jo(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Ks(e)?r:Mt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in ke(e)?function(e){var t=Le.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(s){}var o=Fe.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Fe.call(e)}(e)}function kr(e,t){return e>t}function Ir(e,t){return null!=e&&Le.call(e,t)}function Cr(e,t){return null!=e&&t in ke(e)}function Ar(e,t,r){for(var o=r?Rt:Ot,s=e[0].length,a=e.length,u=a,l=n(a),c=1/0,h=[];u--;){var d=e[u];u&&t&&(d=Lt(d,Zt(t))),c=bn(d.length,c),l[u]=!r&&(t||s>=120&&d.length>=120)?new Qn(u&&d):i}d=e[0];var f=-1,p=l[0];e:for(;++f<s&&h.length<c;){var m=d[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):o(h,g,r))){for(u=a;--u;){var y=l[u];if(!(y?tn(y,g):o(e[u],g,r)))continue e}p&&p.push(g),h.push(m)}}return h}function Nr(e,t,n){var r=null==(e=Co(e,t=bi(t,e)))?e:e[jo(Xo(t))];return null==r?i:It(r,e,n)}function Dr(e){return ta(e)&&Sr(e)==v}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,o,s){var a=Ks(e),u=Ks(t),l=a?b:mo(e),c=u?b:mo(t),h=(l=l==v?I:l)==I,d=(c=c==v?I:c)==I,f=l==c;if(f&&Qs(e)){if(!Qs(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Yn),a||la(e)?to(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new Ke(e),new Ke(t)));case w:case _:case k:return Bs(+e,+t);case T:return e.name==t.name&&e.message==t.message;case A:case D:return e==t+"";case S:var a=ln;case N:var u=1&r;if(a||(a=dn),e.size!=t.size&&!u)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var c=to(a(e),a(t),r,i,o,s);return s.delete(e),c;case P:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,n,r,o,s);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),m=d&&Le.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,y=m?t.value():t;return s||(s=new Yn),o(g,y,n,r,s)}}if(!f)return!1;return s||(s=new Yn),function(e,t,n,r,o,s){var a=1&n,u=ro(e),l=u.length,c=ro(t),h=c.length;if(l!=h&&!a)return!1;var d=l;for(;d--;){var f=u[d];if(!(a?f in t:Le.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var y=a;for(;++d<l;){var v=e[f=u[d]],b=t[f];if(r)var w=a?r(b,v,f,t,e,s):r(v,b,f,e,t,s);if(!(w===i?v===b||o(v,b,n,r,s):w)){g=!1;break}y||(y="constructor"==f)}if(g&&!y){var _=e.constructor,T=t.constructor;_==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof T&&T instanceof T||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,o,s)}(e,t,n,r,Pr,o))}function Or(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=ke(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var l=(u=n[o])[0],c=e[l],h=u[1];if(a&&u[2]){if(c===i&&!(l in e))return!1}else{var d=new Yn;if(r)var f=r(c,h,l,e,t,d);if(!(f===i?Pr(h,c,3,r,d):f))return!1}}return!0}function Rr(e){return!(!ea(e)||(t=e,je&&je in t))&&($s(e)?Ue:ve).test(Fo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?Ks(e)?Ur(e[0],e[1]):Br(e):du(e)}function Mr(e){if(!Eo(e))return Bt(e);var t=[];for(var n in ke(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Vr(e,t){var r=-1,i=Ws(e)?n(e.length):[];return dr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Br(e){var t=co(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Ur(e,t){return _o(e)&&So(t)?ko(jo(e),t):function(n){var r=ka(n,e);return r===i&&r===t?Ia(n,e):Pr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&vr(t,(function(s,a){if(o||(o=new Yn),ea(s))!function(e,t,n,r,o,s,a){var u=Ao(e,n),l=Ao(t,n),c=a.get(l);if(c)return void er(e,n,c);var h=s?s(u,l,n+"",e,t,a):i,d=h===i;if(d){var f=Ks(l),p=!f&&Qs(l),m=!f&&!p&&la(l);h=l,f||p||m?Ks(u)?h=u:Gs(u)?h=Ai(u):p?(d=!1,h=xi(l,!0)):m?(d=!1,h=Si(l,!0)):h=[]:ia(l)||qs(l)?(h=u,qs(u)?h=ya(u):ea(u)&&!$s(u)||(h=yo(l))):d=!1}d&&(a.set(l,h),o(h,l,r,s,a),a.delete(l));er(e,n,h)}(e,t,a,n,zr,r,o);else{var u=r?r(Ao(e,a),s,a+"",e,t,o):i;u===i&&(u=s),er(e,a,u)}}),Pa)}function qr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?Lt(t,(function(e){return Ks(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[ru];var r=-1;t=Lt(t,Zt(uo()));var i=Vr(e,(function(e,n,i){var o=Lt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var u=ki(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=xr(e,s);n(a,s)&&Zr(o,bi(s,e),a)}return o}function Wr(e,t,n,r){var i=r?Kt:qt,o=-1,s=t.length,a=e;for(e===t&&(t=Ai(t)),n&&(a=Lt(e,Zt(n)));++o<s;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&Ye.call(a,u,1),Ye.call(e,u,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ye.call(e,i,1):hi(e,i)}}return e}function Qr(e,t){return e+pt(Tn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Po(Io(e,t,ru),e+"")}function $r(e){return $n(Ba(e))}function Jr(e,t){var n=Ba(e);return Lo(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var o=-1,s=(t=bi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var l=jo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var h=u[l];(c=r?r(h,l,u):i)===i&&(c=ea(h)?h:bo(t[o+1])?[]:{})}tr(u,l,c),u=u[l]}return e}var ei=Nn?function(e,t){return Nn.set(e,t),e}:ru,ti=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:ru;function ni(e){return Lo(Ba(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ua(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return si(e,t,ru,n)}function si(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,u=null===t,l=ua(t),c=t===i;o<s;){var h=pt((o+s)/2),d=n(e[h]),f=d!==i,p=null===d,m=d===d,g=ua(d);if(a)var y=r||m;else y=c?m&&(r||f):u?m&&f&&(r||!p):l?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);y?o=h+1:s=h}return bn(s,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Bs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ui(e){return"number"==typeof e?e:ua(e)?m:+e}function li(e){if("string"==typeof e)return e;if(Ks(e))return Lt(e,li)+"";if(ua(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=Ot,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=Rt;else if(o>=200){var l=t?null:Yi(e);if(l)return dn(l);s=!1,i=tn,u=new Qn}else u=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h===h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function hi(e,t){return null==(e=Co(e,t=bi(t,e)))||delete e[jo(Xo(t))]}function di(e,t,n,r){return Zr(e,t,n(xr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Kn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=hr(s[o]||a,e[u],t,r));return ci(yr(s,1),t,r)}function gi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function yi(e){return Gs(e)?e:[]}function vi(e){return"function"==typeof e?e:ru}function bi(e,t){return Ks(e)?e:_o(e,t)?[e]:Mo(va(e))}var wi=Xr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Ti=nt||function(e){return mt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Si(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,s=ua(e),a=t!==i,u=null===t,l=t===t,c=ua(t);if(!u&&!c&&!s&&e>t||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!l)return-1}return 0}function Ii(e,t,r,i){for(var o=-1,s=e.length,a=r.length,u=-1,l=t.length,c=Qt(s-a,0),h=n(l+c),d=!i;++u<l;)h[u]=t[u];for(;++o<a;)(d||o<s)&&(h[r[o]]=e[o]);for(;c--;)h[u++]=e[o++];return h}function Ci(e,t,r,i){for(var o=-1,s=e.length,a=-1,u=r.length,l=-1,c=t.length,h=Qt(s-u,0),d=n(h+c),f=!i;++o<h;)d[o]=e[o];for(var p=o;++l<c;)d[p+l]=t[l];for(;++a<u;)(f||o<s)&&(d[p+r[a]]=e[o++]);return d}function Ai(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ni(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?or(n,u,l):tr(n,u,l)}return n}function Di(e,t){return function(n,r){var i=Ks(n)?Ct:rr,o=t?t():{};return i(n,e,uo(r,2),o)}}function Pi(e){return Xr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&wo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=ke(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}function Oi(e,t){return function(n,r){if(null==n)return n;if(!Ws(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=ke(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=ke(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=un(t=va(t))?mn(t):i,r=n?n[0]:t.charAt(0),o=n?_i(n,1).join(""):t.slice(1);return r[e]()+o}}function Mi(e){return function(t){return jt($a(qa(t).replace(et,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Fi(e){return function(t,n,r){var o=ke(t);if(!Ws(t)){var s=uo(n,3);t=Da(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Vi(e){return no((function(t){var n=t.length,r=n,s=qn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ae(o);if(s&&!u&&"wrapper"==so(a))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var l=so(a=t[r]),c="wrapper"==l?oo(a):i;u=c&&To(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==a.length&&To(a)?u[l]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ks(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Bi(e,t,r,o,s,a,u,l,c,d){var f=t&h,p=1&t,m=2&t,g=24&t,y=512&t,v=m?i:ji(e);return function h(){for(var b=arguments.length,w=n(b),_=b;_--;)w[_]=arguments[_];if(g)var T=ao(h),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,T);if(o&&(w=Ii(w,o,s,g)),a&&(w=Ci(w,a,u,g)),b-=x,g&&b<d){var E=hn(w,T);return Gi(e,t,Bi,h.placeholder,r,w,E,l,c,d-b)}var S=p?r:this,k=m?S[e]:e;return b=w.length,l?w=function(e,t){var n=e.length,r=bn(t.length,n),o=Ai(e);for(;r--;){var s=t[r];e[r]=bo(s,n)?o[s]:i}return e}(w,l):y&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==mt&&this instanceof h&&(k=v||ji(k)),k.apply(S,w)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ui(n),r=ui(r)),o=e(n,r)}return o}}function qi(e){return no((function(t){return t=Lt(t,Zt(uo())),Xr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ft(e/pn(t)));return un(t)?_i(mn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var o=-1,s=Qt(ft((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:fa(o),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Gi(e,t,n,r,o,s,a,u,h,d){var f=8&t;t|=f?l:c,4&(t&=~(f?c:l))||(t&=-4);var p=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,u,h,d],m=n.apply(i,p);return To(e)&&No(m,p),m.placeholder=r,Oo(m,e,t)}function Qi(e){var t=Se[e];return function(e,n){if(e=ga(e),(n=null==n?0:bn(pa(n),292))&&bt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=In&&1/dn(new In([,-0]))[1]==f?function(e){return new In(e)}:uu;function Xi(e){return function(t){var n=mo(t);return n==S?ln(t):n==N?fn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,s,f,p,m,g){var y=2&t;if(!y&&"function"!=typeof e)throw new Ae(o);var v=s?s.length:0;if(v||(t&=-97,s=f=i),m=m===i?m:Qt(pa(m),0),g=g===i?g:pa(g),v-=f?f.length:0,t&c){var b=s,w=f;s=f=i}var _=y?i:oo(e),T=[e,t,r,s,f,b,w,p,m,g];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ii(l,u,t[4]):u,e[4]=l?hn(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ci(l,u,t[6]):u,e[6]=l?hn(e[5],a):t[6]);(u=t[7])&&(e[7]=u);r&h&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(T,_),e=T[0],t=T[1],r=T[2],s=T[3],f=T[4],!(g=T[9]=T[9]===i?y?0:e.length:Qt(T[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==u?function(e,t,r){var o=ji(e);return function s(){for(var a=arguments.length,u=n(a),l=a,c=ao(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:hn(u,c);return(a-=h.length)<r?Gi(e,t,Bi,s.placeholder,i,u,h,i,i,r-a):It(this&&this!==mt&&this instanceof s?o:e,this,u)}}(e,t,g):t!=l&&33!=t||f.length?Bi.apply(i,T):function(e,t,r,i){var o=1&t,s=ji(e);return function t(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),d=this&&this!==mt&&this instanceof t?s:e;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return It(d,o?r:this,h)}}(e,t,r,s);else var x=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Oo((_?ei:No)(x,T),e,t)}function Ji(e,t,n,r){return e===i||Bs(e,Pe[n])&&!Le.call(r,n)?t:e}function Zi(e,t,n,r,o,s){return ea(e)&&ea(t)&&(s.set(t,e),zr(e,t,i,Zi,s),s.delete(t)),e}function eo(e){return ia(e)?i:e}function to(e,t,n,r,o,s){var a=1&n,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var d=-1,f=!0,p=2&n?new Qn:i;for(s.set(e,t),s.set(t,e);++d<u;){var m=e[d],g=t[d];if(r)var y=a?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(y!==i){if(y)continue;f=!1;break}if(p){if(!Vt(t,(function(e,t){if(!tn(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function no(e){return Po(Io(e,i,Ho),e+"")}function ro(e){return Er(e,Da,fo)}function io(e){return Er(e,Pa,po)}var oo=Nn?function(e){return Nn.get(e)}:uu;function so(e){for(var t=e.name+"",n=Dn[t],r=Le.call(Dn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ao(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function uo(){var e=Bn.iteratee||iu;return e=e===iu?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function co(e){for(var t=Da(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,So(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var fo=gt?function(e){return null==e?[]:(e=ke(e),Pt(gt(e),(function(t){return Qe.call(e,t)})))}:mu,po=gt?function(e){for(var t=[];e;)Mt(t,fo(e)),e=We(e);return t}:mu,mo=Sr;function go(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var s=jo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Zs(i)&&bo(s,i)&&(Ks(e)||qs(e))}function yo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Un(We(e))}function vo(e){return Ks(e)||qs(e)||!!(Xe&&e&&e[Xe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ws(n)&&bo(t,n.length):"string"==r&&t in n)&&Bs(n[t],e)}function _o(e,t){if(Ks(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ua(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function To(e){var t=so(e),n=Bn[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(En&&mo(new En(new ArrayBuffer(1)))!=L||Sn&&mo(new Sn)!=S||kn&&mo(kn.resolve())!=C||In&&mo(new In)!=N||Cn&&mo(new Cn)!=O)&&(mo=function(e){var t=Sr(e),n=t==I?e.constructor:i,r=n?Fo(n):"";if(r)switch(r){case Pn:return L;case On:return S;case Rn:return C;case Ln:return N;case Mn:return O}return t});var xo=Oe?$s:gu;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function So(e){return e===e&&!ea(e)}function ko(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ke(n)))}}function Io(e,t,r){return t=Qt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Qt(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(a),It(e,this,u)}}function Co(e,t){return t.length<2?e:xr(e,ri(t,0,-1))}function Ao(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var No=Ro(ei),Do=ct||function(e,t){return mt.setTimeout(e,t)},Po=Ro(ti);function Oo(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(y,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Lo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Mo=function(e){var t=Rs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return Re.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof Kn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Xr((function(e,t){return Gs(e)?hr(e,yr(t,1,Gs,!0)):[]})),Uo=Xr((function(e,t){var n=Xo(t);return Gs(n)&&(n=i),Gs(e)?hr(e,yr(t,1,Gs,!0),uo(n,2)):[]})),zo=Xr((function(e,t){var n=Xo(t);return Gs(n)&&(n=i),Gs(e)?hr(e,yr(t,1,Gs,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),zt(e,uo(t,3),i)}function Ko(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?Qt(r+o,0):bn(o,r-1)),zt(e,uo(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?yr(e,1):[]}function Wo(e){return e&&e.length?e[0]:i}var Go=Xr((function(e){var t=Lt(e,yi);return t.length&&t[0]===e[0]?Ar(t):[]})),Qo=Xr((function(e){var t=Xo(e),n=Lt(e,yi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,uo(t,2)):[]})),Yo=Xr((function(e){var t=Xo(e),n=Lt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Xr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Zo=no((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Lt(t,(function(e){return bo(e,n)?+e:e})).sort(ki)),r}));function es(e){return null==e?e:xn.call(e)}var ts=Xr((function(e){return ci(yr(e,1,Gs,!0))})),ns=Xr((function(e){var t=Xo(e);return Gs(t)&&(t=i),ci(yr(e,1,Gs,!0),uo(t,2))})),rs=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,ci(yr(e,1,Gs,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Gs(e))return t=Qt(e.length,t),!0})),$t(t,(function(t){return Lt(e,Gt(t))}))}function os(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:Lt(n,(function(e){return It(t,i,e)}))}var ss=Xr((function(e,t){return Gs(e)?hr(e,t):[]})),as=Xr((function(e){return mi(Pt(e,Gs))})),us=Xr((function(e){var t=Xo(e);return Gs(t)&&(t=i),mi(Pt(e,Gs),uo(t,2))})),ls=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,mi(Pt(e,Gs),i,t)})),cs=Xr(is);var hs=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,os(e,n)}));function ds(e){var t=Bn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ps=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ms=Di((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var gs=Fi(qo),ys=Fi(Ko);function vs(e,t){return(Ks(e)?At:dr)(e,uo(t,3))}function bs(e,t){return(Ks(e)?Nt:fr)(e,uo(t,3))}var ws=Di((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var _s=Xr((function(e,t,r){var i=-1,o="function"==typeof t,s=Ws(e)?n(e.length):[];return dr(e,(function(e){s[++i]=o?It(t,e,r):Nr(e,t,r)})),s})),Ts=Di((function(e,t,n){or(e,n,t)}));function xs(e,t){return(Ks(e)?Lt:Vr)(e,uo(t,3))}var Es=Di((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ss=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,yr(t,1),[])})),ks=it||function(){return mt.Date.now()};function Is(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,h,i,i,i,i,t)}function Cs(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var As=Xr((function(e,t,n){var r=1;if(n.length){var i=hn(n,ao(As));r|=l}return $i(e,r,t,n,i)})),Ns=Xr((function(e,t,n){var r=3;if(n.length){var i=hn(n,ao(Ns));r|=l}return $i(t,r,e,n,i)}));function Ds(e,t,n){var r,s,a,u,l,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ae(o);function m(t){var n=r,o=s;return r=s=i,h=t,u=e.apply(o,n)}function g(e){var n=e-c;return c===i||n>=t||n<0||f&&e-h>=a}function y(){var e=ks();if(g(e))return v(e);l=Do(y,function(e){var n=t-(e-c);return f?bn(n,a-(e-h)):n}(e))}function v(e){return l=i,p&&r?m(e):(r=s=i,u)}function b(){var e=ks(),n=g(e);if(r=arguments,s=this,c=e,n){if(l===i)return function(e){return h=e,l=Do(y,t),d?m(e):u}(c);if(f)return Ti(l),l=Do(y,t),m(c)}return l===i&&(l=Do(y,t)),u}return t=ga(t)||0,ea(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Qt(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&Ti(l),h=0,r=c=s=l=i},b.flush=function(){return l===i?u:v(ks())},b}var Ps=Xr((function(e,t){return cr(e,1,t)})),Os=Xr((function(e,t,n){return cr(e,ga(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Gn),n}function Ls(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Gn;var Ms=wi((function(e,t){var n=(t=1==t.length&&Ks(t[0])?Lt(t[0],Zt(uo())):Lt(yr(t,1),Zt(uo()))).length;return Xr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),js=Xr((function(e,t){var n=hn(t,ao(js));return $i(e,l,i,t,n)})),Fs=Xr((function(e,t){var n=hn(t,ao(Fs));return $i(e,c,i,t,n)})),Vs=no((function(e,t){return $i(e,d,i,i,i,t)}));function Bs(e,t){return e===t||e!==e&&t!==t}var Us=Wi(kr),zs=Wi((function(e,t){return e>=t})),qs=Dr(function(){return arguments}())?Dr:function(e){return ta(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Ks=n.isArray,Hs=_t?Zt(_t):function(e){return ta(e)&&Sr(e)==R};function Ws(e){return null!=e&&Zs(e.length)&&!$s(e)}function Gs(e){return ta(e)&&Ws(e)}var Qs=yt||gu,Ys=Tt?Zt(Tt):function(e){return ta(e)&&Sr(e)==_};function Xs(e){if(!ta(e))return!1;var t=Sr(e);return t==T||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function $s(e){if(!ea(e))return!1;var t=Sr(e);return t==x||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==pa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=xt?Zt(xt):function(e){return ta(e)&&mo(e)==S};function ra(e){return"number"==typeof e||ta(e)&&Sr(e)==k}function ia(e){if(!ta(e)||Sr(e)!=I)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Ve}var oa=Et?Zt(Et):function(e){return ta(e)&&Sr(e)==A};var sa=St?Zt(St):function(e){return ta(e)&&mo(e)==N};function aa(e){return"string"==typeof e||!Ks(e)&&ta(e)&&Sr(e)==D}function ua(e){return"symbol"==typeof e||ta(e)&&Sr(e)==P}var la=kt?Zt(kt):function(e){return ta(e)&&Zs(e.length)&&!!ut[Sr(e)]};var ca=Wi(Fr),ha=Wi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ws(e))return aa(e)?mn(e):Ai(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=mo(e);return(t==S?ln:t==N?dn:Ba)(e)}function fa(e){return e?(e=ga(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t===t?n?t-n:t:0}function ma(e){return e?ar(pa(e),0,g):0}function ga(e){if("number"==typeof e)return e;if(ua(e))return m;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ye.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?m:+e}function ya(e){return Ni(e,Pa(e))}function va(e){return null==e?"":li(e)}var ba=Pi((function(e,t){if(Eo(t)||Ws(t))Ni(t,Da(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),wa=Pi((function(e,t){Ni(t,Pa(t),e)})),_a=Pi((function(e,t,n,r){Ni(t,Pa(t),e,r)})),Ta=Pi((function(e,t,n,r){Ni(t,Da(t),e,r)})),xa=no(sr);var Ea=Xr((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Pa(s),u=-1,l=a.length;++u<l;){var c=a[u],h=e[c];(h===i||Bs(h,Pe[c])&&!Le.call(e,c))&&(e[c]=s[c])}return e})),Sa=Xr((function(e){return e.push(i,Zi),It(Ra,i,e)}));function ka(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function Ia(e,t){return null!=e&&go(e,t,Cr)}var Ca=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),eu(ru)),Aa=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Na=Xr(Nr);function Da(e){return Ws(e)?Xn(e):Mr(e)}function Pa(e){return Ws(e)?Xn(e,!0):jr(e)}var Oa=Pi((function(e,t,n){zr(e,t,n)})),Ra=Pi((function(e,t,n,r){zr(e,t,n,r)})),La=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ni(e,io(e),n),r&&(n=ur(n,7,eo));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ma=no((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ia(e,n)}))}(e,t)}));function ja(e,t){if(null==e)return{};var n=Lt(io(e),(function(e){return[e]}));return t=uo(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Fa=Xi(Da),Va=Xi(Pa);function Ba(e){return null==e?[]:en(e,Da(e))}var Ua=Mi((function(e,t,n){return t=t.toLowerCase(),e+(n?za(t):t)}));function za(e){return Xa(va(e).toLowerCase())}function qa(e){return(e=va(e))&&e.replace(_e,on).replace(tt,"")}var Ka=Mi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Mi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wa=Li("toLowerCase");var Ga=Mi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qa=Mi((function(e,t,n){return e+(n?" ":"")+Xa(t)}));var Ya=Mi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Li("toUpperCase");function $a(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Ja=Xr((function(e,t){try{return It(e,i,t)}catch(n){return Xs(n)?n:new ae(n)}})),Za=no((function(e,t){return At(t,(function(t){t=jo(t),or(e,t,As(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Vi(),nu=Vi(!0);function ru(e){return e}function iu(e){return Lr("function"==typeof e?e:ur(e,1))}var ou=Xr((function(e,t){return function(n){return Nr(n,e,t)}})),su=Xr((function(e,t){return function(n){return Nr(e,n,t)}}));function au(e,t,n){var r=Da(t),i=Tr(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Tr(t,Da(t)));var o=!(ea(n)&&"chain"in n)||!!n.chain,s=$s(e);return At(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ai(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function uu(){}var lu=qi(Lt),cu=qi(Dt),hu=qi(Vt);function du(e){return _o(e)?Gt(jo(e)):function(e){return function(t){return xr(t,e)}}(e)}var fu=Hi(),pu=Hi(!0);function mu(){return[]}function gu(){return!1}var yu=zi((function(e,t){return e+t}),0),vu=Qi("ceil"),bu=zi((function(e,t){return e/t}),1),wu=Qi("floor");var _u=zi((function(e,t){return e*t}),1),Tu=Qi("round"),xu=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Is,Bn.assign=ba,Bn.assignIn=wa,Bn.assignInWith=_a,Bn.assignWith=Ta,Bn.at=xa,Bn.before=Cs,Bn.bind=As,Bn.bindAll=Za,Bn.bindKey=Ns,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ks(e)?e:[e]},Bn.chain=ds,Bn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:Qt(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=n(ft(o/t));s<o;)u[a++]=ri(e,s,s+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Ks(r)?Ai(r):[r],yr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Da(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Bn.constant=eu,Bn.countBy=ms,Bn.create=function(e,t){var n=Un(e);return null==t?n:ir(n,t)},Bn.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=$i(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=Ds,Bn.defaults=Ea,Bn.defaultsDeep=Sa,Bn.defer=Ps,Bn.delay=Os,Bn.difference=Bo,Bn.differenceBy=Uo,Bn.differenceWith=zo,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ks(e)?Pt:gr)(e,uo(t,3))},Bn.flatMap=function(e,t){return yr(xs(e,t),1)},Bn.flatMapDeep=function(e,t){return yr(xs(e,t),f)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),yr(xs(e,t),n)},Bn.flatten=Ho,Bn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:pa(t)):[]},Bn.flip=function(e){return $i(e,512)},Bn.flow=tu,Bn.flowRight=nu,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:Tr(e,Da(e))},Bn.functionsIn=function(e){return null==e?[]:Tr(e,Pa(e))},Bn.groupBy=ws,Bn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Bn.intersection=Go,Bn.intersectionBy=Qo,Bn.intersectionWith=Yo,Bn.invert=Ca,Bn.invertBy=Aa,Bn.invokeMap=_s,Bn.iteratee=iu,Bn.keyBy=Ts,Bn.keys=Da,Bn.keysIn=Pa,Bn.map=xs,Bn.mapKeys=function(e,t){var n={};return t=uo(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=uo(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(ur(e,1))},Bn.matchesProperty=function(e,t){return Ur(e,ur(t,1))},Bn.memoize=Rs,Bn.merge=Oa,Bn.mergeWith=Ra,Bn.method=ou,Bn.methodOf=su,Bn.mixin=au,Bn.negate=Ls,Bn.nthArg=function(e){return e=pa(e),Xr((function(t){return qr(t,e)}))},Bn.omit=La,Bn.omitBy=function(e,t){return ja(e,Ls(uo(t)))},Bn.once=function(e){return Cs(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ks(t)||(t=null==t?[]:[t]),Ks(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Bn.over=lu,Bn.overArgs=Ms,Bn.overEvery=cu,Bn.overSome=hu,Bn.partial=js,Bn.partialRight=Fs,Bn.partition=Es,Bn.pick=Ma,Bn.pickBy=ja,Bn.property=du,Bn.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Bn.pull=$o,Bn.pullAll=Jo,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,uo(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},Bn.pullAt=Zo,Bn.range=fu,Bn.rangeRight=pu,Bn.rearg=Vs,Bn.reject=function(e,t){return(Ks(e)?Pt:gr)(e,Ls(uo(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Gr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Xr(e,t=t===i?t:pa(t))},Bn.reverse=es,Bn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:pa(t),(Ks(e)?Jn:Jr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},Bn.shuffle=function(e){return(Ks(e)?Zn:ni)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},Bn.sortBy=Ss,Bn.sortedUniq=function(e){return e&&e.length?ai(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?ai(e,uo(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=li(t))&&un(e)?_i(mn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:Qt(pa(t),0),Xr((function(n){var r=n[t],i=_i(n,0,t);return r&&Mt(i,r),It(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fi(e,uo(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ds(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=fs,Bn.toArray=da,Bn.toPairs=Fa,Bn.toPairsIn=Va,Bn.toPath=function(e){return Ks(e)?Lt(e,jo):ua(e)?[e]:Ai(Mo(va(e)))},Bn.toPlainObject=ya,Bn.transform=function(e,t,n){var r=Ks(e),i=r||Qs(e)||la(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ea(e)&&$s(o)?Un(We(e)):{}}return(i?At:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Is(e,1)},Bn.union=ts,Bn.unionBy=ns,Bn.unionWith=rs,Bn.uniq=function(e){return e&&e.length?ci(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=is,Bn.unzipWith=os,Bn.update=function(e,t,n){return null==e?e:di(e,t,vi(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,vi(n),r)},Bn.values=Ba,Bn.valuesIn=function(e){return null==e?[]:en(e,Pa(e))},Bn.without=ss,Bn.words=$a,Bn.wrap=function(e,t){return js(vi(t),e)},Bn.xor=as,Bn.xorBy=us,Bn.xorWith=ls,Bn.zip=cs,Bn.zipObject=function(e,t){return gi(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return gi(e||[],t||[],Zr)},Bn.zipWith=hs,Bn.entries=Fa,Bn.entriesIn=Va,Bn.extend=wa,Bn.extendWith=_a,au(Bn,Bn),Bn.add=yu,Bn.attempt=Ja,Bn.camelCase=Ua,Bn.capitalize=za,Bn.ceil=vu,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))===n?n:0),t!==i&&(t=(t=ga(t))===t?t:0),ar(ga(e),t,n)},Bn.clone=function(e){return ur(e,4)},Bn.cloneDeep=function(e){return ur(e,5)},Bn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Da(t))},Bn.deburr=qa,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=bu,Bn.endsWith=function(e,t,n){e=va(e),t=li(t);var r=e.length,o=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=Bs,Bn.escape=function(e){return(e=va(e))&&$.test(e)?e.replace(Y,sn):e},Bn.escapeRegExp=function(e){return(e=va(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ks(e)?Dt:pr;return n&&wo(e,t,n)&&(t=i),r(e,uo(t,3))},Bn.find=gs,Bn.findIndex=qo,Bn.findKey=function(e,t){return Ut(e,uo(t,3),wr)},Bn.findLast=ys,Bn.findLastIndex=Ko,Bn.findLastKey=function(e,t){return Ut(e,uo(t,3),_r)},Bn.floor=wu,Bn.forEach=vs,Bn.forEachRight=bs,Bn.forIn=function(e,t){return null==e?e:vr(e,uo(t,3),Pa)},Bn.forInRight=function(e,t){return null==e?e:br(e,uo(t,3),Pa)},Bn.forOwn=function(e,t){return e&&wr(e,uo(t,3))},Bn.forOwnRight=function(e,t){return e&&_r(e,uo(t,3))},Bn.get=ka,Bn.gt=Us,Bn.gte=zs,Bn.has=function(e,t){return null!=e&&go(e,t,Ir)},Bn.hasIn=Ia,Bn.head=Wo,Bn.identity=ru,Bn.includes=function(e,t,n,r){e=Ws(e)?e:Ba(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=Qt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&qt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),qt(e,t,i)},Bn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=bn(t,n)&&e<Qt(t,n)}(e=ga(e),t,n)},Bn.invoke=Na,Bn.isArguments=qs,Bn.isArray=Ks,Bn.isArrayBuffer=Hs,Bn.isArrayLike=Ws,Bn.isArrayLikeObject=Gs,Bn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Sr(e)==w},Bn.isBuffer=Qs,Bn.isDate=Ys,Bn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ws(e)&&(Ks(e)||"string"==typeof e||"function"==typeof e.splice||Qs(e)||la(e)||qs(e)))return!e.length;var t=mo(e);if(t==S||t==N)return!e.size;if(Eo(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Bn.isError=Xs,Bn.isFinite=function(e){return"number"==typeof e&&bt(e)},Bn.isFunction=$s,Bn.isInteger=Js,Bn.isLength=Zs,Bn.isMap=na,Bn.isMatch=function(e,t){return e===t||Or(e,t,co(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,co(t),n)},Bn.isNaN=function(e){return ra(e)&&e!=+e},Bn.isNative=function(e){if(xo(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ra,Bn.isObject=ea,Bn.isObjectLike=ta,Bn.isPlainObject=ia,Bn.isRegExp=oa,Bn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=sa,Bn.isString=aa,Bn.isSymbol=ua,Bn.isTypedArray=la,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ta(e)&&mo(e)==O},Bn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":wt.call(e,t)},Bn.kebabCase=Ka,Bn.last=Xo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?Qt(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Ht,o,!0)},Bn.lowerCase=Ha,Bn.lowerFirst=Wa,Bn.lt=ca,Bn.lte=ha,Bn.max=function(e){return e&&e.length?mr(e,ru,kr):i},Bn.maxBy=function(e,t){return e&&e.length?mr(e,uo(t,2),kr):i},Bn.mean=function(e){return Wt(e,ru)},Bn.meanBy=function(e,t){return Wt(e,uo(t,2))},Bn.min=function(e){return e&&e.length?mr(e,ru,Fr):i},Bn.minBy=function(e,t){return e&&e.length?mr(e,uo(t,2),Fr):i},Bn.stubArray=mu,Bn.stubFalse=gu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=_u,Bn.nth=function(e,t){return e&&e.length?qr(e,pa(t)):i},Bn.noConflict=function(){return mt._===this&&(mt._=Be),this},Bn.noop=uu,Bn.now=ks,Bn.pad=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(pt(i),n)+e+Ki(ft(i),n)},Bn.padEnd=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Ki(t-r,n):e},Bn.padStart=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Ki(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(va(e).replace(se,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Tn();return bn(e+o*(t-e+ht("1e-"+((o+"").length-1))),t)}return Qr(e,t)},Bn.reduce=function(e,t,n){var r=Ks(e)?jt:Yt,i=arguments.length<3;return r(e,uo(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ks(e)?Ft:Yt,i=arguments.length<3;return r(e,uo(t,4),n,i,fr)},Bn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:pa(t),Yr(va(e),t)},Bn.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[jo(t[r])];s===i&&(r=o,s=n),e=$s(s)?s.call(e):s}return e},Bn.round=Tu,Bn.runInContext=e,Bn.sample=function(e){return(Ks(e)?$n:$r)(e)},Bn.size=function(e){if(null==e)return 0;if(Ws(e))return aa(e)?pn(e):e.length;var t=mo(e);return t==S||t==N?e.size:Mr(e).length},Bn.snakeCase=Ga,Bn.some=function(e,t,n){var r=Ks(e)?Vt:ii;return n&&wo(e,t,n)&&(t=i),r(e,uo(t,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return si(e,t,uo(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Bs(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return si(e,t,uo(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Bs(e[n],t))return n}return-1},Bn.startCase=Qa,Bn.startsWith=function(e,t,n){return e=va(e),n=null==n?0:ar(pa(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=xu,Bn.sum=function(e){return e&&e.length?Xt(e,ru):0},Bn.sumBy=function(e,t){return e&&e.length?Xt(e,uo(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&wo(e,t,n)&&(t=i),e=va(e),t=_a({},t,r,Ji);var o,s,a=_a({},t.imports,r.imports,Ji),u=Da(a),l=en(a,u),c=0,h=t.interpolate||Te,d="__p += '",f=Ie((t.escape||Te).source+"|"+h.source+"|"+(h===ee?pe:Te).source+"|"+(t.evaluate||Te).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,r,i,a,u){return r||(r=i),d+=e.slice(c,u).replace(xe,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new ae("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(H,""):d).replace(W,"$1").replace(G,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ja((function(){return Ee(u,p+"return "+d).apply(i,l)}));if(g.source=d,Xs(g))throw g;return g},Bn.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=g,r=bn(e,g);t=uo(t),e-=g;for(var i=$t(r,t);++n<e;)t(n);return i},Bn.toFinite=fa,Bn.toInteger=pa,Bn.toLength=ma,Bn.toLower=function(e){return va(e).toLowerCase()},Bn.toNumber=ga,Bn.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},Bn.toString=va,Bn.toUpper=function(e){return va(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Jt(e);if(!e||!(t=li(t)))return e;var r=mn(e),o=mn(t);return _i(r,nn(r,o),rn(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=li(t)))return e;var r=mn(e);return _i(r,0,rn(r,mn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=li(t)))return e;var r=mn(e);return _i(r,nn(r,mn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var o="separator"in t?t.separator:o;n="length"in t?pa(t.length):n,r="omission"in t?li(t.omission):r}var s=(e=va(e)).length;if(un(e)){var a=mn(e);s=a.length}if(n>=s)return e;var u=n-pn(r);if(u<1)return r;var l=a?_i(a,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(a&&(u+=l.length-u),oa(o)){if(e.slice(u).search(o)){var c,h=l;for(o.global||(o=Ie(o.source,va(me.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;l=l.slice(0,d===i?u:d)}}else if(e.indexOf(li(o),u)!=u){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+r},Bn.unescape=function(e){return(e=va(e))&&X.test(e)?e.replace(Q,yn):e},Bn.uniqueId=function(e){var t=++Me;return va(e)+t},Bn.upperCase=Ya,Bn.upperFirst=Xa,Bn.each=vs,Bn.eachRight=bs,Bn.first=Wo,au(Bn,function(){var e={};return wr(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),At(["drop","take"],(function(e,t){Kn.prototype[e]=function(n){n=n===i?1:Qt(pa(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(ru)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return Nr(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(Ls(uo(e)))},Kn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(g)},wr(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof Kn,l=a[0],c=u||Ks(t),h=function(e){var t=o.apply(Bn,Mt([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,m=u&&!f;if(!s&&c){t=m?t:new Kn(this);var g=e.apply(t,a);return g.__actions__.push({func:fs,args:[h],thisArg:i}),new qn(g,d)}return p&&m?e.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ks(i)?i:[],e)}return this[n]((function(n){return t.apply(Ks(n)?n:[],e)}))}})),wr(Kn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:t,func:n})}})),Dn[Bi(i,2).name]=[{name:"wrapper",func:i}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ks(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=Qt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=bn(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&d<f;){for(var m=-1,g=e[l+=t];++m<h;){var y=c[m],v=y.iteratee,b=y.type,w=v(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[d++]=g}return p},Bn.prototype.at=ps,Bn.prototype.chain=function(){return ds(this)},Bn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Vo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[es],thisArg:i}),new qn(t,this.__chain__)}return this.thru(es)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,$e&&(Bn.prototype[$e]=function(){return this}),Bn}();mt._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in o=Object(arguments[u]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,s){var a=i||"<<anonymous>>",u=s||r;if(null==n[r])return t?new Error("Required "+o+" `"+u+"` was not specified in `"+a+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];return e.apply(void 0,[n,r,a,o,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),o=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,h=null,d={onError:function(e){u=!0,l=e}};function f(e,t,n,r,i,o,s,c,h){u=!1,l=null,a.apply(d,arguments)}var p=null,m=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,a,d,p){if(f.apply(this,arguments),u){if(!u)throw Error(s(198));var m=l;u=!1,l=null,c||(c=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}var v=null,b={};function w(){if(v)for(var e in b){var t=b[e],n=v.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!T[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in T[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,u=r;if(x.hasOwnProperty(u))throw Error(s(99,u));x[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],a,u);i=!0}else o.registrationName?(_(o.registrationName,a,u),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function _(e,t,n){if(E[e])throw Error(s(100,e));E[e]=t,S[e]=t.eventTypes[n].dependencies}var T=[],x={},E={},S={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(s(102,t));b[t]=r,n=!0}}n&&w()}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,N=null;function D(e){if(e=m(e)){if("function"!==typeof C)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function P(e){A?N?N.push(e):N=[e]:A=e}function O(){if(A){var e=A,t=N;if(N=A=null,D(e),t)for(e=0;e<t.length;e++)D(t[e])}}function R(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function M(){}var j=R,F=!1,V=!1;function B(){null===A&&null===N||(M(),O())}function U(e,t,n){if(V)return e(t,n);V=!0;try{return j(e,t,n)}finally{V=!1,B()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,K={},H={};function W(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Y);G[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Y);G[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Y);G[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(H,e)||!q.call(K,e)&&(z.test(e)?H[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,se=Z?Symbol.for("react.context"):60110,ae=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,he=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,fe=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case fe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Se(e,t){Ee(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Pe(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ve,Be=(Ve=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ve(e,t)}))}:Ve);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ke={},He={};function We(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Ke[e]=n[t];return e}I&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=We("animationend"),Qe=We("animationiteration"),Ye=We("animationstart"),Xe=We("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(st=it(st,e)),e=st,st=null,e){if(ot(e,at),st)throw Error(s(95));if(c)throw e=h,c=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!I)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function ft(e,t,n,r){if(ht.length){var i=ht.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<T.length;u++){var l=T[u];l&&(l=l.extractEvents(r,t,o,i,s))&&(a=it(a,l))}ut(a)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var gt,yt,vt,bt=!1,wt=[],_t=null,Tt=null,xt=null,Et=new Map,St=new Map,kt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=At(t,n,r,i,o),null!==t&&(null!==(t=Rn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=On(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Rn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Ot(e)&&n.delete(t)}function Lt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Rn(e.blockedOn))&&gt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==_t&&Ot(_t)&&(_t=null),null!==Tt&&Ot(Tt)&&(Tt=null),null!==xt&&Ot(xt)&&(xt=null),Et.forEach(Rt),St.forEach(Rt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function jt(e){function t(t){return Mt(t,e)}if(0<wt.length){Mt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==Tt&&Mt(Tt,e),null!==xt&&Mt(xt,e),Et.forEach(t),St.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Pt(n),null===n.blockedOn&&kt.shift()}var Ft={},Vt=new Map,Bt=new Map,Ut=["abort","abort",Ge,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Vt.set(r,o),Ft[i]=o}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Ut,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)Bt.set(qt[Kt],0);var Ht=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||M();var i=Jt,o=F;F=!0;try{L(i,e,t,n,r)}finally{(F=o)||B()}}function $t(e,t,n,r){Wt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Gt)if(0<wt.length&&-1<It.indexOf(e))e=At(null,e,t,n,r),wt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<It.indexOf(e))e=At(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Dt(_t,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return xt=Dt(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Et.set(o,Dt(Et.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,St.set(o,Dt(St.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=ft(e,r,null,t);try{U(pt,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=On(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{U(pt,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Re;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function cn(){}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=hn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=hn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$",vn="/$",bn="$?",wn="$!",_n=null,Tn=null;function xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function En(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sn="function"===typeof setTimeout?setTimeout:void 0,kn="function"===typeof clearTimeout?clearTimeout:void 0;function In(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn||n===wn||n===bn){if(0===t)return e;t--}else n===vn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Nn="__reactInternalInstance$"+An,Dn="__reactEventHandlers$"+An,Pn="__reactContainere$"+An;function On(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[Nn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Nn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Rn(e){return!(e=e[Nn]||e[Pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Mn(e){return e[Dn]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}function Vn(e,t,n){(t=Fn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)Vn(n[t],"captured",e);for(t=0;t<n.length;t++)Vn(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Fn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function qn(e){ot(e,Bn)}var Kn=null,Hn=null,Wn=null;function Gn(){if(Wn)return Wn;var e,t,n=Hn,r=n.length,i="value"in Kn?Kn.value:Kn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Wn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Yn(){return!1}function Xn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Yn,this.isPropagationStopped=Yn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=$n,e.release=Jn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Xn);var er=Xn.extend({data:null}),tr=Xn.extend({data:null}),nr=[9,13,27,32],rr=I&&"CompositionEvent"in window,ir=null;I&&"documentMode"in document&&(ir=document.documentMode);var or=I&&"TextEvent"in window&&!ir,sr=I&&(!rr||ir&&8<ir&&11>=ir),ar=String.fromCharCode(32),ur={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function cr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var fr={eventTypes:ur,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var o=ur.compositionStart;break e;case"compositionend":o=ur.compositionEnd;break e;case"compositionupdate":o=ur.compositionUpdate;break e}o=void 0}else dr?cr(e,n)&&(o=ur.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ur.compositionStart);return o?(sr&&"ko"!==n.locale&&(dr||o!==ur.compositionStart?o===ur.compositionEnd&&dr&&(i=Gn()):(Hn="value"in(Kn=r)?Kn.value:Kn.textContent,dr=!0)),o=er.getPooled(o,t,n,r),i?o.data=i:null!==(i=hr(n))&&(o.data=i),qn(o),i=o):i=null,(e=or?function(e,t){switch(e){case"compositionend":return hr(t);case"keypress":return 32!==t.which?null:(lr=!0,ar);case"textInput":return(e=t.data)===ar&&lr?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&cr(e,t)?(e=Gn(),Wn=Hn=Kn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sr&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(ur.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Xn.getPooled(gr.change,e,t,n)).type="change",P(n),qn(e),e}var vr=null,br=null;function wr(e){ut(e)}function _r(e){if(_e(Ln(e)))return e}function Tr(e,t){if("change"===e)return t}var xr=!1;function Er(){vr&&(vr.detachEvent("onpropertychange",Sr),br=vr=null)}function Sr(e){if("value"===e.propertyName&&_r(br))if(e=yr(br,e,lt(e)),F)ut(e);else{F=!0;try{R(wr,e)}finally{F=!1,B()}}}function kr(e,t,n){"focus"===e?(Er(),br=n,(vr=t).attachEvent("onpropertychange",Sr)):"blur"===e&&Er()}function Ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(br)}function Cr(e,t){if("click"===e)return _r(t)}function Ar(e,t){if("input"===e||"change"===e)return _r(t)}I&&(xr=ct("input")&&(!document.documentMode||9<document.documentMode));var Nr={eventTypes:gr,_isInputEventSupported:xr,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=Tr;else if(mr(i))if(xr)s=Ar;else{s=Ir;var a=kr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Cr);if(s&&(s=s(e,t)))return yr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Dr=Xn.extend({view:null,detail:null}),Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pr[e])&&!!t[e]}function Rr(){return Or}var Lr=0,Mr=0,jr=!1,Fr=!1,Vr=Dr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,jr?"mousemove"===e.type?e.screenX-t:0:(jr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Fr?"mousemove"===e.type?e.screenY-t:0:(Fr=!0,0)}}),Br=Vr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Vr,u=Ur.mouseLeave,l=Ur.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Br,u=Ur.pointerLeave,l=Ur.pointerEnter,c="pointer");if(e=null==s?o:Ln(s),o=null==t?o:Ln(t),(u=a.getPooled(u,s,n,r)).type=c+"leave",u.target=e,u.relatedTarget=o,(n=a.getPooled(l,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=s)&&c)e:{for(l=c,s=0,e=a=r;e;e=jn(e))s++;for(e=0,t=l;t;t=jn(t))e++;for(;0<s-e;)a=jn(a),s--;for(;0<e-s;)l=jn(l),e--;for(;s--;){if(a===l||a===l.alternate)break e;a=jn(a),l=jn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=jn(r);for(r=[];c&&c!==l&&(null===(s=c.alternate)||s!==l);)r.push(c),c=jn(c);for(c=0;c<a.length;c++)Un(a[c],"bubbled",u);for(c=r.length;0<c--;)Un(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kr=Object.prototype.hasOwnProperty;function Hr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Wr=I&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Yr=null,Xr=null,$r=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Qr||Qr!==hn(n)?null:("selectionStart"in(n=Qr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Hr(Xr,n)?null:(Xr=n,(e=Xn.getPooled(Gr.select,Yr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=S.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Ln(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&(Qr=i,Yr=t,Xr=null);break;case"blur":Xr=Yr=Qr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Jr(n,r);case"selectionchange":if(Wr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Xn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Dr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},si=Dr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?oi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Vr.extend({dataTransfer:null}),ui=Dr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rr}),li=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=Vr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),hi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Vt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=si;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ui;break;case Ge:case Qe:case Ye:e=ei;break;case Xe:e=li;break;case"scroll":e=Dr;break;case"wheel":e=ci;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Br;break;default:e=Xn}return qn(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(s(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Mn,m=Rn,g=Ln,k({SimpleEventPlugin:hi,EnterLeaveEventPlugin:zr,ChangeEventPlugin:Nr,SelectEventPlugin:Zr,BeforeInputEventPlugin:fr});var di=[],fi=-1;function pi(e){0>fi||(e.current=di[fi],di[fi]=null,fi--)}function mi(e,t){fi++,di[fi]=e.current,e.current=t}var gi={},yi={current:gi},vi={current:!1},bi=gi;function wi(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ti(){pi(vi),pi(yi)}function xi(e,t,n){if(yi.current!==gi)throw Error(s(168));mi(yi,t),mi(vi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,ge(t)||"Unknown",o));return i({},n,{},r)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,bi=yi.current,mi(yi,e),mi(vi,vi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ei(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,pi(vi),pi(yi),mi(yi,e)):pi(vi),mi(vi,n)}var Ii=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Ni=o.unstable_requestPaint,Di=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Fi={},Vi=o.unstable_shouldYield,Bi=void 0!==Ni?Ni:function(){},Ui=null,zi=null,qi=!1,Ki=Di(),Hi=1e4>Ki?Di:function(){return Di()-Ki};function Wi(){switch(Pi()){case Oi:return 99;case Ri:return 98;case Li:return 97;case Mi:return 96;case ji:return 95;default:throw Error(s(332))}}function Gi(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Li;case 96:return Mi;case 95:return ji;default:throw Error(s(332))}}function Qi(e,t){return e=Gi(e),Ii(e,t)}function Yi(e,t,n){return e=Gi(e),Ci(e,t,n)}function Xi(e){return null===Ui?(Ui=[e],zi=Ci(Oi,Ji)):Ui.push(e),Fi}function $i(){if(null!==zi){var e=zi;zi=null,Ai(e)}Ji()}function Ji(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ci(Oi,$i),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function eo(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var to={current:null},no=null,ro=null,io=null;function oo(){io=ro=no=null}function so(e){var t=to.current;pi(to),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function uo(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ms=!0),e.firstContext=null)}function lo(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(s(308));ro=t,no.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var co=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function po(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function go(e,t){var n=e.alternate;null!==n&&fo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function yo(e,t,n,r){var o=e.updateQueue;co=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var l=o.baseState,c=0,h=null,d=null,f=null;if(null!==u)for(var p=u;;){if((a=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,h=l):f=f.next=m,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Tu(a,p.suspenseConfig);e:{var g=e,y=p;switch(a=t,m=n,y.tag){case 1:if("function"===typeof(g=y.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=y.payload)?g.call(m,l,a):g)||void 0===a)break e;l=i({},l,a);break e;case 2:co=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===u){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=u,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=l:f.next=d,o.baseState=h,o.baseQueue=f,xu(c),e.expirationTime=c,e.memoizedState=l}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var bo=X.ReactCurrentBatchConfig,wo=(new r.Component).refs;function _o(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=lu(),i=bo.suspense;(i=po(r=cu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),hu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=lu(),i=bo.suspense;(i=po(r=cu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),hu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=lu(),r=bo.suspense;(r=po(n=cu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mo(e,r),hu(e,n)}};function xo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Hr(n,r)||!Hr(i,o))}function Eo(e,t,n){var r=!1,i=gi,o=t.contextType;return"object"===typeof o&&null!==o?o=lo(o):(i=_i(t)?bi:yi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?wi(e,i):gi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=To,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wo,ho(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=lo(o):(o=_i(t)?bi:yi.current,i.context=wi(e,o)),yo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(_o(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&To.enqueueReplaceState(i,i.state,null),yo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Io=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===wo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ao(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function No(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case te:return(t=Gu(t,e.mode,n)).return=e,t}if(Io(t)||me(t))return(t=Hu(t,e.mode,n,null)).return=e,t;Ao(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(Io(n)||me(n))return null!==i?null:h(e,t,n,r,null);Ao(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||me(r))return h(t,e=e.get(n)||null,r,i,null);Ao(t,r)}return null}function m(i,s,a,u){for(var l=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(s=o(h,s,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,u,l){var c=me(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,l))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Co(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Hu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Ku(o.type,o.key,o.props,null,e.mode,u)).ref=Co(e,r,o),u.return=e,e=u)}return a(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(o,e.mode,u)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wu(o,e.mode,u)).return=e,e=r),a(e);if(Io(o))return m(e,r,o,u);if(me(o))return g(e,r,o,u);if(c&&Ao(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Do=No(!0),Po=No(!1),Oo={},Ro={current:Oo},Lo={current:Oo},Mo={current:Oo};function jo(e){if(e===Oo)throw Error(s(174));return e}function Fo(e,t){switch(mi(Mo,t),mi(Lo,e),mi(Ro,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Ro),mi(Ro,t)}function Vo(){pi(Ro),pi(Lo),pi(Mo)}function Bo(e){jo(Mo.current);var t=jo(Ro.current),n=je(t,e.type);t!==n&&(mi(Lo,e),mi(Ro,n))}function Uo(e){Lo.current===e&&(pi(Ro),pi(Lo))}var zo={current:0};function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===wn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ko(e,t){return{responder:e,props:t}}var Ho=X.ReactCurrentDispatcher,Wo=X.ReactCurrentBatchConfig,Go=0,Qo=null,Yo=null,Xo=null,$o=!1;function Jo(){throw Error(s(321))}function Zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function es(e,t,n,r,i,o){if(Go=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ho.current=null===e||null===e.memoizedState?xs:Es,e=n(r,i),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Xo=Yo=null,t.updateQueue=null,Ho.current=Ss,e=n(r,i)}while(t.expirationTime===Go)}if(Ho.current=Ts,t=null!==Yo&&null!==Yo.next,Go=0,Xo=Yo=Qo=null,$o=!1,t)throw Error(s(300));return e}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Qo.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function ns(){if(null===Yo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Xo?Qo.memoizedState:Xo.next;if(null!==t)Xo=t,Yo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Xo?Qo.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function rs(e,t){return"function"===typeof t?t(e):t}function is(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,l=i;do{var c=l.expirationTime;if(c<Go){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,o=r):u=u.next=h,c>Qo.expirationTime&&(Qo.expirationTime=c,xu(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Tu(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=a,qr(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function os(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);qr(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ss(e){var t=ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e}).dispatch=_s.bind(null,Qo,e),[t.memoizedState,e]}function as(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function us(){return ns().memoizedState}function ls(e,t,n,r){var i=ts();Qo.effectTag|=e,i.memoizedState=as(1|t,n,void 0,void 0===r?null:r)}function cs(e,t,n,r){var i=ns();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var s=Yo.memoizedState;if(o=s.destroy,null!==r&&Zo(r,s.deps))return void as(t,n,o,r)}Qo.effectTag|=e,i.memoizedState=as(1|t,n,o,r)}function hs(e,t){return ls(516,4,e,t)}function ds(e,t){return cs(516,4,e,t)}function fs(e,t){return cs(4,2,e,t)}function ps(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ms(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,cs(4,2,ps.bind(null,t,e),n)}function gs(){}function ys(e,t){return ts().memoizedState=[e,void 0===t?null:t],e}function vs(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bs(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ws(e,t,n){var r=Wi();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Wo.suspense;Wo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Wo.suspense=r}}))}function _s(e,t,n){var r=lu(),i=bo.suspense;i={expirationTime:r=cu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qo||null!==o&&o===Qo)$o=!0,i.expirationTime=Go,Qo.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,qr(a,s))return}catch(u){}hu(e,r)}}var Ts={readContext:lo,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useResponder:Jo,useDeferredValue:Jo,useTransition:Jo},xs={readContext:lo,useCallback:ys,useContext:lo,useEffect:hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ls(4,2,ps.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_s.bind(null,Qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ts().memoizedState=e},useState:ss,useDebugValue:gs,useResponder:Ko,useDeferredValue:function(e,t){var n=ss(e),r=n[0],i=n[1];return hs((function(){var n=Wo.suspense;Wo.suspense=void 0===t?null:t;try{i(e)}finally{Wo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ss(!1),n=t[0];return t=t[1],[ys(ws.bind(null,t,e),[t,e]),n]}},Es={readContext:lo,useCallback:vs,useContext:lo,useEffect:ds,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:bs,useReducer:is,useRef:us,useState:function(){return is(rs)},useDebugValue:gs,useResponder:Ko,useDeferredValue:function(e,t){var n=is(rs),r=n[0],i=n[1];return ds((function(){var n=Wo.suspense;Wo.suspense=void 0===t?null:t;try{i(e)}finally{Wo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=is(rs),n=t[0];return t=t[1],[vs(ws.bind(null,t,e),[t,e]),n]}},Ss={readContext:lo,useCallback:vs,useContext:lo,useEffect:ds,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:bs,useReducer:os,useRef:us,useState:function(){return os(rs)},useDebugValue:gs,useResponder:Ko,useDeferredValue:function(e,t){var n=os(rs),r=n[0],i=n[1];return ds((function(){var n=Wo.suspense;Wo.suspense=void 0===t?null:t;try{i(e)}finally{Wo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=os(rs),n=t[0];return t=t[1],[vs(ws.bind(null,t,e),[t,e]),n]}},ks=null,Is=null,Cs=!1;function As(e,t){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ns(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ds(e){if(Cs){var t=Is;if(t){var n=t;if(!Ns(e,t)){if(!(t=In(n.nextSibling))||!Ns(e,t))return e.effectTag=-1025&e.effectTag|2,Cs=!1,void(ks=e);As(ks,n)}ks=e,Is=In(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Cs=!1,ks=e}}function Ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ks=e}function Os(e){if(e!==ks)return!1;if(!Cs)return Ps(e),Cs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!En(t,e.memoizedProps))for(t=Is;t;)As(e,t),t=In(t.nextSibling);if(Ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn){if(0===t){Is=In(e.nextSibling);break e}t--}else n!==yn&&n!==wn&&n!==bn||t++}e=e.nextSibling}Is=null}}else Is=ks?In(e.stateNode.nextSibling):null;return!0}function Rs(){Is=ks=null,Cs=!1}var Ls=X.ReactCurrentOwner,Ms=!1;function js(e,t,n,r){t.child=null===e?Po(t,null,n,r):Do(t,e.child,n,r)}function Fs(e,t,n,r,i){n=n.render;var o=t.ref;return uo(t,i),r=es(e,t,n,r,o,i),null===e||Ms?(t.effectTag|=1,js(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function Vs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||zu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Bs(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Hr)(i,r)&&e.ref===t.ref)?ta(e,t,o):(t.effectTag|=1,(e=qu(s,r)).ref=t.ref,e.return=t,t.child=e)}function Bs(e,t,n,r,i,o){return null!==e&&Hr(e.memoizedProps,r)&&e.ref===t.ref&&(Ms=!1,i<o)?(t.expirationTime=e.expirationTime,ta(e,t,o)):zs(e,t,n,r,o)}function Us(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function zs(e,t,n,r,i){var o=_i(n)?bi:yi.current;return o=wi(t,o),uo(t,i),n=es(e,t,n,r,o,i),null===e||Ms?(t.effectTag|=1,js(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function qs(e,t,n,r,i){if(_i(n)){var o=!0;Si(t)}else o=!1;if(uo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Eo(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=lo(l):l=wi(t,l=_i(n)?bi:yi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&So(t,s,r,l),co=!1;var d=t.memoizedState;s.state=d,yo(t,r,s,i),u=t.memoizedState,a!==r||d!==u||vi.current||co?("function"===typeof c&&(_o(t,n,c,r),u=t.memoizedState),(a=co||xo(t,n,a,r,d,u,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,fo(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:eo(t.type,a),u=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=lo(l):l=wi(t,l=_i(n)?bi:yi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&So(t,s,r,l),co=!1,u=t.memoizedState,s.state=u,yo(t,r,s,i),d=t.memoizedState,a!==r||u!==d||vi.current||co?("function"===typeof c&&(_o(t,n,c,r),d=t.memoizedState),(c=co||xo(t,n,a,r,u,d,l))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ks(e,t,n,r,o,i)}function Ks(e,t,n,r,i,o){Us(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return i&&ki(t,n,!1),ta(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Do(t,e.child,null,o),t.child=Do(t,null,a,o)):js(e,t,a,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),Fo(e,t.containerInfo)}var Ws,Gs,Qs,Ys,Xs={dehydrated:null,retryTime:0};function $s(e,t,n){var r,i=t.mode,o=t.pendingProps,s=zo.current,a=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),mi(zo,1&s),null===e){if(void 0!==o.fallback&&Ds(t),a){if(a=o.fallback,(o=Hu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Hu(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=Xs,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Po(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=qu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=qu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Xs,t.child=n,i}return n=Do(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Hu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Hu(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Xs,t.child=o,n}return t.memoizedState=null,t.child=Do(t,e,o.children,n)}function Js(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ao(e.return,t)}function Zs(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(js(e,t,r.children,n),0!==(2&(r=zo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Js(e,n);else if(19===e.tag)Js(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(zo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,o,t.lastEffect);break;case"together":Zs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&xu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function na(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ra(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&Ti(),null;case 3:return Vo(),pi(vi),pi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Os(t)||(t.effectTag|=4),Gs(t),null;case 5:Uo(t),n=jo(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Qs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=jo(Ro.current),Os(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[Nn]=t,r[Dn]=a,o){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":xe(r,a),Qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qt("invalid",r),ln(n,"onChange");break;case"textarea":De(r,a),Qt("invalid",r),ln(n,"onChange")}for(var u in sn(o,a),e=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):E.hasOwnProperty(u)&&null!=l&&ln(n,u)}switch(o){case"input":we(r),ke(r,a,!0);break;case"textarea":we(r),Oe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Me(o)),e===un?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[Nn]=t,e[Dn]=r,Ws(e,t,!1,!1),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<$e.length;l++)Qt($e[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":xe(e,r),l=Te(e,r),Qt("invalid",e),ln(n,"onChange");break;case"option":l=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),ln(n,"onChange");break;case"textarea":De(e,r),l=Ne(e,r),Qt("invalid",e),ln(n,"onChange");break;default:l=r}sn(o,l);var c=l;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?rn(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Be(e,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&Ue(e,h):"number"===typeof h&&Ue(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(E.hasOwnProperty(a)?null!=h&&ln(n,a):null!=h&&$(e,a,h,u))}switch(o){case"input":we(e),ke(e,r,!1);break;case"textarea":we(e),Oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=cn)}xn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=jo(Mo.current),jo(Ro.current),Os(t)?(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Nn]=t,t.stateNode=n)}return null;case 13:return pi(zo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Os(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zo.current)?qa===Oa&&(qa=Ma):(qa!==Oa&&qa!==Ma||(qa=ja),0!==Qa&&null!==Ba&&(Xu(Ba,za),$u(Ba,Qa)))),(n||r)&&(t.effectTag|=4),null);case 4:return Vo(),Gs(t),null;case 10:return so(t),null;case 19:if(pi(zo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(a=r.rendering)){if(o)na(r,!1);else if(qa!==Oa||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=qo(a))){for(t.effectTag|=64,na(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return mi(zo,1&zo.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=qo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),na(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,na(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Hi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=zo.current,mi(zo,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function ia(e){switch(e.tag){case 1:_i(e.type)&&Ti();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Vo(),pi(vi),pi(yi),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Uo(e),null;case 13:return pi(zo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(zo),null;case 4:return Vo(),null;case 10:return so(e),null;default:return null}}function oa(e,t){return{value:e,source:t,stack:ye(t)}}Ws=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Qs=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,u,l=t.stateNode;switch(jo(Ro.current),e=null,n){case"input":s=Te(l,s),r=Te(l,r),e=[];break;case"option":s=Ce(l,s),r=Ce(l,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Ne(l,s),r=Ne(l,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=cn)}for(a in sn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in l=s[a])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(E.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var c=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(a,c)):"children"===a?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(E.hasOwnProperty(a)?(null!=c&&ln(o,a),e||l===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ys=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var sa="function"===typeof WeakSet?WeakSet:Set;function aa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ua(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lu(e,n)}else t.current=null}function la(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(s(163))}function ca(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function da(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&xn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))))}throw Error(s(163))}function fa(e,t,n){switch("function"===typeof Vu&&Vu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Lu(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ua(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Lu(e,n)}}(t,n);break;case 5:ua(t);break;case 4:ba(e,t,n)}}function pa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pa(t)}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ya(e,n,t):va(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ba(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var u=e,l=o,c=n,h=l;;)if(fa(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(fa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function wa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ca(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Dn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ee(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?rn(n,u):"dangerouslySetInnerHTML"===a?Be(n,u):"children"===a?Ue(n,u):$(n,a,u,t)}switch(e){case"input":Se(n,r);break;case"textarea":Pe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Xa=Hi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _a(t);case 19:return void _a(t)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ta="function"===typeof WeakMap?WeakMap:Map;function xa(e,t,n){(n=po(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za||(Za=!0,eu=r),aa(e,t)},n}function Ea(e,t,n){(n=po(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return aa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tu?tu=new Set([this]):tu.add(this),aa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Sa,ka=Math.ceil,Ia=X.ReactCurrentDispatcher,Ca=X.ReactCurrentOwner,Aa=0,Na=8,Da=16,Pa=32,Oa=0,Ra=1,La=2,Ma=3,ja=4,Fa=5,Va=Aa,Ba=null,Ua=null,za=0,qa=Oa,Ka=null,Ha=1073741823,Wa=1073741823,Ga=null,Qa=0,Ya=!1,Xa=0,$a=500,Ja=null,Za=!1,eu=null,tu=null,nu=!1,ru=null,iu=90,ou=null,su=0,au=null,uu=0;function lu(){return(Va&(Da|Pa))!==Aa?1073741821-(Hi()/10|0):0!==uu?uu:uu=1073741821-(Hi()/10|0)}function cu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Wi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Va&Da)!==Aa)return za;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Ba&&e===za&&--e,e}function hu(e,t){if(50<su)throw su=0,au=null,Error(s(185));if(null!==(e=du(e,t))){var n=Wi();1073741823===t?(Va&Na)!==Aa&&(Va&(Da|Pa))===Aa?gu(e):(pu(e),Va===Aa&&$i()):pu(e),(4&Va)===Aa||98!==n&&99!==n||(null===ou?ou=new Map([[e,t]]):(void 0===(n=ou.get(e))||n>t)&&ou.set(e,t))}}function du(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ba===i&&(xu(t),qa===ja&&Xu(i,za)),$u(i,t)),i}function fu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Yu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(gu.bind(null,e));else{var t=fu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=lu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(gu.bind(null,e)):Yi(r,mu.bind(null,e),{timeout:10*(1073741821-t)-Hi()}),e.callbackNode=t}}}function mu(e,t){if(uu=0,t)return Ju(e,t=lu()),pu(e),null;var n=fu(e);if(0!==n){if(t=e.callbackNode,(Va&(Da|Pa))!==Aa)throw Error(s(327));if(Pu(),e===Ba&&n===za||bu(e,n),null!==Ua){var r=Va;Va|=Da;for(var i=_u();;)try{Su();break}catch(u){wu(e,u)}if(oo(),Va=r,Ia.current=i,qa===Ra)throw t=Ka,bu(e,n),Xu(e,n),pu(e),t;if(null===Ua)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qa,Ba=null,r){case Oa:case Ra:throw Error(s(345));case La:Ju(e,2<n?2:n);break;case Ma:if(Xu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cu(i)),1073741823===Ha&&10<(i=Xa+$a-Hi())){if(Ya){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,bu(e,n);break}}if(0!==(o=fu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Sn(Au.bind(null,e),i);break}Au(e);break;case ja:if(Xu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cu(i)),Ya&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bu(e,n);break}if(0!==(i=fu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Wa?r=10*(1073741821-Wa)-Hi():1073741823===Ha?r=0:(r=10*(1073741821-Ha)-5e3,0>(r=(i=Hi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ka(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Sn(Au.bind(null,e),r);break}Au(e);break;case Fa:if(1073741823!==Ha&&null!==Ga){o=Ha;var a=Ga;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Hi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Xu(e,n),e.timeoutHandle=Sn(Au.bind(null,e),r);break}}Au(e);break;default:throw Error(s(329))}if(pu(e),e.callbackNode===t)return mu.bind(null,e)}}return null}function gu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Va&(Da|Pa))!==Aa)throw Error(s(327));if(Pu(),e===Ba&&t===za||bu(e,t),null!==Ua){var n=Va;Va|=Da;for(var r=_u();;)try{Eu();break}catch(i){wu(e,i)}if(oo(),Va=n,Ia.current=r,qa===Ra)throw n=Ka,bu(e,t),Xu(e,t),pu(e),n;if(null!==Ua)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ba=null,Au(e),pu(e)}return null}function yu(e,t){var n=Va;Va|=1;try{return e(t)}finally{(Va=n)===Aa&&$i()}}function vu(e,t){var n=Va;Va&=-2,Va|=Na;try{return e(t)}finally{(Va=n)===Aa&&$i()}}function bu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kn(n)),null!==Ua)for(n=Ua.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ti();break;case 3:Vo(),pi(vi),pi(yi);break;case 5:Uo(r);break;case 4:Vo();break;case 13:case 19:pi(zo);break;case 10:so(r)}n=n.return}Ba=e,Ua=qu(e.current,null),za=t,qa=Oa,Ka=null,Wa=Ha=1073741823,Ga=null,Qa=0,Ya=!1}function wu(e,t){for(;;){try{if(oo(),Ho.current=Ts,$o)for(var n=Qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Go=0,Xo=Yo=Qo=null,$o=!1,null===Ua||null===Ua.return)return qa=Ra,Ka=t,Ua=null;e:{var i=e,o=Ua.return,s=Ua,a=t;if(t=za,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var u=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&zo.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(u),h.updateQueue=g}else m.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=po(1073741823,null);y.tag=2,mo(s,y)}s.expirationTime=1073741823;break e}a=void 0,s=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new Ta,a=new Set,v.set(u,a)):void 0===(a=v.get(u))&&(a=new Set,v.set(u,a)),!a.has(s)){a.add(s);var b=Mu.bind(null,i,u,s);u.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);a=Error((ge(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(s))}qa!==Fa&&(qa=La),a=oa(a,s),h=o;do{switch(h.tag){case 3:u=a,h.effectTag|=4096,h.expirationTime=t,go(h,xa(h,u,t));break e;case 1:u=a;var w=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tu||!tu.has(_)))){h.effectTag|=4096,h.expirationTime=t,go(h,Ea(h,u,t));break e}}h=h.return}while(null!==h)}Ua=Iu(Ua)}catch(T){t=T;continue}break}}function _u(){var e=Ia.current;return Ia.current=Ts,null===e?Ts:e}function Tu(e,t){e<Ha&&2<e&&(Ha=e),null!==t&&e<Wa&&2<e&&(Wa=e,Ga=t)}function xu(e){e>Qa&&(Qa=e)}function Eu(){for(;null!==Ua;)Ua=ku(Ua)}function Su(){for(;null!==Ua&&!Vi();)Ua=ku(Ua)}function ku(e){var t=Sa(e.alternate,e,za);return e.memoizedProps=e.pendingProps,null===t&&(t=Iu(e)),Ca.current=null,t}function Iu(e){Ua=e;do{var t=Ua.alternate;if(e=Ua.return,0===(2048&Ua.effectTag)){if(t=ra(t,Ua,za),1===za||1!==Ua.childExpirationTime){for(var n=0,r=Ua.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ua.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ua.firstEffect),null!==Ua.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ua.firstEffect),e.lastEffect=Ua.lastEffect),1<Ua.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ua:e.firstEffect=Ua,e.lastEffect=Ua))}else{if(null!==(t=ia(Ua)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ua.sibling))return t;Ua=e}while(null!==Ua);return qa===Oa&&(qa=Fa),null}function Cu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Au(e){var t=Wi();return Qi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Pu()}while(null!==ru);if((Va&(Da|Pa))!==Aa)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ba&&(Ua=Ba=null,za=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Va;Va|=Pa,Ca.current=null,_n=Gt;var a=mn();if(gn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(k){u=null;break e}var d=0,f=-1,p=-1,m=0,g=0,y=a,v=null;t:for(;;){for(var b;y!==u||0!==c&&3!==y.nodeType||(f=d+c),y!==h||0!==l&&3!==y.nodeType||(p=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===a)break t;if(v===u&&++m===c&&(f=d),v===h&&++g===l&&(p=d),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}u=-1===f||-1===p?null:{start:f,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;Tn={activeElementDetached:null,focusedElem:a,selectionRange:u},Gt=!1,Ja=i;do{try{Du()}catch(k){if(null===Ja)throw Error(s(330));Lu(Ja,k),Ja=Ja.nextEffect}}while(null!==Ja);Ja=i;do{try{for(a=e,u=t;null!==Ja;){var w=Ja.effectTag;if(16&w&&Ue(Ja.stateNode,""),128&w){var _=Ja.alternate;if(null!==_){var T=_.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&w){case 2:ga(Ja),Ja.effectTag&=-3;break;case 6:ga(Ja),Ja.effectTag&=-3,wa(Ja.alternate,Ja);break;case 1024:Ja.effectTag&=-1025;break;case 1028:Ja.effectTag&=-1025,wa(Ja.alternate,Ja);break;case 4:wa(Ja.alternate,Ja);break;case 8:ba(a,c=Ja,u),pa(c)}Ja=Ja.nextEffect}}catch(k){if(null===Ja)throw Error(s(330));Lu(Ja,k),Ja=Ja.nextEffect}}while(null!==Ja);if(T=Tn,_=mn(),w=T.focusedElem,u=T.selectionRange,_!==w&&w&&w.ownerDocument&&pn(w.ownerDocument.documentElement,w)){null!==u&&gn(w)&&(_=u.start,void 0===(T=u.end)&&(T=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(T,w.value.length)):(T=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(T=T.getSelection(),c=w.textContent.length,a=Math.min(u.start,c),u=void 0===u.end?a:Math.min(u.end,c),!T.extend&&a>u&&(c=u,u=a,a=c),c=fn(w,a),h=fn(w,u),c&&h&&(1!==T.rangeCount||T.anchorNode!==c.node||T.anchorOffset!==c.offset||T.focusNode!==h.node||T.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),T.removeAllRanges(),a>u?(T.addRange(_),T.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),T.addRange(_))))),_=[];for(T=w;T=T.parentNode;)1===T.nodeType&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(T=_[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Gt=!!_n,Tn=_n=null,e.current=n,Ja=i;do{try{for(w=e;null!==Ja;){var x=Ja.effectTag;if(36&x&&da(w,Ja.alternate,Ja),128&x){_=void 0;var E=Ja.ref;if(null!==E){var S=Ja.stateNode;Ja.tag,_=S,"function"===typeof E?E(_):E.current=_}}Ja=Ja.nextEffect}}catch(k){if(null===Ja)throw Error(s(330));Lu(Ja,k),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,Bi(),Va=o}else e.current=n;if(nu)nu=!1,ru=e,iu=t;else for(Ja=i;null!==Ja;)t=Ja.nextEffect,Ja.nextEffect=null,Ja=t;if(0===(t=e.firstPendingTime)&&(tu=null),1073741823===t?e===au?su++:(su=0,au=e):su=0,"function"===typeof Fu&&Fu(n.stateNode,r),pu(e),Za)throw Za=!1,e=eu,eu=null,e;return(Va&Na)!==Aa||$i(),null}function Du(){for(;null!==Ja;){var e=Ja.effectTag;0!==(256&e)&&la(Ja.alternate,Ja),0===(512&e)||nu||(nu=!0,Yi(97,(function(){return Pu(),null}))),Ja=Ja.nextEffect}}function Pu(){if(90!==iu){var e=97<iu?97:iu;return iu=90,Qi(e,Ou)}}function Ou(){if(null===ru)return!1;var e=ru;if(ru=null,(Va&(Da|Pa))!==Aa)throw Error(s(331));var t=Va;for(Va|=Pa,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ca(5,n),ha(5,n)}}catch(r){if(null===e)throw Error(s(330));Lu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Va=t,$i(),!0}function Ru(e,t,n){mo(e,t=xa(e,t=oa(n,t),1073741823)),null!==(e=du(e,1073741823))&&pu(e)}function Lu(e,t){if(3===e.tag)Ru(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ru(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tu||!tu.has(r))){mo(n,e=Ea(n,e=oa(t,e),1073741823)),null!==(n=du(n,1073741823))&&pu(n);break}}n=n.return}}function Mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ba===e&&za===n?qa===ja||qa===Ma&&1073741823===Ha&&Hi()-Xa<$a?bu(e,za):Ya=!0:Yu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pu(e)))}function ju(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=cu(t=lu(),e,null)),null!==(e=du(e,t))&&pu(e)}Sa=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Ms=!0;else{if(r<n){switch(Ms=!1,t.tag){case 3:Hs(t),Rs();break;case 5:if(Bo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Si(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,mi(to,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$s(e,t,n):(mi(zo,1&zo.current),null!==(t=ta(e,t,n))?t.sibling:null);mi(zo,1&zo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),mi(zo,zo.current),!r)return null}return ta(e,t,n)}Ms=!1}}else Ms=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=wi(t,yi.current),uo(t,n),i=es(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var o=!0;Si(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ho(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&_o(t,r,a,e),i.updater=To,t.stateNode=i,i._reactInternalFiber=t,ko(t,r,e,n),t=Ks(null,t,r,!0,o,n)}else t.tag=0,js(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===he)return 14}return 2}(i),e=eo(i,e),o){case 0:t=zs(null,t,i,e,n);break e;case 1:t=qs(null,t,i,e,n);break e;case 11:t=Fs(null,t,i,e,n);break e;case 14:t=Vs(null,t,i,eo(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,fo(e,t),yo(t,r,null,n),(r=t.memoizedState.element)===i)Rs(),t=ta(e,t,n);else{if((i=t.stateNode.hydrate)&&(Is=In(t.stateNode.containerInfo.firstChild),ks=t,i=Cs=!0),i)for(n=Po(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else js(e,t,r,n),Rs();t=t.child}return t;case 5:return Bo(t),null===e&&Ds(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,En(r,i)?a=null:null!==o&&En(r,o)&&(t.effectTag|=16),Us(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(js(e,t,a,n),t=t.child),t;case 6:return null===e&&Ds(t),null;case 13:return $s(e,t,n);case 4:return Fo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Do(t,null,r,n):js(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(mi(to,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=qr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!vi.current){t=ta(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=po(n,null)).tag=2,mo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ao(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}js(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,uo(t,n),r=r(i=lo(i,o.unstable_observedBits)),t.effectTag|=1,js(e,t,r,n),t.child;case 14:return o=eo(i=t.type,t.pendingProps),Vs(e,t,i,o=eo(i.type,o),r,n);case 15:return Bs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Si(t)):e=!1,uo(t,n),Eo(t,r,i),ko(t,r,i,n),Ks(null,t,r,!0,e,n);case 19:return ea(e,t,n)}throw Error(s(156,t.tag))};var Fu=null,Vu=null;function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Uu(e,t,n,r){return new Bu(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Uu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)zu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case ne:return Hu(n.children,i,o,t);case ae:a=8,i|=7;break;case re:a=8,i|=1;break;case ie:return(e=Uu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=Uu(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=Uu(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case se:a=9;break e;case ue:a=11;break e;case he:a=14;break e;case de:a=16,r=null;break e;case fe:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Uu(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Hu(e,t,n,r){return(e=Uu(7,e,r,t)).expirationTime=n,e}function Wu(e,t,n){return(e=Uu(6,e,null,t)).expirationTime=n,e}function Gu(e,t,n){return(t=Uu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Yu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Xu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $u(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ju(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zu(e,t,n,r){var i=t.current,o=lu(),a=bo.suspense;o=cu(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(_i(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(_i(l)){n=Ei(n,l,u);break e}}n=u}else n=gi;return null===t.context?t.context=n:t.pendingContext=n,(t=po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),hu(i,o),o}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=new Qu(e,t,n=null!=n&&!0===n.hydrate),i=Uu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ho(i),e[Pn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);It.forEach((function(e){mt(e,t,n)})),Ct.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=el(s);a.call(e)}}Zu(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=el(s);u.call(e)}}vu((function(){Zu(t,s,e,i)}))}return el(s)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rl.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Pn]=null}))},gt=function(e){if(13===e.tag){var t=Zi(lu(),150,100);hu(e,t),nl(e,t)}},yt=function(e){13===e.tag&&(hu(e,3),nl(e,3))},vt=function(e){if(13===e.tag){var t=lu();hu(e,t=cu(t,e,null)),nl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(s(90));_e(r),Se(r,i)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},R=yu,L=function(e,t,n,r,i){var o=Va;Va|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Va=o)===Aa&&$i()}},M=function(){(Va&(1|Da|Pa))===Aa&&(function(){if(null!==ou){var e=ou;ou=null,e.forEach((function(e,t){Ju(t,e),pu(t)})),$i()}}(),Pu())},j=function(e,t){var n=Va;Va|=2;try{return e(t)}finally{(Va=n)===Aa&&$i()}};var al={Events:[Rn,Ln,Mn,k,x,qn,function(e){ot(e,zn)},P,O,Jt,ut,Pu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Vu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:On,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Va&(Da|Pa))!==Aa)throw Error(s(187));var n=Va;Va|=1;try{return Qi(99,e.bind(null,t))}finally{Va=n,$i()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(s(40));return!!e._reactRootContainer&&(vu((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[Pn]=null}))})),!0)},t.unstable_batchedUpdates=yu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return ol(e,t,n,!1,r)},t.version="16.14.0"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.jsx=l,t.jsxs=l},202:(e,t,n)=>{"use strict";var r=n(123),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function _(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var x=T.prototype=new _;x.constructor=T,r(x,w.prototype),x.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,N=[];function D(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function O(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+L(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=t+L(i=e[u],u);a+=O(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),u=0;!(i=e.next()).done;)a+=O(i=i.value,l=t+L(i,u++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function R(e,t,n){return null==e?0:O(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),R(e,j,t=D(t,o,r,i)),P(t)}var V={current:null};function B(){var e=V.current;if(null===e)throw Error(y(321));return e}var U={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,M,t=D(null,null,t,n)),P(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=w,t.Fragment=a,t.Profiler=l,t.PureComponent=T,t.StrictMode=u,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";var n,r,i,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,u=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(l,0),n}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(l,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,v=null,b=-1,w=5,_=0;o=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,x=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+w;try{v(!0,e)?x.postMessage(null):(y=!1,v=null)}catch(n){throw x.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,x.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>I(s,n))void 0!==u&&0>I(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],N=1,D=null,P=3,O=!1,R=!1,L=!1;function M(e){for(var t=S(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,E(C,t)}t=S(A)}}function j(e){if(L=!1,M(e),!R)if(null!==S(C))R=!0,n(F);else{var t=S(A);null!==t&&r(j,t.startTime-e)}}function F(e,n){R=!1,L&&(L=!1,i()),O=!0;var s=P;try{for(M(n),D=S(C);null!==D&&(!(D.expirationTime>n)||e&&!o());){var a=D.callback;if(null!==a){D.callback=null,P=D.priorityLevel;var u=a(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?D.callback=u:D===S(C)&&k(C),M(n)}else k(C);D=S(C)}if(null!==D)var l=!0;else{var c=S(A);null!==c&&r(j,c.startTime-n),l=!1}return l}finally{D=null,P=s,O=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return S(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"===typeof s&&null!==s){var u=s.delay;u="number"===typeof u&&0<u?a+u:a,s="number"===typeof s.timeout?s.timeout:V(e)}else s=V(e),u=a;return e={id:N++,callback:o,priorityLevel:e,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(e.sortIndex=u,E(A,e),null===S(C)&&e===S(A)&&(L?i():L=!0,r(j,u-a))):(e.sortIndex=s,E(C,e),R||O||(R=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=S(C);return n!==D&&null!==D&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<D.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Qe,SDK_VERSION:()=>Qt,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Ut,_apps:()=>Ft,_clearComponents:()=>Ht,_components:()=>Vt,_getProvider:()=>qt,_registerComponent:()=>zt,_removeServiceInstance:()=>Kt,deleteApp:()=>Jt,getApp:()=>Xt,getApps:()=>$t,initializeApp:()=>Yt,onLog:()=>en,registerVersion:()=>Zt,setLogLevel:()=>tn});var t=n(43),r=n(950),i=n(579);function o(){return(0,i.jsx)("div",{className:"centered-h-v",children:(0,i.jsx)("div",{className:"width-50 alert alert-danger",children:"Please ask your task provider to enable firebase."})})}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}"function"===typeof SuppressedError&&SuppressedError;var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l=u((function(e){let{include:t,exclude:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e=>{const r=t=>"string"===typeof t?e===t:t.test(e);return t?t.some(r):!n||!n.some(r)};for(const[i,o]of(e=>{const t=new Set;do{for(const n of Reflect.ownKeys(e))t.add([e,n])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===o||!r(o))continue;const t=Reflect.getOwnPropertyDescriptor(i,o);t&&"function"===typeof t.value&&(e[o]=e[o].bind(e))}return e}));class c extends Error{constructor(){super("".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The global `jsPsych` variable is no longer available in jsPsych v7."," Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.")),this.name="MigrationError"}}function h(e){return[...new Set(e)]}function d(e){if(!e)return e;let t;if(Array.isArray(e)){t=[];for(const n of e)t.push(d(n));return t}if("object"===typeof e&&null!==e){t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=d(e[n]));return t}return e}window.jsPsych={get init(){throw new c("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new c},get randomization(){throw new c},get turk(){throw new c},get pluginAPI(){throw new c},get ALL_KEYS(){throw new c('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new c('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};var f,p=Object.freeze({__proto__:null,deepCopy:d,deepMerge:function e(t,n){let r={};for(const i in t)t.hasOwnProperty(i)&&("object"===typeof t[i]&&n.hasOwnProperty(i)?r[i]=e(t[i],n[i]):r[i]=t[i]);for(const i in n)n.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&"object"===typeof n[i]?r[i]=e(r[i],n[i]):r[i]=n[i]);return r},unique:h});class m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.values=e}sum(){let e=0;for(const t of this.values)e+=t;return e}mean(){return this.sum()/this.count()}median(){if(0===this.values.length)return;const e=this.values.slice(0).sort((function(e,t){return e-t})),t=Math.floor(e.length/2);return e.length%2===0?(e[t]+e[t-1])/2:e[t]}min(){return Math.min.apply(null,this.values)}max(){return Math.max.apply(null,this.values)}count(){return this.values.length}variance(){const e=this.mean();let t=0;for(const n of this.values)t+=Math.pow(n-e,2);return t/(this.values.length-1)}sd(){const e=this.variance();return Math.sqrt(e)}frequencies(){const e={};for(const t of this.values)"undefined"===typeof e[t]?e[t]=1:e[t]++;return e}all(e){for(const t of this.values)if(!e(t))return!1;return!0}subset(e){const t=[];for(const n of this.values)e(n)&&t.push(n);return new m(t)}}class g{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.trials=e}push(e){return this.trials.push(e),this}join(e){return this.trials=this.trials.concat(e.values()),this}top(){return this.trials.length<=1?this:new g([this.trials[this.trials.length-1]])}first(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new g:(e>this.trials.length&&(e=this.trials.length),new g(this.trials.slice(0,e)))}last(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new g:(e>this.trials.length&&(e=this.trials.length),new g(this.trials.slice(this.trials.length-e,this.trials.length)))}values(){return this.trials}count(){return this.trials.length}readOnly(){return new g(d(this.trials))}addToAll(e){for(const t of this.trials)Object.assign(t,e);return this}addToLast(e){return 0!=this.trials.length&&Object.assign(this.trials[this.trials.length-1],e),this}filter(e){let t;t=Array.isArray(e)?d(e):d([e]);const n=[];for(const r of this.trials){let e=!1;for(const n of t){let t=!0;for(const e of Object.keys(n))"undefined"!==typeof r[e]&&r[e]===n[e]||(t=!1);if(t){e=!0;break}}e&&n.push(r)}return new g(n)}filterCustom(e){return new g(this.trials.filter(e))}filterColumns(e){return new g(this.trials.map((t=>Object.fromEntries(e.filter((e=>e in t)).map((e=>[e,t[e]]))))))}select(e){const t=[];for(const n of this.trials)"undefined"!==typeof n[e]&&t.push(n[e]);return new m(t)}ignore(e){Array.isArray(e)||(e=[e]);const t=d(this.trials);for(const n of t)for(const t of e)delete n[t];return new g(t)}uniqueNames(){const e=[];for(const t of this.trials)for(const n of Object.keys(t))e.includes(n)||e.push(n);return e}csv(){return function(e){const t="object"!=typeof e?JSON.parse(e):e;let n="",r="";const i=[];for(const o of t)for(const e in o){let t=e+"";t='"'+t.replace(/"/g,'""')+'",',i.includes(e)||(i.push(e),n+=t)}n=n.slice(0,-1),r+=n+"\r\n";for(const o of t){n="";for(const e of i){let t="undefined"===typeof o[e]?"":o[e];"object"==typeof t&&(t=JSON.stringify(t)),n+='"'+(t+"").replace(/"/g,'""')+'",'}n=n.slice(0,-1),r+=n+"\r\n"}return r}(this.trials)}json(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?JSON.stringify(this.trials,null,"\t"):JSON.stringify(this.trials)}localSave(e,t){let n;if("json"===(e=e.toLowerCase()))n=this.json();else{if("csv"!==e)throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');n=this.csv()}!function(e,t){const n=new Blob([e],{type:"text/plain"});let r="";r="undefined"!==typeof window.webkitURL?window.webkitURL.createObjectURL(n):window.URL.createObjectURL(n);const i=document.createElement("a");i.id="jspsych-download-as-text-link",i.style.display="none",i.download=t,i.href=r,i.click()}(n,t)}}class y{constructor(e){this.jsPsych=e,this.dataProperties={},this.reset()}reset(){this.allData=new g,this.interactionData=new g}get(){return this.allData}getInteractionData(){return this.interactionData}write(e){const t=this.jsPsych.getProgress(),n=this.jsPsych.getCurrentTrial(),r={trial_type:n.type.info.name,trial_index:t.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},e),n.data),r),this.dataProperties))}addProperties(e){this.allData.addToAll(e),this.dataProperties=Object.assign({},this.dataProperties,e)}addDataToLastTrial(e){this.allData.addToLast(e)}getDataByTimelineNode(e){return this.allData.filterCustom((t=>t.internal_node_id.slice(0,e.length)===e))}getLastTrialData(){return this.allData.top()}getLastTimelineData(){const e=this.getLastTrialData().select("internal_node_id").values[0];if("undefined"===typeof e)return new g;{const t=e.substr(0,e.lastIndexOf("-"));return this.getDataByTimelineNode(t)}}displayData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";e=e.toLowerCase(),"json"!=e&&"csv"!=e&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json");const t="json"===e?this.allData.json(!0):this.allData.csv();this.jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=t}urlVariables(){return"undefined"==typeof this.query_string&&(this.query_string=function(){const e=window.location.search.substr(1).split("&"),t={};for(let n=0;n<e.length;++n){const r=e[n].split("=",2);1==r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}()),this.query_string}getURLVariable(e){return this.urlVariables()[e]}createInteractionListeners(){window.addEventListener("blur",(()=>{const e={event:"blur",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(e),this.jsPsych.getInitSettings().on_interaction_data_update(e)})),window.addEventListener("focus",(()=>{const e={event:"focus",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(e),this.jsPsych.getInitSettings().on_interaction_data_update(e)}));const e=()=>{const e={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(e),this.jsPsych.getInitSettings().on_interaction_data_update(e)};document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}_customInsert(e){this.allData=new g(e)}_fullreset(){this.reset(),this.dataProperties={}}}class v{constructor(){this.hardwareConnected=!1,document.addEventListener("jspsych-activate",(e=>{this.hardwareConnected=!0}))}hardware(e){const t=new CustomEvent("jspsych",{detail:e});document.dispatchEvent(t)}}class b{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.getRootElement=e,this.areResponsesCaseSensitive=t,this.minimumValidRt=n,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,l(this),this.registerRootListeners()}registerRootListeners(){if(!this.areRootListenersRegistered){const e=this.getRootElement();e&&(e.addEventListener("keydown",this.rootKeydownListener),e.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}rootKeydownListener(e){for(const t of Array.from(this.listeners))t(e);this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key))}toLowerCaseIfInsensitive(e){return this.areResponsesCaseSensitive?e:e.toLowerCase()}rootKeyupListener(e){this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key))}isResponseValid(e,t,n){return!(!t&&this.heldKeys.has(n))&&("ALL_KEYS"===e||"NO_KEYS"!==e&&e.includes(n))}getKeyboardResponse(e){let{callback_function:t,valid_responses:n="ALL_KEYS",rt_method:r="performance",persist:i,audio_context:o,audio_context_start_time:s,allow_held_key:a=!1,minimum_valid_rt:u=this.minimumValidRt}=e;"performance"!==r&&"audio"!==r&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),r="performance");const l="performance"===r?performance.now():1e3*s;this.registerRootListeners(),this.areResponsesCaseSensitive||"string"===typeof n||(n=n.map((e=>e.toLowerCase())));const c=e=>{const s=Math.round(("performance"==r?performance.now():1e3*o.currentTime)-l);if(s<u)return;const h=this.toLowerCaseIfInsensitive(e.key);this.isResponseValid(n,a,h)&&(e.preventDefault(),i||this.cancelKeyboardResponse(c),t({key:h,rt:s}))};return this.listeners.add(c),c}cancelKeyboardResponse(e){this.listeners.delete(e)}cancelAllKeyboardResponses(){this.listeners.clear()}compareKeys(e,t){if(!("string"!==typeof e&&null!==e||"string"!==typeof t&&null!==t))return"string"===typeof e&&"string"===typeof t?this.areResponsesCaseSensitive?e===t:e.toLowerCase()===t.toLowerCase():null===e&&null===t;console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.")}}!function(e){e[e.BOOL=0]="BOOL",e[e.STRING=1]="STRING",e[e.INT=2]="INT",e[e.FLOAT=3]="FLOAT",e[e.FUNCTION=4]="FUNCTION",e[e.KEY=5]="KEY",e[e.KEYS=6]="KEYS",e[e.SELECT=7]="SELECT",e[e.HTML_STRING=8]="HTML_STRING",e[e.IMAGE=9]="IMAGE",e[e.AUDIO=10]="AUDIO",e[e.VIDEO=11]="VIDEO",e[e.OBJECT=12]="OBJECT",e[e.COMPLEX=13]="COMPLEX",e[e.TIMELINE=14]="TIMELINE"}(f||(f={}));const w={data:{type:f.OBJECT,pretty_name:"Data",default:{}},on_start:{type:f.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:f.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:f.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:f.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:f.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:f.COMPLEX,default:null}},T=[f.AUDIO,f.IMAGE,f.VIDEO];class x{constructor(e,t){this.useWebaudio=e,this.webaudioContext=t,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}getVideoBuffer(e){return e.startsWith("blob:")&&(this.video_buffers[e]=e),this.video_buffers[e]}initAudio(){this.context=this.useWebaudio?this.webaudioContext:null}audioContext(){return null!==this.context&&"running"!==this.context.state&&this.context.resume(),this.context}getAudioBuffer(e){return new Promise(((t,n)=>{"undefined"==typeof this.audio_buffers[e]||"tmp"==this.audio_buffers[e]?this.preloadAudio([e],(()=>{t(this.audio_buffers[e])}),(()=>{}),(e=>{n(e.error)})):t(this.audio_buffers[e])}))}preloadAudio(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>{};e=h(e.flat());let o=0;if(0==e.length)return void n();const s=function(s){const a=new XMLHttpRequest;a.open("GET",s,!0),a.responseType="arraybuffer",a.onload=()=>{t.context.decodeAudioData(a.response,(i=>{t.audio_buffers[s]=i,o++,r(s),o==e.length&&n()}),(e=>{i({source:s,error:e})}))},a.onerror=e=>{let t=e;404==a.status&&(t="404"),i({source:s,error:t})},a.onloadend=e=>{404==a.status&&i({source:s,error:"404"})},a.send(),t.preload_requests.push(a)},a=function(s){const a=new Audio,u=()=>{t.audio_buffers[s]=a,o++,r(s),o==e.length&&n(),a.removeEventListener("canplaythrough",u)};a.addEventListener("canplaythrough",u),a.addEventListener("error",(function e(t){i({source:a.src,error:t}),a.removeEventListener("error",e)})),a.addEventListener("abort",(function e(t){i({source:a.src,error:t}),a.removeEventListener("abort",e)})),a.src=s,t.preload_requests.push(a)};for(const u of e)"undefined"!==typeof this.audio_buffers[u]?(o++,r(u),o==e.length&&n()):(this.audio_buffers[u]="tmp",null!==this.audioContext()?s(u):a(u))}preloadImages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>{};e=h(e.flat());var i=0;if(0!==e.length)for(let o=0;o<e.length;o++){const s=new Image,a=e[o];s.onload=()=>{i++,n(a),i===e.length&&t()},s.onerror=e=>{r({source:a,error:e})},s.src=a,this.img_cache[a]=s,this.preload_requests.push(s)}else t()}preloadVideo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>{};e=h(e.flat());let i=0;if(0!==e.length)for(const o of e){const s=this.video_buffers,a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType="blob",a.onload=()=>{if(200===a.status||0===a.status){const r=a.response;s[o]=URL.createObjectURL(r),i++,n(o),i===e.length&&t()}},a.onerror=e=>{let t=e;404==a.status&&(t="404"),r({source:o,error:t})},a.onloadend=e=>{404==a.status&&r({source:o,error:"404"})},a.send(),this.preload_requests.push(a)}else t()}getAutoPreloadList(e){const t=Object.fromEntries(T.map((e=>[e,new Set]))),n=(e,r)=>{var i,o,s,a;if("undefined"!==typeof e.timeline)for(const t of e.timeline)n(t,null!==(i=e.type)&&void 0!==i?i:r);else if(null===(s=null!==(o=e.type)&&void 0!==o?o:r)||void 0===s?void 0:s.info){const{name:n,parameters:i}=(null!==(a=e.type)&&void 0!==a?a:r).info;this.preloadMap.has(n)||this.preloadMap.set(n,Object.fromEntries(Object.entries(i).filter((e=>{let[t,{type:n,preload:r}]=e;return T.includes(n)&&(null===r||void 0===r||r)})).map((e=>{let[t,{type:n}]=e;return[t,n]}))));for(const[r,o]of Object.entries(this.preloadMap.get(n))){const n=e[r],i=t[o];if("string"===typeof n)i.add(n);else if(Array.isArray(n))for(const e of n.flat())"string"===typeof e&&i.add(e)}}};return n({timeline:e}),{images:[...t[f.IMAGE]],audio:[...t[f.AUDIO]],video:[...t[f.VIDEO]]}}cancelPreloads(){for(const e of this.preload_requests)e.onload=()=>{},e.onerror=()=>{},e.oncanplaythrough=()=>{},e.onabort=()=>{};this.preload_requests=[]}initializeMicrophoneRecorder(e){const t=new MediaRecorder(e);this.microphone_recorder=t}getMicrophoneRecorder(){return this.microphone_recorder}initializeCameraRecorder(e,t){this.camera_stream=e;const n=new MediaRecorder(e,t);this.camera_recorder=n}getCameraStream(){return this.camera_stream}getCameraRecorder(){return this.camera_recorder}}class E{constructor(e,t){this.getDisplayContainerElement=e,this.setJsPsychTimeout=t}dispatchEvent(e){this.getDisplayContainerElement().dispatchEvent(e)}keyDown(e){this.dispatchEvent(new KeyboardEvent("keydown",{key:e}))}keyUp(e){this.dispatchEvent(new KeyboardEvent("keyup",{key:e}))}pressKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t>0?this.setJsPsychTimeout((()=>{this.keyDown(e),this.keyUp(e)}),t):(this.keyDown(e),this.keyUp(e))}clickTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t>0?this.setJsPsychTimeout((()=>{e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}),t):(e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}fillTextInput(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n>0?this.setJsPsychTimeout((()=>{e.value=t}),n):e.value=t}getValidKey(e){const t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];let n;if("NO_KEYS"==e)n=null;else if("ALL_KEYS"==e)n=t[Math.floor(Math.random()*t.length)];else{const t=e.flat();n=t[Math.floor(Math.random()*t.length)]}return n}mergeSimulationData(e,t){return Object.assign(Object.assign({},e),null===t||void 0===t?void 0:t.data)}ensureSimulationDataConsistency(e,t){if(t.rt&&(t.rt=Math.round(t.rt)),e.trial_duration&&t.rt&&t.rt>e.trial_duration&&(t.rt=null,t.response&&(t.response=null),t.correct&&(t.correct=!1)),e.choices&&"NO_KEYS"==e.choices&&(t.rt&&(t.rt=null),t.response&&(t.response=null)),e.allow_response_before_complete&&e.sequence_reps&&e.frame_time){const n=e.sequence_reps*e.frame_time*e.stimuli.length;t.rt<n&&(t.rt=null,t.response=null)}}}class S{constructor(){this.timeout_handlers=[]}setTimeout(e,t){const n=window.setTimeout(e,t);return this.timeout_handlers.push(n),n}clearAllTimeouts(){for(const e of this.timeout_handlers)clearTimeout(e);this.timeout_handlers=[]}}var k={exports:{}};(function(e,t,n){function r(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new r(e),o=t&&t.state,s=n.next;return s.int32=function(){return 4294967296*n.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}t&&t.exports?t.exports=o:n&&n.amd?n((function(){return o})):this.alea=o})(0,k,!1);var I=k.exports,C=u(I),A={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new r(e),o=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}t&&t.exports?t.exports=o:n&&n.amd?n((function(){return o})):this.xor128=o}(0,e,!1)}(A);var N=A.exports,D={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}t&&t.exports?t.exports=o:n&&n.amd?n((function(){return o})):this.xorwow=o}(0,e,!1)}(D);var P=D.exports,O={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,o&&(o.x&&i(o,n),s.state=function(){return i(n,{})}),s}t&&t.exports?t.exports=o:n&&n.amd?n((function(){return o})):this.xorshift7=o}(0,e,!1)}(O);var R=O.exports,L={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,s,a=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,i=0==(n=a[127&o]^=r+s)?i+1:0);for(i>=128&&(a[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=a[i+34&127],n=a[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[i]=r^n;e.w=s,e.X=a,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,o&&(o.X&&i(o,n),s.state=function(){return i(n,{})}),s}t&&t.exports?t.exports=o:n&&n.amd?n((function(){return o})):this.xor4096=o}(0,e,!1)}(L);var M=L.exports,j={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,o&&("object"==typeof o&&i(o,n),s.state=function(){return i(n,{})}),s}t&&t.exports?t.exports=o:n&&n.amd?n((function(){return o})):this.tychei=o}(0,e,!1)}(j);var F=j.exports,V={exports:{}};!function(e){!function(t,n,r){var i,o=256,s="random",a=r.pow(o,6),u=r.pow(2,52),l=2*u,c=o-1;function h(e,c,h){var y=[],v=m(p((c=1==c?{entropy:!0}:c||{}).entropy?[e,g(n)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(t.crypto||t.msCrypto).getRandomValues(e)),g(e)}catch(a){var r=t.navigator,s=r&&r.plugins;return[+new Date,t,s,t.screen,g(n)]}}():e,3),y),b=new d(y),w=function(){for(var e=b.g(6),t=a,n=0;e<u;)e=(e+n)*o,t*=o,n=b.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,m(g(b.S),n),(c.pass||h||function(e,t,n,i){return i&&(i.S&&f(i,b),e.state=function(){return f(b,{})}),n?(r[s]=e,t):e})(w,v,"global"in c?c.global:this==r,c.state)}function d(e){var t,n=e.length,r=this,i=0,s=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<o;)a[i]=i++;for(i=0;i<o;i++)a[i]=a[s=c&s+e[i%n]+(t=a[i])],a[s]=t;(r.g=function(e){for(var t,n=0,i=r.i,s=r.j,a=r.S;e--;)t=a[i=c&i+1],n=n*o+a[c&(a[i]=a[s=c&s+t])+(a[s]=t)];return r.i=i,r.j=s,n})(o)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(p(e[n],t-1))}catch(o){}return r.length?r:"string"==i?e:e+"\0"}function m(e,t){for(var n,r=e+"",i=0;i<r.length;)t[c&i]=c&(n^=19*t[c&i])+r.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(m(r.random(),n),e.exports){e.exports=h;try{i=require("crypto")}catch(y){}}else r["seed"+s]=h}("undefined"!==typeof self?self:a,[],Math)}(V);var B=I,U=N,z=P,q=R,K=M,H=F,W=V.exports;W.alea=B,W.xor128=U,W.xorwow=z,W.xorshift7=q,W.xor4096=K,W.tychei=H;var G=W,Q=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function Y(e){var t;const n=null!==(t=e)&&void 0!==t&&t.seed?new G(e.seed):null;function r(){return e&&e.maxLength>1?function(){var t,n=!1;for(;!n;)(t=i()).length<=e.maxLength&&(n=!0);return t}():i()}function i(){return Q[o(Q.length)]}function o(e){const t=n?n():Math.random();return Math.floor(t*e)}if("undefined"===typeof e)return r();"number"===typeof e&&(e={exactly:e}),e.exactly&&(e.min=e.exactly,e.max=e.exactly),"number"!==typeof e.wordsPerString&&(e.wordsPerString=1),"function"!==typeof e.formatter&&(e.formatter=e=>e),"string"!==typeof e.separator&&(e.separator=" ");for(var s=e.min+o(e.max+1-e.min),a=[],u="",l=0,c=0;c<s*e.wordsPerString;c++)l===e.wordsPerString-1?u+=e.formatter(r(),l):u+=e.formatter(r(),l)+e.separator,l++,(c+1)%e.wordsPerString===0&&(a.push(u),u="",l=0);return"string"===typeof e.join&&(a=a.join(e.join)),a}var X=Y;Y.wordList=Q;var $=u(X);function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Array.isArray(e),i=Array.isArray(t);if(r)if(i){if(e.length!=t.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),t.length<e.length){let n=[];for(let r=0;r<e.length;r++)n.push(t);t=n}else t=t.slice(0,e.length)}else{let n=[];for(let r=0;r<e.length;r++)n.push(t);t=n}else i?(t=[t[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],t=[t]);let o=[];for(let a=0;a<e.length;a++)for(let n=0;n<t[a];n++)null==e[a]||"object"!=typeof e[a]?o.push(e[a]):o.push(Object.assign({},e[a]));let s=Z(o);return n&&(s=function(e){const t={};for(const n of e)for(const e of Object.keys(n))"undefined"===typeof t[e]&&(t[e]=[]),t[e].push(n[e]);return t}(s)),s}function Z(e){Array.isArray(e)||console.error("Argument to shuffle() must be an array.");const t=e.slice(0);let n,r,i=t.length;for(;i;)r=Math.floor(Math.random()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;if(1==n)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),Z(e[0]);let r=[];for(let a=0;a<n;a++)r.push(a);t&&(r=Z(r));const i=[];let o=null;for(let a=0;a<n;a++)o=null===o?e[a].length:Math.min(o,e[a].length),i.push(Z(e[a]));const s=[];for(let a=0;a<o;a++)for(let e=0;e<r.length;e++)s.push(i[r[e]][a]);return s}function te(e,t){return Array.isArray(e)||console.error("First argument to sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),Z(e).slice(0,t)}function ne(e,t,n){Array.isArray(e)||console.error("First argument to sampleWithReplacement() must be an array");const r=[];if("undefined"!==typeof n){n.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");let t=0;for(const e of n)t+=e;for(const e of n)r.push(e/t)}else for(let s=0;s<e.length;s++)r.push(1/e.length);const i=[r[0]];for(let s=1;s<r.length;s++)i.push(r[s]+i[s-1]);const o=[];for(let s=0;s<t;s++){const t=Math.random();let n=0;for(;t>i[n];)n++;o.push(e[n])}return o}function re(e,t){return function(){var e=0,t=0;for(;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*t+e}function ie(e){return-Math.log(Math.random())/e}var oe=Object.freeze({__proto__:null,factorial:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[{}];for(const[i,o]of Object.entries(e)){const e=[];for(const t of o)for(const n of r)e.push(Object.assign(Object.assign({},n),{[i]:t}));r=e}return J(r,t,n)},randomID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="";const n="0123456789abcdefghjklmnopqrstuvwxyz";for(let r=0;r<e;r++)t+=n[Math.floor(35*Math.random())];return t},randomInt:function(e,t){if(t<e)throw new Error("Upper boundary must be less than or equal to lower boundary");return e+Math.floor(Math.random()*(t-e+1))},randomWords:function(e){return $(e)},repeat:J,sampleBernoulli:function(e){return Math.random()<=e?1:0},sampleExGaussian:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=re(e,t)+ie(n);if(r)for(;i<=0;)i=re(e,t)+ie(n);return i},sampleExponential:ie,sampleNormal:re,sampleWithReplacement:ne,sampleWithoutReplacement:te,setSeed:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random().toString();return Math.random=C(e),e},shuffle:Z,shuffleAlternateGroups:ee,shuffleNoRepeats:function(e,t){Array.isArray(e)||console.error("First argument to shuffleNoRepeats() must be an array."),"undefined"!==typeof t&&"function"!==typeof t&&console.error("Second argument to shuffleNoRepeats() must be a function."),"undefined"==typeof t&&(t=function(e,t){return e===t});const n=Z(e);for(let r=0;r<n.length-1;r++)if(t(n[r],n[r+1])){let e=Math.floor(Math.random()*(n.length-2))+1;for(;t(n[r+1],n[e])||t(n[r+1],n[e+1])||t(n[r+1],n[e-1])||t(n[r],n[e]);)e=Math.floor(Math.random()*(n.length-2))+1;const i=n[e];n[e]=n[r+1],n[r+1]=i}return n}});function se(){const e={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},t=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==n?"":n[1]},n=t(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(r){e[r]=unescape(t(n,r))})),e.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==e.assignmentId,e.outsideTurk=!e.previewMode&&""===e.hitId&&""==e.assignmentId&&""==e.workerId,e}var ae=Object.freeze({__proto__:null,submitToTurk:function(e){const t=se(),n=t.assignmentId,r=t.turkSubmitTo;if(!n||!r)return;const i=document.createElement("form");i.method="POST",i.action=r+"/mturk/externalSubmit?assignmentId="+n;for(const o in e)if(e.hasOwnProperty(o)){const t=document.createElement("input");t.type="hidden",t.name=o,t.id=o,t.value=e[o],i.appendChild(t)}document.body.appendChild(i),i.submit()},turkInfo:se});class ue{constructor(e,t,n,r){if(this.jsPsych=e,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=n,this.relative_id="undefined"===typeof n?0:r,"undefined"!==typeof t.timeline){this.timeline_parameters={timeline:[],loop_function:t.loop_function,conditional_function:t.conditional_function,sample:t.sample,randomize_order:"undefined"!=typeof t.randomize_order&&t.randomize_order,repetitions:"undefined"==typeof t.repetitions?1:t.repetitions,timeline_variables:"undefined"==typeof t.timeline_variables?[{}]:t.timeline_variables,on_timeline_finish:t.on_timeline_finish,on_timeline_start:t.on_timeline_start},this.setTimelineVariablesOrder();var i=Object.assign({},t);delete i.timeline,delete i.conditional_function,delete i.loop_function,delete i.randomize_order,delete i.repetitions,delete i.timeline_variables,delete i.sample,delete i.on_timeline_start,delete i.on_timeline_finish,this.node_trial_data=i;for(var o=0;o<t.timeline.length;o++){var s=Object.assign({},i,t.timeline[o]);if("object"==typeof i.data&&"object"==typeof t.timeline[o].data){var a=Object.assign({},i.data,t.timeline[o].data);s.data=a}this.timeline_parameters.timeline.push(new ue(this.jsPsych,s,this,o))}}else"undefined"===typeof t.type&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(t)),this.trial_parameters=Object.assign({},t)}trial(){return"undefined"==typeof this.timeline_parameters?d(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}markCurrentTrialComplete(){"undefined"===typeof this.timeline_parameters?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}nextRepetiton(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}setTimelineVariablesOrder(){const e=this.timeline_parameters;if("undefined"!==typeof e&&"undefined"!==typeof e.timeline_variables){for(var t=[],n=0;n<e.timeline_variables.length;n++)t.push(n);"undefined"!==typeof e.sample&&("custom"==e.sample.type?t=e.sample.fn(t):"with-replacement"==e.sample.type?t=ne(t,e.sample.size,e.sample.weights):"without-replacement"==e.sample.type?t=te(t,e.sample.size):"fixed-repetitions"==e.sample.type?t=J(t,e.sample.size,!1):"alternate-groups"==e.sample.type?t=ee(e.sample.groups,e.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),e.randomize_order&&(t=Z(t)),this.progress.order=t}}nextSet(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}advance(){const e=this.progress,t=this.timeline_parameters,n=this.jsPsych.internal;if(e.done)return!0;if(-1==e.current_location){if("undefined"!==typeof t){if("undefined"!==typeof t.conditional_function&&0==e.current_repetition&&0==e.current_variable_set){n.call_immediate=!0;var r=t.conditional_function();if(n.call_immediate=!1,0==r)return e.done=!0,!0}"undefined"!==typeof t.on_timeline_start&&0==e.current_variable_set&&t.on_timeline_start()}return e.current_location=0,this.advance()}if("undefined"!==typeof t){for(var i=!1;e.current_location<t.timeline.length&&0==i;){if(!t.timeline[e.current_location].advance())return i=!0,!1;e.current_location++}return e.current_variable_set<e.order.length-1?(this.nextSet(),this.advance()):e.current_repetition<t.repetitions-1?(this.nextRepetiton(),"undefined"!==typeof t.on_timeline_finish&&t.on_timeline_finish(),this.advance()):("undefined"!==typeof t.on_timeline_finish&&t.on_timeline_finish(),"undefined"!==typeof t.loop_function?(n.call_immediate=!0,t.loop_function(this.generatedData())?(this.reset(),n.call_immediate=!1,this.parent_node.advance()):(e.done=!0,n.call_immediate=!1,!0)):(e.done=!0,!0))}}isComplete(){return this.progress.done}getTimelineVariableValue(e){if("undefined"!=typeof this.timeline_parameters)return this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][e]}findTimelineVariable(e){var t=this.getTimelineVariableValue(e);return"undefined"==typeof t?"undefined"!==typeof this.parent_node?this.parent_node.findTimelineVariable(e):void 0:t}timelineVariable(e){if("undefined"==typeof this.timeline_parameters){const t=this.findTimelineVariable(e);return"undefined"===typeof t&&console.warn("Timeline variable "+e+" not found."),t}{var t=Math.max(0,this.progress.current_location);t==this.timeline_parameters.timeline.length&&(t-=1);const n=this.timeline_parameters.timeline[t].timelineVariable(e);return"undefined"===typeof n&&console.warn("Timeline variable "+e+" not found."),n}}allTimelineVariables(){for(var e=this.allTimelineVariablesNames(),t={},n=0;n<e.length;n++)t[e[n]]=this.timelineVariable(e[n]);return t}allTimelineVariablesNames(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("undefined"!==typeof this.timeline_parameters){e=e.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var t=Math.max(0,this.progress.current_location);return t==this.timeline_parameters.timeline.length&&(t-=1),this.timeline_parameters.timeline[t].allTimelineVariablesNames(e)}if("undefined"==typeof this.timeline_parameters)return e}length(){var e=0;if("undefined"===typeof this.timeline_parameters)return 1;for(var t=0;t<this.timeline_parameters.timeline.length;t++)e+=this.timeline_parameters.timeline[t].length();return e}percentComplete(){for(var e=this.length(),t=0,n=0;n<this.timeline_parameters.timeline.length;n++)this.timeline_parameters.timeline[n].isComplete()&&(t+=this.timeline_parameters.timeline[n].length());return t/e*100}reset(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),"undefined"!=typeof this.timeline_parameters)for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}end(){this.progress.done=!0}endActiveNode(){"undefined"==typeof this.timeline_parameters?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}ID(){var e="";return"undefined"==typeof this.parent_node?"0."+this.progress.current_iteration:(e+=this.parent_node.ID()+"-",e+=this.relative_id+"."+this.progress.current_iteration)}activeID(){return"undefined"==typeof this.timeline_parameters?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}generatedData(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}trialsOfType(e){if("undefined"==typeof this.timeline_parameters)return this.trial_parameters.type==e?this.trial_parameters:[];for(var t=[],n=0;n<this.timeline_parameters.timeline.length;n++){var r=this.timeline_parameters.timeline[n].trialsOfType(e);t=t.concat(r)}return t}insert(e){"undefined"===typeof this.timeline_parameters?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new ue(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),e),this,this.timeline_parameters.timeline.length))}}function le(e){return new Promise((t=>setTimeout(t,e)))}class ce{version(){return"7.3.4"}constructor(e){this.extensions={},this.turk=ae,this.randomization=oe,this.utils=p,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,e=Object.assign({display_element:void 0,on_finish:()=>{},on_trial_start:()=>{},on_trial_finish:()=>{},on_data_update:()=>{},on_interaction_data_update:()=>{},on_close:()=>{},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},e),this.opts=e,l(this),this.webaudio_context="undefined"!==typeof window&&"undefined"!==typeof window.AudioContext?new AudioContext:null,"file:"!=window.location.protocol||!1!==e.override_safe_mode&&"undefined"!==typeof e.override_safe_mode||(e.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new y(this),this.pluginAPI=function(e){const t=e.getInitSettings(),n=l(new b(e.getDisplayContainerElement,t.case_sensitive_responses,t.minimum_valid_rt)),r=l(new S),i=l(new x(t.use_webaudio,e.webaudio_context)),o=l(new v),s=l(new E(e.getDisplayContainerElement,r.setTimeout));return Object.assign({},n,r,i,o,s)}(this);for(const t of e.extensions)this.extensions[t.type.info.name]=new t.type(this);this.pluginAPI.initAudio()}run(e){return s(this,void 0,void 0,(function*(){"undefined"===typeof e&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),0===e.length&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=e,this.timeline=new ue(this,{timeline:e}),yield this.prepareDom(),yield this.checkExclusions(this.opts.exclusions),yield this.loadExtensions(this.opts.extensions),document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),yield this.finished}))}simulate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-only",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,void 0,void 0,(function*(){this.simulation_mode=t,this.simulation_options=n,yield this.run(e)}))}getProgress(){return{total_trials:"undefined"===typeof this.timeline?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:"undefined"===typeof this.timeline?0:this.timeline.percentComplete()}}getStartTime(){return this.exp_start_time}getTotalTime(){return"undefined"===typeof this.exp_start_time?0:(new Date).getTime()-this.exp_start_time.getTime()}getDisplayElement(){return this.DOM_target}getDisplayContainerElement(){return this.DOM_container}finishTrial(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;if(this.current_trial_finished)return;this.current_trial_finished=!0,"undefined"!==typeof this.current_trial.css_classes&&Array.isArray(this.current_trial.css_classes)&&this.DOM_target.classList.remove(...this.current_trial.css_classes),this.data.write(e);const n=this.data.getLastTrialData().values()[0],r=this.current_trial;if("object"===typeof r.save_trial_parameters)for(const s of Object.keys(r.save_trial_parameters)){const e=r.save_trial_parameters[s];!0===e&&("undefined"===typeof r[s]?console.warn('Invalid parameter specified in save_trial_parameters. Trial has no property called "'.concat(s,'".')):"function"===typeof r[s]?n[s]=r[s].toString():n[s]=r[s]),!1===e&&"internal_node_id"!==s&&"trial_index"!==s&&delete n[s]}const i=(null!==(t=r.extensions)&&void 0!==t?t:[]).map((e=>this.extensions[e.type.info.name].on_finish(e.params))),o=()=>{this.internal.call_immediate=!0,"function"===typeof r.on_finish&&r.on_finish(n),this.opts.on_trial_finish(n),this.opts.on_data_update(n),this.internal.call_immediate=!1,"data-only"===this.simulation_mode?this.nextTrial():null===typeof r.post_trial_gap||"undefined"===typeof r.post_trial_gap?this.opts.default_iti>0?setTimeout(this.nextTrial,this.opts.default_iti):this.nextTrial():r.post_trial_gap>0?setTimeout(this.nextTrial,r.post_trial_gap):this.nextTrial()};if(i.some((e=>"function"===typeof e.then)))Promise.all(i.map((e=>Promise.resolve(e).then((e=>{Object.assign(n,e)}))))).then(o);else{for(const e of i)Object.assign(n,e);o()}}endExperiment(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.timeline.end_message=e,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(t)}endCurrentTimeline(){this.timeline.endActiveNode()}getCurrentTrial(){return this.current_trial}getInitSettings(){return this.opts}getCurrentTimelineNodeID(){return this.timeline.activeID()}timelineVariable(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.internal.call_immediate||!0===t?this.timeline.timelineVariable(e):{timelineVariablePlaceholder:!0,timelineVariableFunction:()=>this.timeline.timelineVariable(e)}}getAllTimelineVariables(){return this.timeline.allTimelineVariables()}addNodeToEndOfTimeline(e,t){this.timeline.insert(e)}pauseExperiment(){this.paused=!0}resumeExperiment(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}loadFail(e){e=e||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=e}getSafeModeStatus(){return this.file_protocol}getTimeline(){return this.timelineDescription}prepareDom(){return s(this,void 0,void 0,(function*(){"complete"!==document.readyState&&(yield new Promise((e=>{window.addEventListener("load",e)})));const e=this.opts;if("undefined"===typeof e.display_element){null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",e.display_element=document.querySelector("body")}else{const t=e.display_element instanceof Element?e.display_element:document.querySelector("#"+e.display_element);null===t?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):e.display_element=t}e.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=e.display_element,this.DOM_target=document.querySelector("#jspsych-content"),null!==e.experiment_width&&(this.DOM_target.style.width=e.experiment_width+"px"),e.display_element.tabIndex=0,-1===e.display_element.className.indexOf("jspsych-display-element")&&(e.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",e.on_close)}))}loadExtensions(e){return s(this,void 0,void 0,(function*(){try{yield Promise.all(e.map((e=>this.extensions[e.type.info.name].initialize(e.params||{}))))}catch(t){throw console.error(t),new Error(t)}}))}startExperiment(){this.finished=new Promise((e=>{this.resolveFinishedPromise=e})),!0===this.opts.show_progress_bar&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}finishExperiment(){const e=this.opts.on_finish(this.data.get()),t=()=>{"undefined"!==typeof this.timeline.end_message&&(this.DOM_target.innerHTML=this.timeline.end_message),this.resolveFinishedPromise()};e?Promise.resolve(e).then(t):t()}nextTrial(){if(this.paused)return void(this.waiting=!0);this.global_trial_index++,this.timeline.markCurrentTrialComplete();const e=this.timeline.advance();!0===this.opts.show_progress_bar&&!0===this.opts.auto_update_progress_bar&&this.updateProgressBar(),e?this.finishExperiment():this.doTrial(this.timeline.trial())}doTrial(e){if(this.current_trial=e,this.current_trial_finished=!1,this.evaluateTimelineVariables(e),"string"===typeof e.type)throw new c("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(e.type=Object.assign(Object.assign({},l(new e.type(this))),{info:e.type.info}),this.evaluateFunctionParameters(e),this.setDefaultValues(e),this.internal.call_immediate=!0,this.opts.on_trial_start(e),"function"===typeof e.on_start&&e.on_start(e),Array.isArray(e.extensions))for(const o of e.extensions)this.extensions[o.type.info.name].on_start(o.params);this.DOM_container.focus(),this.DOM_target.scrollTop=0,"undefined"!==typeof e.css_classes&&(Array.isArray(e.css_classes)||"string"!==typeof e.css_classes||(e.css_classes=[e.css_classes]),Array.isArray(e.css_classes)&&this.DOM_target.classList.add(...e.css_classes));const t=()=>{if("function"===typeof e.on_load&&e.on_load(),Array.isArray(e.extensions))for(const t of e.extensions)this.extensions[t.type.info.name].on_load(t.params)};let n,r,i;this.simulation_mode||(n=e.type.trial(this.DOM_target,e,t)),this.simulation_mode&&(e.type.simulate?(e.simulation_options||(r=this.simulation_options.default),e.simulation_options&&("string"==typeof e.simulation_options?this.simulation_options[e.simulation_options]?r=this.simulation_options[e.simulation_options]:this.simulation_options.default?(console.log('No matching simulation options found for "'.concat(e.simulation_options,'". Using "default" options.')),r=this.simulation_options.default):(console.log('No matching simulation options found for "'.concat(e.simulation_options,'" and no "default" options provided. Using the default values provided by the plugin.')),r={}):r=e.simulation_options),i=this.utils.deepMerge(this.simulation_options.default,r),i=this.utils.deepCopy(i),i=this.replaceFunctionsWithValues(i,null),n=!1===(null===i||void 0===i?void 0:i.simulate)?e.type.trial(this.DOM_target,e,t):e.type.simulate(e,(null===i||void 0===i?void 0:i.mode)||this.simulation_mode,i,t)):n=e.type.trial(this.DOM_target,e,t));n&&"function"==typeof n.then||this.simulation_mode&&(!this.simulation_mode||!1!==(null===i||void 0===i?void 0:i.simulate))||t(),this.internal.call_immediate=!1}evaluateTimelineVariables(e){for(const t of Object.keys(e))"object"===typeof e[t]&&null!==e[t]&&"undefined"!==typeof e[t].timelineVariablePlaceholder&&(e[t]=e[t].timelineVariableFunction()),"object"===typeof e[t]&&null!==e[t]&&"timeline"!==t&&"timeline_variables"!==t&&this.evaluateTimelineVariables(e[t])}evaluateFunctionParameters(e){this.internal.call_immediate=!0;for(const t of Object.keys(e))"type"!==t&&("undefined"!==typeof w[t]&&w[t].type!==f.FUNCTION&&(e[t]=this.replaceFunctionsWithValues(e[t],null)),"undefined"!==typeof e.type.info.parameters[t]&&e.type.info.parameters[t].type!==f.FUNCTION&&(e[t]=this.replaceFunctionsWithValues(e[t],e.type.info.parameters[t])));this.internal.call_immediate=!1}replaceFunctionsWithValues(e,t){if(null===e)return e;if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=this.replaceFunctionsWithValues(e[n],t);else if("object"===typeof e)if(null!==t&&t.nested)for(const n of Object.keys(e))"object"===typeof t.nested[n]&&t.nested[n].type!==f.FUNCTION&&(e[n]=this.replaceFunctionsWithValues(e[n],t.nested[n]));else for(const n of Object.keys(e))"type"!==n&&"timeline"!==n&&"timeline_variables"!==n&&(e[n]=this.replaceFunctionsWithValues(e[n],null));else if("function"===typeof e)return e();return e}setDefaultValues(e){for(const t in e.type.info.parameters)e.type.info.parameters[t].type===f.COMPLEX?("undefined"===typeof e[t]&&e.type.info.parameters[t].default&&(e[t]=e.type.info.parameters[t].default),!0===e.type.info.parameters[t].array&&Array.isArray(e[t])&&e[t].forEach((function(n,r){for(const i in e.type.info.parameters[t].nested)"undefined"!==typeof e[t][r][i]&&null!==e[t][r][i]||("undefined"===typeof e.type.info.parameters[t].nested[i].default?console.error("You must specify a value for the ".concat(i," parameter (nested in the ").concat(t," parameter) in the ").concat(e.type.info.name," plugin.")):e[t][r][i]=e.type.info.parameters[t].nested[i].default)}))):"undefined"!==typeof e[t]&&null!==e[t]||("undefined"===typeof e.type.info.parameters[t].default?console.error("You must specify a value for the ".concat(t," parameter in the ").concat(e.type.info.name," plugin.")):e[t]=e.type.info.parameters[t].default)}checkExclusions(e){return s(this,void 0,void 0,(function*(){if((e.min_width||e.min_height||e.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),e.min_width||e.min_height){const t=e.min_width||0,n=e.min_height||0;if(window.innerWidth<t||window.innerHeight<n){for(this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+t+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+n+"px. Your current height is "+window.innerHeight+"px.</p>";window.innerWidth<t||window.innerHeight<n;)yield le(100);this.getDisplayElement().innerHTML=""}}if("undefined"!==typeof e.audio&&e.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error}))}drawProgressBar(e){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+e+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}updateProgressBar(){this.setProgressBar(this.getProgress().percent_complete/100)}setProgressBar(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*e+"%",this.progress_bar_amount=e}getProgressBarCompleted(){return this.progress_bar_amount}}function he(e){const t=new ce(e);return Object.defineProperties(t,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map((e=>{let[t,n]=e;return[t,{get(){throw new c(n)}}]})))),t}"undefined"!==typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);var de=n(536);const fe={name:"html-keyboard-response",parameters:{stimulus:{type:f.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:f.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:f.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:f.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:f.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:f.BOOL,pretty_name:"Response ends trial",default:!0}}};class pe{constructor(e){this.jsPsych=e}trial(e,t){var n='<div id="jspsych-html-keyboard-response-stimulus">'+t.stimulus+"</div>";null!==t.prompt&&(n+=t.prompt),e.innerHTML=n;var r={rt:null,key:null};const i=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),"undefined"!==typeof o&&this.jsPsych.pluginAPI.cancelKeyboardResponse(o);var n={rt:r.rt,stimulus:t.stimulus,response:r.key};e.innerHTML="",this.jsPsych.finishTrial(n)};if("NO_KEYS"!=t.choices)var o=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:n=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==r.key&&(r=n),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1});null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(i,t.trial_duration)}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n(),null!==r.rt&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt)}}pe.info=fe;const me={name:"html-button-response",parameters:{stimulus:{type:f.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:f.STRING,pretty_name:"Choices",default:void 0,array:!0},button_html:{type:f.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0},prompt:{type:f.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:f.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:f.INT,pretty_name:"Trial duration",default:null},margin_vertical:{type:f.STRING,pretty_name:"Margin vertical",default:"0px"},margin_horizontal:{type:f.STRING,pretty_name:"Margin horizontal",default:"8px"},response_ends_trial:{type:f.BOOL,pretty_name:"Response ends trial",default:!0}}};class ge{constructor(e){this.jsPsych=e}trial(e,t){var n='<div id="jspsych-html-button-response-stimulus">'+t.stimulus+"</div>",r=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?r=t.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var i=0;i<t.choices.length;i++)r.push(t.button_html);n+='<div id="jspsych-html-button-response-btngroup">';for(i=0;i<t.choices.length;i++){var o=r[i].replace(/%choice%/g,t.choices[i]);n+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+o+"</div>"}n+="</div>",null!==t.prompt&&(n+=t.prompt),e.innerHTML=n;var s=performance.now();for(i=0;i<t.choices.length;i++)e.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",(e=>{l(e.currentTarget.getAttribute("data-choice"))}));var a={rt:null,button:null};const u=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var n={rt:a.rt,stimulus:t.stimulus,response:a.button};e.innerHTML="",this.jsPsych.finishTrial(n)};function l(n){var r=performance.now(),i=Math.round(r-s);a.button=parseInt(n),a.rt=i,e.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var o=document.querySelectorAll(".jspsych-html-button-response-button button"),l=0;l<o.length;l++)o[l].setAttribute("disabled","disabled");t.response_ends_trial&&u()}null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{e.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(u,t.trial_duration)}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.randomization.randomInt(0,e.choices.length-1)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n(),null!==r.rt&&this.jsPsych.pluginAPI.clickTarget(i.querySelector('div[data-choice="'.concat(r.response,'"] button')),r.rt)}}ge.info=me;n(347),n(489);f.COMPLEX,f.HTML_STRING,f.STRING,f.INT,f.INT,f.BOOL,f.STRING,f.BOOL,f.HTML_STRING,f.STRING,f.BOOL;f.IMAGE,f.INT,f.INT,f.BOOL,f.KEYS,f.HTML_STRING,f.INT,f.INT,f.BOOL,f.BOOL;var ye=n(613),ve=n.n(ye);f.HTML_STRING,f.INT,f.INT,f.INT,f.INT,f.HTML_STRING,f.INT,f.STRING,f.BOOL,f.HTML_STRING,f.INT,f.INT,f.BOOL;f.COMPLEX,f.HTML_STRING,f.STRING,f.BOOL,f.BOOL,f.STRING,f.BOOL,f.HTML_STRING,f.STRING,f.BOOL;const be={USE_PHOTODIODE:!1,USE_EEG:!1,USE_ELECTRON:!0,USE_MTURK:!1};const we=JSON.parse('{"UU":"nback_task","rE":"1.1.0"}');function _e(){const e=function(e){const t=window.location.search.substring(1).split("&");for(let n=0;n<t.length;n++){const r=t[n].split("=");if(decodeURIComponent(r[0])===e)return decodeURIComponent(r[1])}}("PROLIFIC_PID");return e}function Te(e){var t,n,r,i=-.00778489400243029,o=-.322396458041136,s=-2.40075827716184,a=-2.54973253934373,u=4.37466414146497,l=2.93816398269878,c=.00778469570904146,h=.32246712907004,d=2.445134137143,f=3.75440866190742,p=.02425;return e<0||e>1?(alert("NormSInv: Argument out of range."),r=0):r=e<p?(((((i*(t=Math.sqrt(-2*Math.log(e)))+o)*t+s)*t+a)*t+u)*t+l)/((((c*t+h)*t+d)*t+f)*t+1):e<=.97575?(((((-39.6968302866538*(n=(t=e-.5)*t)+220.946098424521)*n-275.928510446969)*n+138.357751867269)*n-30.6647980661472)*n+2.50662827745924)*t/(((((-54.4760987982241*n+161.585836858041)*n-155.698979859887)*n+66.8013118877197)*n-13.2806815528857)*n+1):-(((((i*(t=Math.sqrt(-2*Math.log(1-e)))+o)*t+s)*t+a)*t+u)*t+l)/((((c*t+h)*t+d)*t+f)*t+1),r}const xe=JSON.parse('{"name":"n-back task","prompts":{"continue":{"prompt":"Press any key to continue.","button":"Continue"},"settingUp":"Setting up..."},"trials":{"honeycomb":{"welcome":"Welcome to the experiment. Press any key to begin.","instructions":{"read":"Please read the following instructions carefully.","circle":"In this experiment, a circle will appear in the center of the screen.","example":{"start":"If the circle is ","middle":", press the letter ","end":" on the keyboard as fast as you can."},"next":"Click next to begin."},"debrief":{"accuracy":{"start":"You responded correctly on ","end":"% of the trials."},"reactionTime":{"start":"Your average response time was ","end":"ms."},"complete":"Press any key to complete the experiment. Thank you!"},"finish":"This experiment has ended."},"adjustVolume":"Set tablet volume to 50/100.","camera":{"start":"Make sure the camera is pointing to you and your face is within the camera area.","end":"The camera recording has ended"},"eventMarker":{"connected":"Event marker connected.","not_connected":"No event marker connected."},"holdUpMarker":"Make sure the photodiode is covering the spot and any external recordings have begun before continuing.","quiz":{"ask":{"age":"What\'s your age?","demographics_age":"How old are you?","demographics_ethnicity":"What is your ethnicity?","demographics_race":"What is your race?","demographics_english":"Are you fluent in English?","demographics_gender":"What is your gender?","diagnoses":"Have you ever been diagnosed with Parkinson\'s disease, Schizophrenia, Obsessive-Compulsive Disorder, or Depression?"},"prompt":{"ius":{"preamble":{"start":"This questionnaire is designed to measure intolerance of uncertainty.","middle":"Please answer the following questions as honestly as you can.","end":"There are no right or wrong answers, and there are no trick questions."},"upset":"1. Unforeseen events upset me greatly.","frustration":"2. It frustrates me not having all the information I need.","full_life":"3. Uncertainty keeps me from living a full life.","surprise_avoid":"4. One should always look ahead so as to avoid surprises.","unforeseen_spoil":"5. A small unforeseen event can spoil everything, even with the best of planning.","uncertainty_paralysis":"6. When it\'s time to act, uncertainty paralyzes me.","uncertainty_malfunction":"7. When I am uncertain I can\'t function very well.","future":"8. I always want to know what the future has in store of me.","surprise_intolerance":"9. I can\'t stand being taken by surprise","doubt_paralysis":"10. The smallest doubt can stop me from acting.","organize":"11. I should be able to organize everything in advance.","escape":"12. I must get away from all uncertain situations."},"preamble":{"demo_1":"Demographics (1/3)","demo_2":"Demographics (2/3)","demo_3":"Demographics (3/3)","survey_1":"Survey (1/1)"}},"answer":{"age":"Answer 12 no matter what.","abstain":"Prefer not to answer.","ius":{"not":"1 - Not at all characteristic of me","little":"2 - A little characteristic of me","somewhat":"3 - Somewhat characteristic of me","very":"4 - Very characteristic of me","entirely":"5 - Entirely characteristic of me","abstain":"Prefer not to answer"},"debriefing":{"confirm_completion":"Confirm Completion"},"demographics_ethnicity":{"hispanic_latino":"Hispanic or Latino","no_hispanic_latino":"NOT Hispanic or Latino"},"demographics_race":{"asian":"Asian","african_american":"African-American","caucasian":"Caucasian","native_american_alaskan":"Native American/Alaskan","native_hawaiian_pacific_islander":"Native Hawaiian or Pacific Islander","other":"Other"},"demographics_binary":{"yes":"YES","no":"NO"},"demographics_gender":{"female":"Female","male":"Male","other":"Other","abstain":"Prefer to not say"},"demographics_diagnoses":{"no":"NO","parkinsons":"Parkinson\'s Disease","schizophrenia":"Schizophrenia","ocd":"Obsessive Compulsive Disorder","depression":"Depression"}},"direction":{"slider":{"right":"Move the slider to the right.","left":"Move the slider to the left."}}},"welcome":"Welcome! Here are your instructions"},"nback":{"welcomePage":{"welcome":"Welcome!","clickNext":"Click on <strong>Next</strong> to continue!"},"instructions0back":{"letter":"In this task, <strong>letters</strong> will appear on the screen consecutively.","yourTask1":"Your task will be <strong>to press the key \'5\' if you see the letter <strong style=\'color:red\'>X</strong> on the screen.</strong>","yourTask2":"Otherwise, press the <strong>key \'0\'</strong>.</p>"},"instructions1back":{"letter":"In this task, <strong>letters</strong> will appear on the screen consecutively.","yourTask1":"Your task will be <strong>to press the key \'5\' if the letter on the screen is the same as the <strong style=\'color:red\'>previous</strong> one</strong>.","yourTask2":"Otherwise, press the <strong>key \'0\'</strong>."},"instructions2back":{"letter":"In this task, <strong>letters</strong> will appear on the screen consecutively.","yourTask1":"Your task will be <strong>to press the key \'5\' if the letter on the screen is the same as <strong style=\'color:red\'>two</strong> letters earlier</strong>.","yourTask2":"Otherwise, press the <strong>key \'0\'</strong>."},"instructions3back":{"letter":"In this task, <strong>letters</strong> will appear on the screen consecutively.","yourTask1":"Your task will be <strong>to press the key \'5\' if the letter on the screen is the same as <strong style=\'color:red\'>three</strong> letters earlier</strong>.","yourTask2":"Otherwise, press the <strong>key \'0\'</strong>."},"generalInstruction":{"fastAndAccurate":"Try to be as fast and as accurate as possible!","clickNext":"If the instructions are clear, click on <strong>Next</strong>"},"practice":{"practice":"First, you can practice the task a little bit.","startPractice":"Press any key on the keyboard to start the practice!","end":"End of the practice."},"betweenBlocks":{"rest":"Now you can rest a little.","continue":"Press any key to continue the task!","pressKey":"If you are ready, press a key!"},"end":{"end":"End of the task.","thankYou":"Thank you!"},"button":{"next":"Next","previous":"Previous"},"fullscreen":{"fullscreenText":"The experiment will switch to full screen mode when you press the button below.","fullscreenButton":"Continue"},"feedback":{"correct":"Correct!","wrong":"Wrong!","noResponse":"You did not respond!","accuracy":"You responded correctly on ","accuracy2":"% of the trials.","rt":"Your average response time was ","rt2":" ms."},"task":{"start":"The task start now. From now on, you won\'t receive any feedback.","press":"Press any key to start the task!"},"parameters":{"subject":"Subject Number:","session":"Session Number:"},"startWarning":{"startSubject":"You are about to start the task with<strong> Subject Number ","startSession":"</strong> and <strong>Session Number ","startButton":"Start the task!","goBackButton":"Change the parameters"}}}'),Ee=JSON.parse('{"fixation":{"randomize_duration":false,"default_duration":3000,"durations":[250,500,750,1000,1250,1500,1750,2000]},"nback":{"match_key":"5","mismatch_key":"0","level":0,"letter_size":120,"letter_duration":3000,"feedback_duration":1000}}');var Se=n(511);const ke=JSON.parse('{"level_zero":{"practice":["B","P","X","K","H","M","Q","X","N","T"],"block_one":["R","B","Q","N","Q","K","X","X","N","R","B","X","M","H","X","T","R","X","P","P","M","M","Q","K","T","P","X","H","N","T","X","H","Q","N","R","K","M","K","B","X","K","T","B","X","R","P","N","H","B","X"],"block_two":["H","Q","X","R","M","R","Q","H","Q","X","H","T","X","Q","B","N","K","P","K","R","B","X","R","X","X","N","K","X","P","N","P","X","T","P","T","B","H","M","M","Q","N","M","K","X","H","M","T","X","B","P"]},"level_one":{"practice":["B","P","K","K","H","M","Q","Q","X","N"],"block_one":["H","H","T","X","H","N","X","B","N","M","X","X","B","R","X","Q","B","Q","T","T","Q","M","R","N","P","P","B","B","P","M","R","R","N","N","K","Q","Q","K","K","T","P","K","P","M","M","K","R","H","T","H"],"block_two":["K","R","N","P","H","B","B","T","H","H","X","K","M","K","K","P","P","B","X","M","X","X","R","Q","N","H","P","Q","Q","H","P","B","N","M","M","B","K","M","Q","X","N","N","T","R","R","T","T","R","T","Q"]},"level_two":{"practice":["B","K","P","K","H","Q","M","Q","X","N"],"block_one":["H","M","N","K","B","K","R","T","K","B","X","R","K","R","N","X","Q","X","T","M","Q","P","R","H","B","M","B","P","M","N","M","H","Q","N","X","N","P","R","H","P","H","P","T","X","B","Q","T","Q","T","K"],"block_two":["T","B","T","B","Q","P","T","M","K","M","K","X","Q","K","B","H","Q","P","Q","H","N","N","H","H","B","M","R","M","P","R","P","T","X","K","N","P","N","X","M","R","T","R","B","Q","H","X","R","X","K","N"]},"level_three":{"practice":["B","K","P","H","K","Q","M","X","Q","N"],"block_one":["N","K","X","Q","M","X","Q","X","T","P","Q","T","P","K","Q","N","R","B","T","R","N","X","K","N","R","K","Q","M","R","B","K","P","M","H","N","M","T","P","X","B","H","T","B","B","H","P","M","H","R","H"],"block_two":["T","P","H","M","P","K","X","Q","K","P","Q","T","M","R","Q","X","K","B","R","X","B","P","H","M","T","H","M","N","K","X","N","R","X","T","K","P","T","M","B","Q","B","N","H","N","H","R","B","Q","R","N"]}}'),Ie=(we.UU,we.rE),Ce=(Se.eventCodes.open_task,he().turk.turkInfo()),Ae=!Ce.outsideTurk,Ne="".concat(Ce.workerId,":").concat(Ce.assignmentId);let De=!0;try{window.require("electron")}catch($w){De=!1}const Pe=_e()&&!Ae||!1,Oe=(Re={USE_PHOTODIODE:"true"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_USE_PHOTODIODE&&De,USE_EEG:"true"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_USE_EEG&&De,USE_ELECTRON:De,USE_MTURK:Ae,USE_VOLUME:"true"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VOLUME,USE_CAMERA:"true"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VIDEO&&De,USE_PROLIFIC:Pe,USE_FIREBASE:"true"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE},(0,de.extend)(be,Re));var Re;const Le=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,l=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|u>>6,d=63&u;a||(d=64,o||(h=64)),r.push(n[l],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new je;const u=t<<2|o>>4;if(r.push(u),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(e){return function(e){const t=Le(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ve=function(e){try{return Me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Be(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Be(e[n],t[n]));return e}const Ue=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ze=()=>{try{return Ue()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ve(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},qe=()=>{var e;return null===(e=ze())||void 0===e?void 0:e.config};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function He(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function We(){return!function(){var e;const t=null===(e=ze())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Xe,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Qe(n,o,t)}}const Xe=/\{\$([^}]+)}/g;function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Je(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ze(n)&&Ze(o)){if(!Je(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e,t){const n=new tt(e,t);return n.subscribe.bind(n)}class tt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=nt),void 0===r.error&&(r.error=nt),void 0===r.complete&&(r.complete=nt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function nt(){}function rt(e){return e&&e._delegate?e._delegate:e}class it{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ot="[DEFAULT]";class st{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ke;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ot?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.component?this.component.multipleInstances?e:ot:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class at{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new st(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ut=[];var lt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(lt||(lt={}));const ct={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},ht=lt.INFO,dt={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},ft=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class pt{constructor(e){this.name=e,this._logLevel=ht,this._logHandler=ft,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ct[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const mt=(e,t)=>t.some((t=>e instanceof t));let gt,yt;const vt=new WeakMap,bt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Tt=new WeakMap;let xt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Et(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yt||(yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(It(this),n),kt(vt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kt(e.apply(It(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(It(this),t,...r);return wt.set(o,t.sort?t.sort():[t]),kt(o)}}function St(e){return"function"===typeof e?Et(e):(e instanceof IDBTransaction&&function(e){if(bt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));bt.set(e,t)}(e),mt(e,gt||(gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xt):e)}function kt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(kt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&vt.set(t,e)})).catch((()=>{})),Tt.set(t,e),t}(e);if(_t.has(e))return _t.get(e);const t=St(e);return t!==e&&(_t.set(e,t),Tt.set(t,e)),t}const It=e=>Tt.get(e);const Ct=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],Nt=new Map;function Dt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Nt.get(t))return Nt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=At.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ct.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Nt.set(t,o),o}xt=(e=>({...e,get:(t,n,r)=>Dt(t,n)||e.get(t,n,r),has:(t,n)=>!!Dt(t,n)||e.has(t,n)}))(xt);class Pt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ot="@firebase/app",Rt="0.9.29",Lt=new pt("@firebase/app"),Mt="[DEFAULT]",jt={[Ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Vt=new Map;function Bt(e,t){try{e.container.addComponent(t)}catch(n){Lt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ut(e,t){e.container.addOrOverwriteComponent(t)}function zt(e){const t=e.name;if(Vt.has(t))return Lt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vt.set(t,e);for(const n of Ft.values())Bt(n,e);return!0}function qt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt;qt(e,t).clearInstance(n)}function Ht(){Vt.clear()}const Wt=new Ye("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new it("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const Qt="10.9.0";function Yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wt.create("bad-app-name",{appName:String(i)});if(n||(n=qe()),!n)throw Wt.create("no-options");const o=Ft.get(i);if(o){if(Je(n,o.options)&&Je(r,o.config))return o;throw Wt.create("duplicate-app",{appName:i})}const s=new at(i);for(const u of Vt.values())s.addComponent(u);const a=new Gt(n,r,s);return Ft.set(i,a),a}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;const t=Ft.get(e);if(!t&&e===Mt&&qe())return Yt();if(!t)throw Wt.create("no-app",{appName:e});return t}function $t(){return Array.from(Ft.values())}async function Jt(e){const t=e.name;Ft.has(t)&&(Ft.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Zt(e,t,n){var r;let i=null!==(r=jt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Lt.warn(e.join(" "))}zt(new it("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function en(e,t){if(null!==e&&"function"!==typeof e)throw Wt.create("invalid-log-argument");!function(e,t){for(const n of ut){let r=null;t&&t.level&&(r=ct[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:lt[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function tn(e){var t;t=e,ut.forEach((e=>{e.setLogLevel(t)}))}const nn="firebase-heartbeat-database",rn=1,on="firebase-heartbeat-store";let sn=null;function an(){return sn||(sn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=kt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(kt(s.result),e.oldVersion,e.newVersion,kt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(nn,rn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(on)}catch(n){console.warn(n)}}}).catch((e=>{throw Wt.create("idb-open",{originalErrorMessage:e.message})}))),sn}async function un(e,t){try{const n=(await an()).transaction(on,"readwrite"),r=n.objectStore(on);await r.put(t,ln(e)),await n.done}catch(n){if(n instanceof Qe)Lt.warn(n.message);else{const e=Wt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Lt.warn(e.message)}}}function ln(e){return"".concat(e.name,"!").concat(e.options.appId)}class cn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=hn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),fn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Fe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ge()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch($w){t($w)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await an()).transaction(on),n=await t.objectStore(on).get(ln(e));return await t.done,n}catch(t){if(t instanceof Qe)Lt.warn(t.message);else{const e=Wt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Lt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fn(e){return Fe(JSON.stringify({version:2,heartbeats:e})).length}var pn;pn="",zt(new it("platform-logger",(e=>new Pt(e)),"PRIVATE")),zt(new it("heartbeat",(e=>new cn(e)),"PRIVATE")),Zt(Ot,Rt,pn),Zt(Ot,Rt,"esm2017"),Zt("fire-js","");class mn{constructor(e,t){this._delegate=e,this.firebase=t,Bt(e,new it("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Jt(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bt(this._delegate,e)}_addOrOverwriteComponent(e){Ut(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const gn=new Ye("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const yn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if($e(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Zt,setLogLevel:tn,onLog:en,apps:null,SDK_VERSION:Qt,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(zt(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw gn.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Be(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!$e(n,e=e||Mt))throw gn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(mn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Be(n,e)},createSubscribe:et,ErrorFactory:Ye,deepExtend:Be}),n}(),vn=new pt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&vn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bn=yn;!function(e){Zt("@firebase/app-compat","0.2.29",e)}();bn.registerVersion("firebase","10.9.0","app-compat");var wn,_n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Tn={},xn=xn||{},En=_n||self;function Sn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var In="closure_uid_"+(1e9*Math.random()>>>0),Cn=0;function An(e,t,n){return e.call.apply(e.bind,arguments)}function Nn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dn(e,t,n){return(Dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?An:Nn).apply(null,arguments)}function Pn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function On(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Rn(){this.s=this.s,this.o=this.o}Rn.prototype.s=!1,Rn.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,In)&&e[In]||(e[In]=++Cn))},Rn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ln=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function jn(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Sn(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Fn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fn.prototype.h=function(){this.defaultPrevented=!0};var Vn=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};En.addEventListener("test",e,t),En.removeEventListener("test",e,t)}catch(n){}return e}();function Bn(e){return/^[\s\xa0]*$/.test(e)}function Un(){var e=En.navigator;return e&&(e=e.userAgent)?e:""}function zn(e){return-1!=Un().indexOf(e)}function qn(e){return qn[" "](e),e}qn[" "]=function(){};var Kn,Hn,Wn=zn("Opera"),Gn=zn("Trident")||zn("MSIE"),Qn=zn("Edge"),Yn=Qn||Gn,Xn=zn("Gecko")&&!(-1!=Un().toLowerCase().indexOf("webkit")&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),$n=-1!=Un().toLowerCase().indexOf("webkit")&&!zn("Edge");function Jn(){var e=En.document;return e?e.documentMode:void 0}e:{var Zn="",er=function(){var e=Un();return Xn?/rv:([^\);]+)(\)|;)/.exec(e):Qn?/Edge\/([\d\.]+)/.exec(e):Gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$n?/WebKit\/(\S+)/.exec(e):Wn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(er&&(Zn=er?er[1]:""),Gn){var tr=Jn();if(null!=tr&&tr>parseFloat(Zn)){Kn=String(tr);break e}}Kn=Zn}if(En.document&&Gn){var nr=Jn();Hn=nr||(parseInt(Kn,10)||void 0)}else Hn=void 0;var rr=Hn;function ir(e,t){if(Fn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xn){e:{try{qn(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:or[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ir.$.h.call(this)}}On(ir,Fn);var or={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sr="closure_listenable_"+(1e6*Math.random()|0),ar=0;function ur(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ar,this.fa=this.ia=!1}function lr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function cr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function hr(e){const t={};for(const n in e)t[n]=e[n];return t}const dr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<dr.length;t++)n=dr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pr(e){this.src=e,this.g={},this.h=0}function mr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ln(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}pr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=gr(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new ur(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var yr="closure_lm_"+(1e6*Math.random()|0),vr={};function br(e,t,n,r,i){if(r&&r.once)return _r(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)br(e,t[o],n,r,i);return null}return n=Cr(n),e&&e[sr]?e.O(t,n,kn(r)?!!r.capture:!!r,i):wr(e,t,n,!1,r,i)}function wr(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=kn(i)?!!i.capture:!!i,a=kr(e);if(a||(e[yr]=a=new pr(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Sr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vn||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Er(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _r(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)_r(e,t[o],n,r,i);return null}return n=Cr(n),e&&e[sr]?e.P(t,n,kn(r)?!!r.capture:!!r,i):wr(e,t,n,!0,r,i)}function Tr(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Tr(e,t[o],n,r,i);else r=kn(r)?!!r.capture:!!r,n=Cr(n),e&&e[sr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gr(o=e.g[t],n,r,i))&&(lr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=kr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gr(t,n,r,i)),(n=-1<e?t[e]:null)&&xr(n))}function xr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[sr])mr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Er(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kr(t))?(mr(n,e),0==n.h&&(n.src=null,t[yr]=null)):lr(e)}}}function Er(e){return e in vr?vr[e]:vr[e]="on"+e}function Sr(e,t){if(e.fa)e=!0;else{t=new ir(t,this);var n=e.listener,r=e.la||e.src;e.ia&&xr(e),e=n.call(r,t)}return e}function kr(e){return(e=e[yr])instanceof pr?e:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cr(e){return"function"===typeof e?e:(e[Ir]||(e[Ir]=function(t){return e.handleEvent(t)}),e[Ir])}function Ar(){Rn.call(this),this.i=new pr(this),this.S=this,this.J=null}function Nr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Fn(t,e);else if(t instanceof Fn)t.target=t.target||e;else{var i=t;fr(t=new Fn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Dr(s,r,!0,t)&&i}if(i=Dr(s=t.g=e,r,!0,t)&&i,i=Dr(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Dr(s=t.g=n[o],r,!1,t)&&i}function Dr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&mr(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}On(Ar,Rn),Ar.prototype[sr]=!0,Ar.prototype.removeEventListener=function(e,t,n,r){Tr(this,e,t,n,r)},Ar.prototype.N=function(){if(Ar.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lr(n[r]);delete t.g[e],t.h--}}this.J=null},Ar.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ar.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pr=En.JSON.stringify;function Or(){var e=Br;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Lr),(e=>e.reset()));class Lr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mr(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function jr(e){En.setTimeout((()=>{throw e}),0)}let Fr,Vr=!1,Br=new class{constructor(){this.h=this.g=null}add(e,t){const n=Rr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ur=()=>{const e=En.Promise.resolve(void 0);Fr=()=>{e.then(zr)}};var zr=()=>{for(var e;e=Or();){try{e.h.call(e.g)}catch(n){jr(n)}var t=Rr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vr=!1};function qr(e,t){Ar.call(this),this.h=e||1,this.g=t||En,this.j=Dn(this.qb,this),this.l=Date.now()}function Kr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Hr(e,t,n){if("function"===typeof e)n&&(e=Dn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dn(e.handleEvent,e)}return 2147483647<Number(t)?-1:En.setTimeout(e,t||0)}function Wr(e){e.g=Hr((()=>{e.g=null,e.i&&(e.i=!1,Wr(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}On(qr,Ar),(wn=qr.prototype).ga=!1,wn.T=null,wn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nr(this,"tick"),this.ga&&(Kr(this),this.start()))}},wn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wn.N=function(){qr.$.N.call(this),Kr(this),delete this.g};class Gr extends Rn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(e){Rn.call(this),this.h=e,this.g={}}On(Qr,Rn);var Yr=[];function Xr(e,t,n,r){Array.isArray(n)||(n&&(Yr[0]=n.toString()),n=Yr);for(var i=0;i<n.length;i++){var o=br(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function $r(e){cr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xr(e)}),e),e.g={}}function Jr(){this.g=!0}function Zr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Pr(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Qr.prototype.N=function(){Qr.$.N.call(this),$r(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jr.prototype.Ea=function(){this.g=!1},Jr.prototype.info=function(){};var ei={},ti=null;function ni(){return ti=ti||new Ar}function ri(e){Fn.call(this,ei.Ta,e)}function ii(e){const t=ni();Nr(t,new ri(t))}function oi(e,t){Fn.call(this,ei.STAT_EVENT,e),this.stat=t}function si(e){const t=ni();Nr(t,new oi(t,e))}function ai(e,t){Fn.call(this,ei.Ua,e),this.size=t}function ui(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return En.setTimeout((function(){e()}),t)}ei.Ta="serverreachability",On(ri,Fn),ei.STAT_EVENT="statevent",On(oi,Fn),ei.Ua="timingevent",On(ai,Fn);var li={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ci={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hi(){}function di(e){return e.h||(e.h=e.i())}function fi(){}hi.prototype.h=null;var pi,mi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gi(){Fn.call(this,"d")}function yi(){Fn.call(this,"c")}function vi(){}function bi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Qr(this),this.P=_i,e=Yn?125:void 0,this.V=new qr(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}On(gi,Fn),On(yi,Fn),On(vi,hi),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},pi=new vi;var _i=45e3,Ti={},xi={};function Ei(e,t,n){e.L=1,e.A=qi(Fi(t)),e.u=n,e.S=!0,Si(e,null)}function Si(e,t){e.G=Date.now(),Ai(e),e.B=Fi(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),no(n.i,"t",r),e.o=0,n=e.l.J,e.h=new wi,e.g=is(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Gr(Dn(e.Pa,e,e.g),e.O)),Xr(e.U,e.g,"readystatechange",e.nb),t=e.I?hr(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ii(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ki(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Ii(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Ci(e,n),r==xi){4==t&&(e.s=4,si(14),i=!1),Zr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ti){e.s=4,si(15),Zr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zr(e.j,e.m,r,null),Ri(e,r)}ki(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,si(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xo(t),t.M=!0,si(11))):(Zr(e.j,e.m,n,"[Invalid Chunked Response]"),Oi(e),Pi(e))}function Ci(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?xi:(n=Number(t.substring(n,r)),isNaN(n)?Ti:(r+=1)+n>t.length?xi:(t=t.slice(r,r+n),e.o=r+n,t))}function Ai(e){e.Y=Date.now()+e.P,Ni(e,e.P)}function Ni(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ui(Dn(e.lb,e),t)}function Di(e){e.C&&(En.clearTimeout(e.C),e.C=null)}function Pi(e){0==e.l.H||e.J||Zo(e.l,e)}function Oi(e){Di(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Kr(e.V),$r(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ri(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||lo(n.i,e)))if(!e.K&&lo(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Jo(n),zo(n)}Yo(n),si(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ui(Dn(n.ib,n),6e3));if(1>=uo(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else ts(n,11)}else if((e.K||n.g==e)&&Jo(n),!Bn(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(co(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,zi(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=rs(r,r.J?r.pa:null,r.Y),s.K){ho(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Di(a),Ai(a)),r.g=s}else Qo(r);0<n.j.length&&Ko(n)}else"stop"!=l[0]&&"close"!=l[0]||ts(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ts(n,7):Uo(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ii()}catch(l){}}function Li(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Sn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Sn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Sn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(wn=bi.prototype).setTimeout=function(e){this.P=e},wn.nb=function(e){e=e.target;const t=this.M;t&&3==Lo(e)?t.l():this.Pa(e)},wn.Pa=function(e){try{if(e==this.g)e:{const c=Lo(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Yn||this.g&&(this.h.h||this.g.ja()||Mo(this.g)))){this.J||4!=c||7==t||ii(),Di(this);var n=this.g.da();this.ca=n;t:if(ki(this)){var r=Mo(this.g);e="";var i=r.length,o=4==Lo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Oi(this),Pi(this);var s="";break t}this.h.i=new En.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,si(12),Oi(this),Pi(this);break e}Zr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ri(this,n)}this.S?(Ii(this,c,s),Yn&&this.i&&3==c&&(Xr(this.U,this.V,"tick",this.mb),this.V.start())):(Zr(this.j,this.m,s,null),Ri(this,s)),4==c&&Oi(this),this.i&&!this.J&&(4==c?Zo(this.l,this):(this.i=!1,Ai(this)))}else(function(e){const t={};e=(e.g&&2<=Lo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Bn(e[r]))continue;var n=Mr(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,si(12)):(this.s=0,si(13)),Oi(this),Pi(this)}}}catch(c){}},wn.mb=function(){if(this.g){var e=Lo(this.g),t=this.g.ja();this.o<t.length&&(Di(this),Ii(this,e,t),this.i&&4!=e&&Ai(this))}},wn.cancel=function(){this.J=!0,Oi(this)},wn.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ii(),si(17)),Oi(this),this.s=2,Pi(this)):Ni(this,this.Y-e)};var Mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ji(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ji){this.h=e.h,Vi(this,e.j),this.s=e.s,this.g=e.g,Bi(this,e.m),this.l=e.l;var t=e.i,n=new Ji;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ui(this,n),this.o=e.o}else e&&(t=String(e).match(Mi))?(this.h=!1,Vi(this,t[1]||"",!0),this.s=Ki(t[2]||""),this.g=Ki(t[3]||"",!0),Bi(this,t[4]),this.l=Ki(t[5]||"",!0),Ui(this,t[6]||"",!0),this.o=Ki(t[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}function Fi(e){return new ji(e)}function Vi(e,t,n){e.j=n?Ki(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ui(e,t,n){t instanceof Ji?(e.i=t,function(e,t){t&&!e.j&&(Zi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(eo(this,t),no(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Hi(t,Xi)),e.i=new Ji(t,e.h))}function zi(e,t,n){e.i.set(t,n)}function qi(e){return zi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ki(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ji.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hi(t,Gi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hi(t,Gi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hi(n,"/"==n.charAt(0)?Yi:Qi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hi(n,$i)),e.join("")};var Gi=/[#\/\?@]/g,Qi=/[#\?:]/g,Yi=/[#\?]/g,Xi=/[#\?@]/g,$i=/#/g;function Ji(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zi(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function eo(e,t){Zi(e),t=ro(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function to(e,t){return Zi(e),t=ro(e,t),e.g.has(t)}function no(e,t,n){eo(e,t),0<n.length&&(e.i=null,e.g.set(ro(e,t),Mn(n)),e.h+=n.length)}function ro(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wn=Ji.prototype).add=function(e,t){Zi(this),this.i=null,e=ro(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wn.forEach=function(e,t){Zi(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},wn.ta=function(){Zi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},wn.Z=function(e){Zi(this);let t=[];if("string"===typeof e)to(this,e)&&(t=t.concat(this.g.get(ro(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},wn.set=function(e,t){return Zi(this),this.i=null,to(this,e=ro(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},wn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var io=class{constructor(e,t){this.g=e,this.map=t}};function oo(e){this.l=e||so,En.PerformanceNavigationTiming?e=0<(e=En.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(En.g&&En.g.Ka&&En.g.Ka()&&En.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var so=10;function ao(e){return!!e.h||!!e.g&&e.g.size>=e.j}function uo(e){return e.h?1:e.g?e.g.size:0}function lo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function co(e,t){e.g?e.g.add(t):e.h=t}function ho(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Mn(e.i)}oo.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var po,mo=class{stringify(e){return En.JSON.stringify(e,void 0)}parse(e){return En.JSON.parse(e,void 0)}};function go(){this.g=new mo}function yo(e,t,n){const r=n||"";try{Li(e,(function(e,n){let i=e;kn(e)&&(i=Pr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function bo(e){this.l=e.ec||null,this.j=e.ob||!1}function wo(e,t){Ar.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=_o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}On(bo,hi),bo.prototype.g=function(){return new wo(this.l,this.j)},bo.prototype.i=(po={},function(){return po}),On(wo,Ar);var _o=0;function To(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function xo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Eo(e)}function Eo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wn=wo.prototype).open=function(e,t){if(this.readyState!=_o)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Eo(this)},wn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||En).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},wn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xo(this)),this.readyState=_o},wn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof En.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;To(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},wn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xo(this):Eo(this),3==this.readyState&&To(this)}},wn.Za=function(e){this.g&&(this.response=this.responseText=e,xo(this))},wn.Ya=function(e){this.g&&(this.response=e,xo(this))},wn.ka=function(){this.g&&xo(this)},wn.setRequestHeader=function(e,t){this.v.append(e,t)},wn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var So=En.JSON.parse;function ko(e){Ar.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Io,this.L=this.M=!1}On(ko,Ar);var Io="",Co=/^https?$/i,Ao=["POST","PUT"];function No(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Do(e),Oo(e)}function Do(e){e.F||(e.F=!0,Nr(e,"complete"),Nr(e,"error"))}function Po(e){if(e.h&&"undefined"!=typeof xn&&(!e.C[1]||4!=Lo(e)||2!=e.da()))if(e.v&&4==Lo(e))Hr(e.La,0,e);else if(Nr(e,"readystatechange"),4==Lo(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Mi)[1]||null;!i&&En.self&&En.self.location&&(i=En.self.location.protocol.slice(0,-1)),r=!Co.test(i?i.toLowerCase():"")}n=r}if(n)Nr(e,"complete"),Nr(e,"success");else{e.m=6;try{var o=2<Lo(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Do(e)}}finally{Oo(e)}}}function Oo(e,t){if(e.g){Ro(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Nr(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ro(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(En.clearTimeout(e.A),e.A=null)}function Lo(e){return e.g?e.g.readyState:0}function Mo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Io:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(qs){return null}}function jo(e){let t="";return cr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Fo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zi(e,t,n))}function Vo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bo(e){this.Ga=0,this.j=[],this.l=new Jr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vo("baseRetryDelayMs",5e3,e),this.hb=Vo("retryDelaySeedMs",1e4,e),this.eb=Vo("forwardChannelMaxRetries",2,e),this.xa=Vo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new oo(e&&e.concurrentRequestLimit),this.Ja=new go,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Uo(e){if(qo(e),3==e.H){var t=e.W++,n=Fi(e.I);if(zi(n,"SID",e.K),zi(n,"RID",t),zi(n,"TYPE","terminate"),Wo(e,n),(t=new bi(e,e.l,t)).L=2,t.A=qi(Fi(n)),n=!1,En.navigator&&En.navigator.sendBeacon)try{n=En.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&En.Image&&((new Image).src=t.A,n=!0),n||(t.g=is(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ai(t)}ns(e)}function zo(e){e.g&&(Xo(e),e.g.cancel(),e.g=null)}function qo(e){zo(e),e.u&&(En.clearTimeout(e.u),e.u=null),Jo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&En.clearTimeout(e.m),e.m=null)}function Ko(e){if(!ao(e.i)&&!e.m){e.m=!0;var t=e.Na;Fr||Ur(),Vr||(Fr(),Vr=!0),Br.add(t,e),e.C=0}}function Ho(e,t){var n;n=t?t.m:e.W++;const r=Fi(e.I);zi(r,"SID",e.K),zi(r,"RID",n),zi(r,"AID",e.V),Wo(e,r),e.o&&e.s&&Fo(r,e.o,e.s),n=new bi(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Go(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),co(e.i,n),Ei(n,r,t)}function Wo(e,t){e.na&&cr(e.na,(function(e,n){zi(t,n,e)})),e.h&&Li({},(function(e,n){zi(t,n,e)}))}function Go(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Dn(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{yo(a,e,"req"+n+"_")}catch(ou){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Qo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Fr||Ur(),Vr||(Fr(),Vr=!0),Br.add(t,e),e.A=0}}function Yo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ui(Dn(e.Ma,e),es(e,e.A)),e.A++,!0)}function Xo(e){null!=e.B&&(En.clearTimeout(e.B),e.B=null)}function $o(e){e.g=new bi(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Fi(e.wa);zi(t,"RID","rpc"),zi(t,"SID",e.K),zi(t,"AID",e.V),zi(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zi(t,"TO",e.qa),zi(t,"TYPE","xmlhttp"),Wo(e,t),e.o&&e.s&&Fo(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=qi(Fi(t)),n.u=null,n.S=!0,Si(n,e)}function Jo(e){null!=e.v&&(En.clearTimeout(e.v),e.v=null)}function Zo(e,t){var n=null;if(e.g==t){Jo(e),Xo(e),e.g=null;var r=2}else{if(!lo(e.i,t))return;n=t.F,ho(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Nr(r=ni(),new ai(r,n)),Ko(e)}else Qo(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(uo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ui(Dn(e.Na,e,t),es(e,e.C)),e.C++,!0))}(e,t)||2==r&&Yo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ts(e,5);break;case 4:ts(e,10);break;case 3:ts(e,6);break;default:ts(e,2)}}function es(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ts(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Dn(e.pb,e);n||(n=new ji("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||Vi(n,"https"),qi(n)),function(e,t){const n=new Jr;if(En.Image){const r=new Image;r.onload=Pn(vo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pn(vo,n,r,"TestLoadImage: error",!1,t),r.onabort=Pn(vo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pn(vo,n,r,"TestLoadImage: timeout",!1,t),En.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else si(2);e.H=0,e.h&&e.h.za(t),ns(e),qo(e)}function ns(e){if(e.H=0,e.ma=[],e.h){const t=fo(e.i);0==t.length&&0==e.j.length||(jn(e.ma,t),jn(e.ma,e.j),e.i.i.length=0,Mn(e.j),e.j.length=0),e.h.ya()}}function rs(e,t,n){var r=n instanceof ji?Fi(n):new ji(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Bi(r,r.m);else{var i=En.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ji(null);r&&Vi(o,r),t&&(o.g=t),i&&Bi(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&zi(r,n,t),zi(r,"VER",e.ra),Wo(e,r),r}function is(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ko(new bo({ob:n})):new ko(e.va)).Oa(e.J),t}function os(){}function ss(){if(Gn&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function as(e,t){Ar.call(this),this.g=new Bo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Bn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bn(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cs(this)}function us(e){gi.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ls(){yi.call(this),this.status=1}function cs(e){this.g=e}function hs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ds(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function fs(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(wn=ko.prototype).Oa=function(e){this.M=e},wn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pi.g(),this.C=this.u?di(this.u):di(pi),this.g.onreadystatechange=Dn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void No(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=En.FormData&&e instanceof En.FormData,!(0<=Ln(Ao,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ro(this),0<this.B&&((this.L=function(e){return Gn&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dn(this.ua,this)):this.A=Hr(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){No(this,o)}},wn.ua=function(){"undefined"!=typeof xn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},wn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nr(this,"complete"),Nr(this,"abort"),Oo(this))},wn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oo(this,!0)),ko.$.N.call(this)},wn.La=function(){this.s||(this.G||this.v||this.l?Po(this):this.kb())},wn.kb=function(){Po(this)},wn.isActive=function(){return!!this.g},wn.da=function(){try{return 2<Lo(this)?this.g.status:-1}catch(po){return-1}},wn.ja=function(){try{return this.g?this.g.responseText:""}catch(po){return""}},wn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),So(t)}},wn.Ia=function(){return this.m},wn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wn=Bo.prototype).ra=8,wn.H=1,wn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new bi(this,this.l,e);let o=this.s;if(this.U&&(o?(o=hr(o),fr(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Go(this,i,t),zi(n=Fi(this.I),"RID",e),zi(n,"CVER",22),this.F&&zi(n,"X-HTTP-Session-Id",this.F),Wo(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(jo(o)))+"&"+t:this.o&&Fo(n,this.o,o)),co(this.i,i),this.bb&&zi(n,"TYPE","init"),this.P?(zi(n,"$req",t),zi(n,"SID","null"),i.aa=!0,Ei(i,n,null)):Ei(i,n,t),this.H=2}}else 3==this.H&&(e?Ho(this,e):0==this.j.length||ao(this.i)||Ho(this))},wn.Ma=function(){if(this.u=null,$o(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ui(Dn(this.jb,this),e)}},wn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,si(10),zo(this),$o(this))},wn.ib=function(){null!=this.v&&(this.v=null,zo(this),Yo(this),si(19))},wn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),si(2)):(this.l.info("Failed to ping google.com"),si(1))},wn.isActive=function(){return!!this.h&&this.h.isActive(this)},(wn=os.prototype).Ba=function(){},wn.Aa=function(){},wn.za=function(){},wn.ya=function(){},wn.isActive=function(){return!0},wn.Va=function(){},ss.prototype.g=function(e,t){return new as(e,t)},On(as,Ar),as.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;si(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rs(e,null,e.Y),Ko(e)},as.prototype.close=function(){Uo(this.g)},as.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Pr(e),e=n);t.j.push(new io(t.fb++,e)),3==t.H&&Ko(t)},as.prototype.N=function(){this.g.h=null,delete this.j,Uo(this.g),delete this.g,as.$.N.call(this)},On(us,gi),On(ls,yi),On(cs,os),cs.prototype.Ba=function(){Nr(this.g,"a")},cs.prototype.Aa=function(e){Nr(this.g,new us(e))},cs.prototype.za=function(e){Nr(this.g,new ls)},cs.prototype.ya=function(){Nr(this.g,"b")},On(hs,(function(){this.blockSize=-1})),hs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hs.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)ds(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){ds(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){ds(this,r),i=0;break}}this.h=i,this.i+=t},hs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ps={};function ms(e){return-128<=e&&128>e?function(e,t){var n=ps;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new fs([0|e],0>e?-1:0)})):new fs([0|e],0>e?-1:0)}function gs(e){if(isNaN(e)||!isFinite(e))return vs;if(0>e)return xs(gs(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ys;return new fs(t,0)}var ys=4294967296,vs=ms(0),bs=ms(1),ws=ms(16777216);function _s(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ts(e){return-1==e.h}function xs(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new fs(n,~e.h).add(bs)}function Es(e,t){return e.add(xs(t))}function Ss(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ks(e,t){this.g=e,this.h=t}function Is(e,t){if(_s(t))throw Error("division by zero");if(_s(e))return new ks(vs,vs);if(Ts(e))return t=Is(xs(e),t),new ks(xs(t.g),xs(t.h));if(Ts(t))return t=Is(e,xs(t)),new ks(xs(t.g),t.h);if(30<e.g.length){if(Ts(e)||Ts(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bs,r=t;0>=r.X(e);)n=Cs(n),r=Cs(r);var i=As(n,1),o=As(r,1);for(r=As(r,2),n=As(n,2);!_s(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=As(r,1),n=As(n,1)}return t=Es(e,i.R(t)),new ks(i,t)}for(i=vs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=gs(n)).R(t);Ts(s)||0<s.X(e);)s=(o=gs(n-=r)).R(t);_s(o)&&(o=bs),i=i.add(o),e=Es(e,s)}return new ks(i,e)}function Cs(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new fs(n,e.h)}function As(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new fs(i,e.h)}(wn=fs.prototype).ea=function(){if(Ts(this))return-xs(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ys+r)*t,t*=ys}return e},wn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(_s(this))return"0";if(Ts(this))return"-"+xs(this).toString(e);for(var t=gs(Math.pow(e,6)),n=this,r="";;){var i=Is(n,t).g,o=((0<(n=Es(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(_s(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},wn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},wn.X=function(e){return Ts(e=Es(this,e))?-1:_s(e)?0:1},wn.abs=function(){return Ts(this)?xs(this):this},wn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new fs(n,-2147483648&n[n.length-1]?-1:0)},wn.R=function(e){if(_s(this)||_s(e))return vs;if(Ts(this))return Ts(e)?xs(this).R(xs(e)):xs(xs(this).R(e));if(Ts(e))return xs(this.R(xs(e)));if(0>this.X(ws)&&0>e.X(ws))return gs(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=s*u,Ss(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Ss(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ss(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ss(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new fs(n,0)},wn.gb=function(e){return Is(this,e).h},wn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new fs(n,this.h&e.h)},wn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new fs(n,this.h|e.h)},wn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new fs(n,this.h^e.h)},ss.prototype.createWebChannel=ss.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,ci.COMPLETE="complete",fi.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Ar.prototype.listen=Ar.prototype.O,ko.prototype.listenOnce=ko.prototype.P,ko.prototype.getLastError=ko.prototype.Sa,ko.prototype.getLastErrorCode=ko.prototype.Ia,ko.prototype.getStatus=ko.prototype.da,ko.prototype.getResponseJson=ko.prototype.Wa,ko.prototype.getResponseText=ko.prototype.ja,ko.prototype.send=ko.prototype.ha,ko.prototype.setWithCredentials=ko.prototype.Oa,hs.prototype.digest=hs.prototype.l,hs.prototype.reset=hs.prototype.reset,hs.prototype.update=hs.prototype.j,fs.prototype.add=fs.prototype.add,fs.prototype.multiply=fs.prototype.R,fs.prototype.modulo=fs.prototype.gb,fs.prototype.compare=fs.prototype.X,fs.prototype.toNumber=fs.prototype.ea,fs.prototype.toString=fs.prototype.toString,fs.prototype.getBits=fs.prototype.D,fs.fromNumber=gs,fs.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return xs(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=gs(Math.pow(n,8)),i=vs,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=gs(Math.pow(n,s)),i=i.R(s).add(gs(a))):i=(i=i.R(r)).add(gs(a))}return i};var Ns=Tn.createWebChannelTransport=function(){return new ss},Ds=Tn.getStatEventTarget=function(){return ni()},Ps=Tn.ErrorCode=li,Os=Tn.EventType=ci,Rs=Tn.Event=ei,Ls=Tn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ms=(Tn.FetchXmlHttpFactory=bo,Tn.WebChannel=fi),js=Tn.XhrIo=ko,Fs=Tn.Md5=hs,Vs=Tn.Integer=fs;const Bs="@firebase/firestore";class Us{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Us.UNAUTHENTICATED=new Us(null),Us.GOOGLE_CREDENTIALS=new Us("google-credentials-uid"),Us.FIRST_PARTY=new Us("first-party-uid"),Us.MOCK_USER=new Us("mock-user");let zs="10.9.0";const qs=new pt("@firebase/firestore");function Ks(){return qs.logLevel}function Hs(e){if(qs.logLevel<=lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qs);qs.debug("Firestore (".concat(zs,"): ").concat(e),...i)}}function Ws(e){if(qs.logLevel<=lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qs);qs.error("Firestore (".concat(zs,"): ").concat(e),...i)}}function Gs(e){if(qs.logLevel<=lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qs);qs.warn("Firestore (".concat(zs,"): ").concat(e),...i)}}function Qs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(zs,") INTERNAL ASSERTION FAILED: ")+e;throw Ws(t),new Error(t)}function Xs(e,t){e||Ys()}function $s(e,t){return e}const Js={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zs extends Qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ea{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ta{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class na{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Us.UNAUTHENTICATED)))}shutdown(){}}class ra{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ia{constructor(e){this.t=e,this.currentUser=Us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ea,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Hs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Hs("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ea)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Hs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xs("string"==typeof t.accessToken),new ta(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xs(null===e||"string"==typeof e),new Us(e)}}class oa{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Us.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sa{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new oa(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Us.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ua{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Hs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Hs("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Hs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Hs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xs("string"==typeof e.token),this.R=e.token,new aa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function la(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ca{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=la(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ha(e,t){return e<t?-1:e>t?1:0}function da(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function fa(e){return e+"\0"}class pa{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zs(Js.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zs(Js.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zs(Js.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zs(Js.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pa.fromMillis(Date.now())}static fromDate(e){return pa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pa(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ha(this.nanoseconds,e.nanoseconds):ha(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ma{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ma(e)}static min(){return new ma(new pa(0,0))}static max(){return new ma(new pa(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ga{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ys(),void 0===n?n=e.length-t:n>e.length-t&&Ys(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ga.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ga?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ya extends ga{construct(e,t,n){return new ya(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Zs(Js.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ya(e)}static emptyPath(){return new ya([])}}const va=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ba extends ga{construct(e,t,n){return new ba(e,t,n)}static isValidIdentifier(e){return va.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ba.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ba(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Zs(Js.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zs(Js.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zs(Js.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Zs(Js.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ba(t)}static emptyPath(){return new ba([])}}class wa{constructor(e){this.path=e}static fromPath(e){return new wa(ya.fromString(e))}static fromName(e){return new wa(ya.fromString(e).popFirst(5))}static empty(){return new wa(ya.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ya.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ya.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wa(new ya(e.slice()))}}class _a{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ta(e){return e.fields.find((e=>2===e.kind))}function xa(e){return e.fields.filter((e=>2!==e.kind))}_a.UNKNOWN_ID=-1;class Ea{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sa(0,Ca.min())}}function ka(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ma.fromTimestamp(1e9===r?new pa(n+1,0):new pa(n,r));return new Ca(i,wa.empty(),t)}function Ia(e){return new Ca(e.readTime,e.key,-1)}class Ca{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ca(ma.min(),wa.empty(),-1)}static max(){return new Ca(ma.max(),wa.empty(),-1)}}function Aa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=wa.comparator(e.documentKey,t.documentKey),0!==n?n:ha(e.largestBatchId,t.largestBatchId))}const Na="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pa(e){if(e.code!==Js.FAILED_PRECONDITION||e.message!==Na)throw e;Hs("LocalStore","Unexpectedly lost primary lease")}class Oa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ys(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Oa?t:Oa.resolve(t)}catch(e){return Oa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Oa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Oa.reject(t)}static resolve(e){return new Oa(((t,n)=>{t(e)}))}static reject(e){return new Oa(((t,n)=>{n(e)}))}static waitFor(e){return new Oa(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Oa.resolve(!1);for(const n of e)t=t.next((e=>e?Oa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Oa(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const u=a;t(e[u]).next((e=>{o[u]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Oa(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ra{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ea,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ja(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=za(t.target.error);this.V.reject(new ja(e,n))}}static open(e,t,n,r){try{return new Ra(t,e.transaction(r,n))}catch(e){throw new ja(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Hs("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Va(t)}}class La{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===La.S(He())&&Ws("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hs("SimpleDb","Removing database:",e),Ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ge())return!1;if(La.C())return!0;const e=He(),t=La.S(e),n=0<t&&t<10,r=La.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Hs("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ja(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Zs(Js.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Zs(Js.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ja(e,r))},r.onupgradeneeded=e=>{Hs("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Hs("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Ra.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Oa.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Hs("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ma{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ba(this.k.delete())}}class ja extends Zs{constructor(e,t){super(Js.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Fa(e){return"IndexedDbTransactionError"===e.name}class Va{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hs("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hs("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ba(n)}add(e){return Hs("SimpleDb","ADD",this.store.name,e,e),Ba(this.store.add(e))}get(e){return Ba(this.store.get(e)).next((t=>(void 0===t&&(t=null),Hs("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Hs("SimpleDb","DELETE",this.store.name,e),Ba(this.store.delete(e))}count(){return Hs("SimpleDb","COUNT",this.store.name),Ba(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Oa(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Oa(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Hs("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Oa(((n,r)=>{t.onerror=e=>{const t=za(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Oa(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Ma(i),s=t(i.primaryKey,i.value,o);if(s instanceof Oa){const e=s.catch((e=>(o.done(),Oa.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Oa.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ba(e){return new Oa(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=za(e.target.error);n(t)}}))}let Ua=!1;function za(e){const t=La.S(He());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Zs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ua||(Ua=!0,setTimeout((()=>{throw e}),0)),e}}return e}class qa{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Hs("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Hs("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Fa(e)?Hs("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Pa(e)}await this.ee(6e4)}))}}class Ka{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Oa.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Hs("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Hs("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ia(t);Aa(r,n)>0&&(n=r)})),new Ca(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ha{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Wa(e){return null==e}function Ga(e){return 0===e&&1/e==-1/0}function Qa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ga(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ya(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$a(t)),t=Xa(e.get(n),t);return $a(t)}function Xa(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function $a(e){return e+"\x01\x01"}function Ja(e){const t=e.length;if(Xs(t>=2),2===t)return Xs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ya.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Ys(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Ys()}o=t+2}return new ya(r)}Ha._e=-1;const Za=["userId","batchId"];function eu(e,t){return[e,Ya(t)]}function tu(e,t,n){return[e,Ya(t),n]}const nu={},ru=["prefixPath","collectionGroup","readTime","documentId"],iu=["prefixPath","collectionGroup","documentId"],ou=["collectionGroup","readTime","prefixPath","documentId"],su=["canonicalId","targetId"],au=["targetId","path"],uu=["path","targetId"],lu=["collectionId","parent"],cu=["indexId","uid"],hu=["uid","sequenceNumber"],du=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fu=["indexId","uid","orderedDocumentKey"],pu=["userId","collectionPath","documentId"],mu=["userId","collectionPath","largestBatchId"],gu=["userId","collectionGroup","largestBatchId"],yu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vu=[...yu,"documentOverlays"],bu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wu=bu,_u=[...wu,"indexConfiguration","indexState","indexEntries"];class Tu extends Da{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function xu(e,t){const n=$s(e);return La.M(n.ae,t)}function Eu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Su(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ku(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Iu{constructor(e,t){this.comparator=e,this.root=t||Au.EMPTY}insert(e,t){return new Iu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Au.BLACK,null,null))}remove(e){return new Iu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Au.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Au{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Au.RED,this.left=null!=r?r:Au.EMPTY,this.right=null!=i?i:Au.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Au(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Au.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Au.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Au.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Au.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ys();if(this.right.isRed())throw Ys();const e=this.left.check();if(e!==this.right.check())throw Ys();return e+(this.isRed()?0:1)}}Au.EMPTY=null,Au.RED=!0,Au.BLACK=!1,Au.EMPTY=new class{constructor(){this.size=0}get key(){throw Ys()}get value(){throw Ys()}get color(){throw Ys()}get left(){throw Ys()}get right(){throw Ys()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Au(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nu{constructor(e){this.comparator=e,this.data=new Iu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Du(this.data.getIterator())}getIteratorFrom(e){return new Du(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Nu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nu(this.comparator);return t.data=e,t}}class Du{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pu(e){return e.hasNext()?e.getNext():void 0}class Ou{constructor(e){this.fields=e,e.sort(ba.comparator)}static empty(){return new Ou([])}unionWith(e){let t=new Nu(ba.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ou(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ru extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ru("Invalid base64 string: "+e):e}}(e);return new Lu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ha(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lu.EMPTY_BYTE_STRING=new Lu("");const Mu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(e){if(Xs(!!e),"string"==typeof e){let t=0;const n=Mu.exec(e);if(Xs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fu(e.seconds),nanos:Fu(e.nanos)}}function Fu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vu(e){return"string"==typeof e?Lu.fromBase64String(e):Lu.fromUint8Array(e)}function Bu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uu(e){const t=e.mapValue.fields.__previous_value__;return Bu(t)?Uu(t):t}function zu(e){const t=ju(e.mapValue.fields.__local_write_time__.timestampValue);return new pa(t.seconds,t.nanos)}class qu{constructor(e,t,n,r,i,o,s,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=u}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}const Hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wu={nullValue:"NULL_VALUE"};function Gu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bu(e)?4:al(e)?9007199254740991:10:Ys()}function Qu(e,t){if(e===t)return!0;const n=Gu(e);if(n!==Gu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zu(e).isEqual(zu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ju(e.timestampValue),r=ju(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vu(e.bytesValue).isEqual(Vu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fu(e.geoPointValue.latitude)===Fu(t.geoPointValue.latitude)&&Fu(e.geoPointValue.longitude)===Fu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fu(e.integerValue)===Fu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fu(e.doubleValue),r=Fu(t.doubleValue);return n===r?Ga(n)===Ga(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return da(e.arrayValue.values||[],t.arrayValue.values||[],Qu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eu(n)!==Eu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qu(n[i],r[i])))return!1;return!0}(e,t);default:return Ys()}}function Yu(e,t){return void 0!==(e.values||[]).find((e=>Qu(e,t)))}function Xu(e,t){if(e===t)return 0;const n=Gu(e),r=Gu(t);if(n!==r)return ha(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ha(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fu(e.integerValue||e.doubleValue),r=Fu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $u(e.timestampValue,t.timestampValue);case 4:return $u(zu(e),zu(t));case 5:return ha(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vu(e),r=Vu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ha(n[i],r[i]);if(0!==e)return e}return ha(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ha(Fu(e.latitude),Fu(t.latitude));return 0!==n?n:ha(Fu(e.longitude),Fu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Xu(n[i],r[i]);if(e)return e}return ha(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hu.mapValue&&t===Hu.mapValue)return 0;if(e===Hu.mapValue)return 1;if(t===Hu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=ha(r[s],o[s]);if(0!==e)return e;const t=Xu(n[r[s]],i[o[s]]);if(0!==t)return t}return ha(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ys()}}function $u(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ha(e,t);const n=ju(e),r=ju(t),i=ha(n.seconds,r.seconds);return 0!==i?i:ha(n.nanos,r.nanos)}function Ju(e){return Zu(e)}function Zu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ju(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return wa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Zu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Zu(e.fields[i]));return n+"}"}(e.mapValue):Ys()}function el(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function tl(e){return!!e&&"integerValue"in e}function nl(e){return!!e&&"arrayValue"in e}function rl(e){return!!e&&"nullValue"in e}function il(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ol(e){return!!e&&"mapValue"in e}function sl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Su(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=sl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function al(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ul(e){return"nullValue"in e?Wu:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?el(Ku.empty(),wa.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ys()}function ll(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?el(Ku.empty(),wa.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Hu:Ys()}function cl(e,t){const n=Xu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function hl(e,t){const n=Xu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class dl{constructor(e){this.value=e}static empty(){return new dl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ol(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=ba.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=sl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ol(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ol(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Su(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new dl(sl(this.value))}}function fl(e){const t=[];return Su(e.fields,((e,n)=>{const r=new ba([e]);if(ol(n)){const e=fl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ou(t)}class pl{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new pl(e,0,ma.min(),ma.min(),ma.min(),dl.empty(),0)}static newFoundDocument(e,t,n,r){return new pl(e,1,t,ma.min(),n,r,0)}static newNoDocument(e,t){return new pl(e,2,t,ma.min(),ma.min(),dl.empty(),0)}static newUnknownDocument(e,t){return new pl(e,3,t,ma.min(),ma.min(),dl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ma.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ma.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ml{constructor(e,t){this.position=e,this.inclusive=t}}function gl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?wa.comparator(wa.fromName(s.referenceValue),n.key):Xu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qu(e.position[n],t.position[n]))return!1;return!0}class vl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wl{}class _l extends wl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Dl(e,t,n):"array-contains"===t?new Ll(e,n):"in"===t?new Ml(e,n):"not-in"===t?new jl(e,n):"array-contains-any"===t?new Fl(e,n):new _l(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pl(e,n):new Ol(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xu(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.matchesComparison(Xu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ys()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tl extends wl{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Tl(e,t)}matches(e){return xl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xl(e){return"and"===e.op}function El(e){return"or"===e.op}function Sl(e){return kl(e)&&xl(e)}function kl(e){for(const t of e.filters)if(t instanceof Tl)return!1;return!0}function Il(e){if(e instanceof _l)return e.field.canonicalString()+e.op.toString()+Ju(e.value);if(Sl(e))return e.filters.map((e=>Il(e))).join(",");{const t=e.filters.map((e=>Il(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Cl(e,t){return e instanceof _l?function(e,t){return t instanceof _l&&e.op===t.op&&e.field.isEqual(t.field)&&Qu(e.value,t.value)}(e,t):e instanceof Tl?function(e,t){return t instanceof Tl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Cl(n,t.filters[r])),!0)}(e,t):void Ys()}function Al(e,t){const n=e.filters.concat(t);return Tl.create(n,e.op)}function Nl(e){return e instanceof _l?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ju(e.value))}(e):e instanceof Tl?function(e){return e.op.toString()+" {"+e.getFilters().map(Nl).join(" ,")+"}"}(e):"Filter"}class Dl extends _l{constructor(e,t,n){super(e,t,n),this.key=wa.fromName(n.referenceValue)}matches(e){const t=wa.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pl extends _l{constructor(e,t){super(e,"in",t),this.keys=Rl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ol extends _l{constructor(e,t){super(e,"not-in",t),this.keys=Rl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>wa.fromName(e.referenceValue)))}class Ll extends _l{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nl(t)&&Yu(t.arrayValue,this.value)}}class Ml extends _l{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yu(this.value.arrayValue,t)}}class jl extends _l{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yu(this.value.arrayValue,t)}}class Fl extends _l{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yu(this.value.arrayValue,e)))}}class Vl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Bl(e){return new Vl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ul(e){const t=$s(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Il(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Wa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ju(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ju(e))).join(",")),t.ce=e}return t.ce}function zl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Cl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yl(e.startAt,t.startAt)&&yl(e.endAt,t.endAt)}function ql(e){return wa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Kl(e,t){return e.filters.filter((e=>e instanceof _l&&e.field.isEqual(t)))}function Hl(e,t,n){let r=Wu,i=!0;for(const o of Kl(e,t)){let e=Wu,t=!0;switch(o.op){case"<":case"<=":e=ul(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Wu}cl({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];cl({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Wl(e,t,n){let r=Hu,i=!0;for(const o of Kl(e,t)){let e=Hu,t=!0;switch(o.op){case">=":case">":e=ll(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Hu}hl({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];hl({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Ql(e,t,n,r,i,o,s,a){return new Gl(e,t,n,r,i,o,s,a)}function Yl(e){return new Gl(e)}function Xl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $l(e){return null!==e.collectionGroup}function Jl(e){const t=$s(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Nu(ba.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new vl(r,n))})),e.has(ba.keyField().canonicalString())||t.le.push(new vl(ba.keyField(),n))}return t.le}function Zl(e){const t=$s(e);return t.he||(t.he=ec(t,Jl(e))),t.he}function ec(e,t){if("F"===e.limitType)return Bl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new vl(e.field,t)}));const n=e.endAt?new ml(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ml(e.startAt.position,e.startAt.inclusive):null;return Bl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function tc(e,t){const n=e.filters.concat([t]);return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nc(e,t,n){return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rc(e,t){return zl(Zl(e),Zl(t))&&e.limitType===t.limitType}function ic(e){return"".concat(Ul(Zl(e)),"|lt:").concat(e.limitType)}function oc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Nl(e))).join(", "),"]")),Wa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ju(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ju(e))).join(",")),"Target(".concat(t,")")}(Zl(e)),"; limitType=").concat(e.limitType,")")}function sc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Jl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jl(e),t))&&!(e.endAt&&!function(e,t,n){const r=gl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jl(e),t))}(e,t)}function ac(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uc(e){return(t,n)=>{let r=!1;for(const i of Jl(e)){const e=lc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function lc(e,t,n){const r=e.field.isKeyField()?wa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xu(r,i):Ys()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ys()}}class cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Su(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ku(this.inner)}size(){return this.innerSize}}const hc=new Iu(wa.comparator);function dc(){return hc}const fc=new Iu(wa.comparator);function pc(){let e=fc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function mc(e){let t=fc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function gc(){return vc()}function yc(){return vc()}function vc(){return new cc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const bc=new Iu(wa.comparator),wc=new Nu(wa.comparator);function _c(){let e=wc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Tc=new Nu(ha);function xc(){return Tc}function Ec(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(t)?"-0":t}}function Sc(e){return{integerValue:""+e}}function kc(e,t){return Qa(t)?Sc(t):Ec(e,t)}class Ic{constructor(){this._=void 0}}function Cc(e,t,n){return e instanceof Dc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bu(t)&&(t=Uu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Pc?Oc(e,t):e instanceof Rc?Lc(e,t):function(e,t){const n=Nc(e,t),r=jc(n)+jc(e.Ie);return tl(n)&&tl(e.Ie)?Sc(r):Ec(e.serializer,r)}(e,t)}function Ac(e,t,n){return e instanceof Pc?Oc(e,t):e instanceof Rc?Lc(e,t):n}function Nc(e,t){return e instanceof Mc?function(e){return tl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Dc extends Ic{}class Pc extends Ic{constructor(e){super(),this.elements=e}}function Oc(e,t){const n=Fc(t);for(const r of e.elements)n.some((e=>Qu(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Rc extends Ic{constructor(e){super(),this.elements=e}}function Lc(e,t){let n=Fc(t);for(const r of e.elements)n=n.filter((e=>!Qu(e,r)));return{arrayValue:{values:n}}}class Mc extends Ic{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jc(e){return Fu(e.integerValue||e.doubleValue)}function Fc(e){return nl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Vc{constructor(e,t){this.field=e,this.transform=t}}class Bc{constructor(e,t){this.version=e,this.transformResults=t}}class Uc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Uc}static exists(e){return new Uc(void 0,e)}static updateTime(e){return new Uc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class qc{}function Kc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eh(e.key,Uc.none()):new Yc(e.key,e.data,Uc.none());{const n=e.data,r=dl.empty();let i=new Nu(ba.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Xc(e.key,r,new Ou(i.toArray()),Uc.none())}}function Hc(e,t,n){e instanceof Yc?function(e,t,n){const r=e.value.clone(),i=Jc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xc?function(e,t,n){if(!zc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Jc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($c(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wc(e,t,n,r){return e instanceof Yc?function(e,t,n,r){if(!zc(e.precondition,t))return n;const i=e.value.clone(),o=Zc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xc?function(e,t,n,r){if(!zc(e.precondition,t))return n;const i=Zc(e.fieldTransforms,r,t),o=t.data;return o.setAll($c(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return zc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Nc(r.transform,e||null);null!=i&&(null===n&&(n=dl.empty()),n.set(r.field,i))}return n||null}function Qc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&da(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Pc&&t instanceof Pc||e instanceof Rc&&t instanceof Rc?da(e.elements,t.elements,Qu):e instanceof Mc&&t instanceof Mc?Qu(e.Ie,t.Ie):e instanceof Dc&&t instanceof Dc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Yc extends qc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xc extends qc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $c(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Jc(e,t,n){const r=new Map;Xs(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ac(s,a,n[i]))}return r}function Zc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Cc(e,o,t))}return r}class eh extends qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class th extends qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Hc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Wc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Wc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=yc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Kc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ma.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_c())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,((e,t)=>Qc(e,t)))&&da(this.baseMutations,e.baseMutations,((e,t)=>Qc(e,t)))}}class rh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xs(e.mutations.length===n.length);let r=bc;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new rh(e,t,n,r)}}class ih{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class oh{constructor(e,t){this.count=e,this.unchangedNames=t}}var sh,ah;function uh(e){switch(e){default:return Ys();case Js.CANCELLED:case Js.UNKNOWN:case Js.DEADLINE_EXCEEDED:case Js.RESOURCE_EXHAUSTED:case Js.INTERNAL:case Js.UNAVAILABLE:case Js.UNAUTHENTICATED:return!1;case Js.INVALID_ARGUMENT:case Js.NOT_FOUND:case Js.ALREADY_EXISTS:case Js.PERMISSION_DENIED:case Js.FAILED_PRECONDITION:case Js.ABORTED:case Js.OUT_OF_RANGE:case Js.UNIMPLEMENTED:case Js.DATA_LOSS:return!0}}function lh(e){if(void 0===e)return Ws("GRPC error has no .code"),Js.UNKNOWN;switch(e){case sh.OK:return Js.OK;case sh.CANCELLED:return Js.CANCELLED;case sh.UNKNOWN:return Js.UNKNOWN;case sh.DEADLINE_EXCEEDED:return Js.DEADLINE_EXCEEDED;case sh.RESOURCE_EXHAUSTED:return Js.RESOURCE_EXHAUSTED;case sh.INTERNAL:return Js.INTERNAL;case sh.UNAVAILABLE:return Js.UNAVAILABLE;case sh.UNAUTHENTICATED:return Js.UNAUTHENTICATED;case sh.INVALID_ARGUMENT:return Js.INVALID_ARGUMENT;case sh.NOT_FOUND:return Js.NOT_FOUND;case sh.ALREADY_EXISTS:return Js.ALREADY_EXISTS;case sh.PERMISSION_DENIED:return Js.PERMISSION_DENIED;case sh.FAILED_PRECONDITION:return Js.FAILED_PRECONDITION;case sh.ABORTED:return Js.ABORTED;case sh.OUT_OF_RANGE:return Js.OUT_OF_RANGE;case sh.UNIMPLEMENTED:return Js.UNIMPLEMENTED;case sh.DATA_LOSS:return Js.DATA_LOSS;default:return Ys()}}(ah=sh||(sh={}))[ah.OK=0]="OK",ah[ah.CANCELLED=1]="CANCELLED",ah[ah.UNKNOWN=2]="UNKNOWN",ah[ah.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ah[ah.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ah[ah.NOT_FOUND=5]="NOT_FOUND",ah[ah.ALREADY_EXISTS=6]="ALREADY_EXISTS",ah[ah.PERMISSION_DENIED=7]="PERMISSION_DENIED",ah[ah.UNAUTHENTICATED=16]="UNAUTHENTICATED",ah[ah.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ah[ah.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ah[ah.ABORTED=10]="ABORTED",ah[ah.OUT_OF_RANGE=11]="OUT_OF_RANGE",ah[ah.UNIMPLEMENTED=12]="UNIMPLEMENTED",ah[ah.INTERNAL=13]="INTERNAL",ah[ah.UNAVAILABLE=14]="UNAVAILABLE",ah[ah.DATA_LOSS=15]="DATA_LOSS";let ch=null;function hh(){return new TextEncoder}const dh=new Vs([4294967295,4294967295],0);function fh(e){const t=hh().encode(e),n=new Fs;return n.update(t),new Uint8Array(n.digest())}function ph(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Vs([n,r],0),new Vs([i,o],0)]}class mh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gh("Invalid padding: ".concat(t));if(n<0)throw new gh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new gh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new gh("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Vs.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Vs.fromNumber(n)));return 1===r.compare(dh)&&(r=new Vs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=fh(e),[n,r]=ph(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new mh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=fh(e),[n,r]=ph(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new yh(ma.min(),r,new Iu(ha),dc(),_c())}}class vh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new vh(n,t,_c(),_c(),_c())}}class bh{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class wh{constructor(e,t){this.targetId=e,this.fe=t}}class _h{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Th{constructor(){this.ge=0,this.pe=Sh(),this.ye=Lu.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_c(),t=_c(),n=_c();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ys()}})),new vh(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Sh()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Xs(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class xh{constructor(e){this.Be=e,this.ke=new Map,this.qe=dc(),this.Qe=Eh(),this.Ke=new Iu(ha)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Ys()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ql(i))if(0===n){const e=new wa(i.path);this.We(t,e,pl.newNoDocument(e,ma.min()))}else Xs(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==ch||ch.tt(function(e,t,n,r,i){var o,s,a,u,l,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(u=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Vu(n).toUint8Array()}catch(e){if(e instanceof Ru)return Gs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new mh(o,r,i)}catch(e){return Gs(e instanceof gh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ql(i.target)){const t=new wa(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,pl.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=_c();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new yh(e,t,this.Ke,this.qe,n);return this.qe=dc(),this.Qe=Eh(),this.Ke=new Iu(ha),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Th,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Nu(ha),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Hs("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Th),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Eh(){return new Iu(wa.comparator)}function Sh(){return new Iu(wa.comparator)}const kh={asc:"ASCENDING",desc:"DESCENDING"},Ih={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ch={and:"AND",or:"OR"};class Ah{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nh(e,t){return e.useProto3Json||Wa(t)?t:{value:t}}function Dh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ph(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Oh(e,t){return Dh(e,t.toTimestamp())}function Rh(e){return Xs(!!e),ma.fromTimestamp(function(e){const t=ju(e);return new pa(t.seconds,t.nanos)}(e))}function Lh(e,t){return Mh(e,t).canonicalString()}function Mh(e,t){const n=function(e){return new ya(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function jh(e){const t=ya.fromString(e);return Xs(od(t)),t}function Fh(e,t){return Lh(e.databaseId,t.path)}function Vh(e,t){const n=jh(t);if(n.get(1)!==e.databaseId.projectId)throw new Zs(Js.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zs(Js.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wa(qh(n))}function Bh(e,t){return Lh(e.databaseId,t)}function Uh(e){const t=jh(e);return 4===t.length?ya.emptyPath():qh(t)}function zh(e){return new ya(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qh(e){return Xs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kh(e,t,n){return{name:Fh(e,t),fields:n.value.mapValue.fields}}function Hh(e,t,n){const r=Vh(e,t.name),i=Rh(t.updateTime),o=t.createTime?Rh(t.createTime):ma.min(),s=new dl({mapValue:{fields:t.fields}}),a=pl.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wh(e,t){let n;if(t instanceof Yc)n={update:Kh(e,t.key,t.value)};else if(t instanceof eh)n={delete:Fh(e,t.key)};else if(t instanceof Xc)n={update:Kh(e,t.key,t.data),updateMask:id(t.fieldMask)};else{if(!(t instanceof th))return Ys();n={verify:Fh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Dc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ys()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Oh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ys()}(e,t.precondition)),n}function Gh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Uc.updateTime(Rh(e.updateTime)):void 0!==e.exists?Uc.exists(e.exists):Uc.none()}(t.currentDocument):Uc.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Xs("REQUEST_TIME"===t.setToServerValue),n=new Dc;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Pc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Rc(e)}else"increment"in t?n=new Mc(e,t.increment):Ys();const r=ba.fromServerFormat(t.fieldPath);return new Vc(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Vh(e,t.update.name),o=new dl({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ou(t.map((e=>ba.fromServerFormat(e))))}(t.updateMask);return new Xc(i,o,e,n,r)}return new Yc(i,o,n,r)}if(t.delete){const r=Vh(e,t.delete);return new eh(r,n)}if(t.verify){const r=Vh(e,t.verify);return new th(r,n)}return Ys()}function Qh(e,t){return{documents:[Bh(e,t.path)]}}function Yh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Bh(e,i);const o=function(e){if(0!==e.length)return rd(Tl.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:td(e.field),direction:Jh(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Nh(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Xh(e){let t=Uh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=$h(e);return t instanceof Tl&&Sl(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new vl(nd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Wa(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new ml(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new ml(n,t)}(n.endAt)),Ql(t,i,s,o,a,"F",u,l)}function $h(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nd(e.unaryFilter.field);return _l.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nd(e.unaryFilter.field);return _l.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nd(e.unaryFilter.field);return _l.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nd(e.unaryFilter.field);return _l.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ys()}}(e):void 0!==e.fieldFilter?function(e){return _l.create(nd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ys()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Tl.create(e.compositeFilter.filters.map((e=>$h(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ys()}}(e.compositeFilter.op))}(e):Ys()}function Jh(e){return kh[e]}function Zh(e){return Ih[e]}function ed(e){return Ch[e]}function td(e){return{fieldPath:e.canonicalString()}}function nd(e){return ba.fromServerFormat(e.fieldPath)}function rd(e){return e instanceof _l?function(e){if("=="===e.op){if(il(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NAN"}};if(rl(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(il(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NAN"}};if(rl(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(e.field),op:Zh(e.op),value:e.value}}}(e):e instanceof Tl?function(e){const t=e.getFilters().map((e=>rd(e)));return 1===t.length?t[0]:{compositeFilter:{op:ed(e.op),filters:t}}}(e):Ys()}function id(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class sd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ma.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ma.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lu.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new sd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ad{constructor(e){this.ct=e}}function ud(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ld(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Fh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Dh(e,t.version.toTimestamp()),createTime:Dh(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:cd(t.version)};else{if(!t.isUnknownDocument())return Ys();r.unknownDocument={path:n.path.toArray(),version:cd(t.version)}}return r}function ld(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function cd(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hd(e){const t=new pa(e.seconds,e.nanoseconds);return ma.fromTimestamp(t)}function dd(e,t){const n=(t.baseMutations||[]).map((t=>Gh(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Gh(e.ct,t))),i=pa.fromMillis(t.localWriteTimeMs);return new nh(t.batchId,i,n,r)}function fd(e){const t=hd(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?hd(e.lastLimboFreeSnapshotVersion):ma.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Xs(1===e.documents.length),Zl(Yl(Uh(e.documents[0])))}(e.query):function(e){return Zl(Xh(e))}(e.query),new sd(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Lu.fromBase64String(e.resumeToken))}function pd(e,t){const n=cd(t.snapshotVersion),r=cd(t.lastLimboFreeSnapshotVersion);let i;i=ql(t.target)?Qh(e.ct,t.target):Yh(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ul(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function md(e){const t=Xh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nc(t,t.limit,"L"):t}function gd(e,t){return new ih(t.largestBatchId,Gh(e.ct,t.overlayMutation))}function yd(e,t){const n=t.path.lastSegment();return[e,Ya(t.path.popLast()),n]}function vd(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:cd(r.readTime),documentKey:Ya(r.documentKey.path),largestBatchId:r.largestBatchId}}class bd{getBundleMetadata(e,t){return wd(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:hd(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return wd(e).put(function(e){return{bundleId:e.id,createTime:cd(Rh(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return _d(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:md(e.bundledQuery),readTime:hd(e.readTime)}}(e)}))}saveNamedQuery(e,t){return _d(e).put(function(e){return{name:e.name,readTime:cd(Rh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function wd(e){return xu(e,"bundles")}function _d(e){return xu(e,"namedQueries")}class Td{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Td(e,n)}getOverlay(e,t){return xd(e).get(yd(this.userId,t)).next((e=>e?gd(this.serializer,e):null))}getOverlays(e,t){const n=gc();return Oa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new ih(t,i);r.push(this.ht(e,o))})),Oa.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ya(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(xd(e).H("collectionPathOverlayIndex",r))})),Oa.waitFor(i)}getOverlaysForCollection(e,t,n){const r=gc(),i=Ya(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return xd(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=gd(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=gc();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xd(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=gd(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return xd(e).put(function(e,t,n){const[r,i,o]=yd(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Wh(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function xd(e){return xu(e,"documentOverlays")}class Ed{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Fu(e.integerValue));else if("doubleValue"in e){const n=Fu(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Ga(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Vu(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?al(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ys()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),wa.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Sd(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function kd(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Sd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ed.bt=new Ed;class Id{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=kd(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=kd(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Cd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Ad{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Nd{constructor(){this.Gt=new Id,this.zt=new Cd(this.Gt),this.jt=new Ad(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Dd{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Dd(this.indexId,this.documentKey,this.arrayValue,n)}}function Pd(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Od(e.arrayValue,t.arrayValue),0!==n?n:(n=Od(e.directionalValue,t.directionalValue),0!==n?n:wa.comparator(e.documentKey,t.documentKey)))}function Od(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Rd{constructor(e){this.Yt=new Nu(((e,t)=>ba.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Xs(e.collectionGroup===this.collectionId),this.en)return!1;const t=Ta(e);if(void 0!==t&&!this.nn(t))return!1;const n=xa(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new Nu(ba.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ea(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ea(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ea(n.field,"asc"===n.dir?0:1)));return new _a(_a.UNKNOWN_ID,this.collectionId,t,Sa.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ld(e){var t,n;if(Xs(e instanceof _l||e instanceof Tl),e instanceof _l){if(e instanceof Ml){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>_l.create(e.field,"==",t))))||[];return Tl.create(r,"or")}return e}const r=e.filters.map((e=>Ld(e)));return Tl.create(r,e.op)}function Md(e){if(0===e.getFilters().length)return[];const t=Bd(Ld(e));return Xs(Vd(t)),jd(t)||Fd(t)?[t]:t.getFilters()}function jd(e){return e instanceof _l}function Fd(e){return e instanceof Tl&&Sl(e)}function Vd(e){return jd(e)||Fd(e)||function(e){if(e instanceof Tl&&El(e)){for(const t of e.getFilters())if(!jd(t)&&!Fd(t))return!1;return!0}return!1}(e)}function Bd(e){if(Xs(e instanceof _l||e instanceof Tl),e instanceof _l)return e;if(1===e.filters.length)return Bd(e.filters[0]);const t=e.filters.map((e=>Bd(e)));let n=Tl.create(t,e.op);return n=qd(n),Vd(n)?n:(Xs(n instanceof Tl),Xs(xl(n)),Xs(n.filters.length>1),n.filters.reduce(((e,t)=>Ud(e,t))))}function Ud(e,t){let n;return Xs(e instanceof _l||e instanceof Tl),Xs(t instanceof _l||t instanceof Tl),n=e instanceof _l?t instanceof _l?function(e,t){return Tl.create([e,t],"and")}(e,t):zd(e,t):t instanceof _l?zd(t,e):function(e,t){if(Xs(e.filters.length>0&&t.filters.length>0),xl(e)&&xl(t))return Al(e,t.getFilters());const n=El(e)?e:t,r=El(e)?t:e,i=n.filters.map((e=>Ud(e,r)));return Tl.create(i,"or")}(e,t),qd(n)}function zd(e,t){if(xl(t))return Al(t,e.getFilters());{const n=t.filters.map((t=>Ud(e,t)));return Tl.create(n,"or")}}function qd(e){if(Xs(e instanceof _l||e instanceof Tl),e instanceof _l)return e;const t=e.getFilters();if(1===t.length)return qd(t[0]);if(kl(e))return e;const n=t.map((e=>qd(e))),r=[];return n.forEach((t=>{t instanceof _l?r.push(t):t instanceof Tl&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Tl.create(r,e.op)}class Kd{constructor(){this._n=new Hd}addToCollectionParentIndex(e,t){return this._n.add(t),Oa.resolve()}getCollectionParents(e,t){return Oa.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Oa.resolve()}deleteFieldIndex(e,t){return Oa.resolve()}deleteAllFieldIndexes(e){return Oa.resolve()}createTargetIndexes(e,t){return Oa.resolve()}getDocumentsMatchingTarget(e,t){return Oa.resolve(null)}getIndexType(e,t){return Oa.resolve(0)}getFieldIndexes(e,t){return Oa.resolve([])}getNextCollectionGroupToUpdate(e){return Oa.resolve(null)}getMinOffset(e,t){return Oa.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,t){return Oa.resolve(Ca.min())}updateCollectionGroup(e,t,n){return Oa.resolve()}updateIndexEntries(e,t){return Oa.resolve()}}class Hd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nu(ya.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Nu(ya.comparator)).toArray()}}const Wd=new Uint8Array(0);class Gd{constructor(e,t){this.databaseId=t,this.an=new Hd,this.un=new cc((e=>Ul(e)),((e,t)=>zl(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Ya(r)};return Qd(e).put(i)}return Oa.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[fa(t),""],!1,!0);return Qd(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ja(r.parent))}return n}))}addFieldIndex(e,t){const n=Xd(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=$d(e);return i.next((e=>{n.put(vd(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Xd(e),r=$d(e),i=Yd(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Xd(e),n=Yd(e),r=$d(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Oa.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Rd(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Yd(e);let r=!0;const i=new Map;return Oa.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=_c();const r=[];return Oa.forEach(i,((i,o)=>{Hs("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ul(t)));const s=function(e,t){const n=Ta(t);if(void 0===n)return null;for(const r of Kl(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of xa(t))for(const t of Kl(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of xa(t)){const t=0===i.kind?Hl(e,i.fieldPath,e.startAt):Wl(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ml(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of xa(t)){const t=0===i.kind?Wl(e,i.fieldPath,e.endAt):Hl(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ml(n,r)}(o,i),c=this.hn(i,o,u),h=this.hn(i,o,l),d=this.Pn(i,o,a),f=this.In(i.indexId,s,c,u.inclusive,h,l.inclusive,d);return Oa.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=wa.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Oa.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Md(Tl.create(e.filters,"and")).map((t=>Bl(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),u=a/(null!=t?t.length:1),l=[];for(let c=0;c<a;++c){const a=t?this.Tn(t[c/u]):Wd,h=this.En(e,a,n[c%u],r),d=this.dn(e,a,i[c%u],o),f=s.map((t=>this.En(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}En(e,t,n,r){const i=new Dd(e,wa.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Dd(e,wa.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Rd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Oa.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Nu(ba.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Nd;for(const r of xa(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Ed.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Nd;return Ed.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Nd;return Ed.bt.Pt(el(this.databaseId,t),n.Ht(function(e){const t=xa(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Nd);let i=0;for(const o of xa(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&nl(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);Ed.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Nd;n.seed(e.Wt()),Ed.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof _l&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Xd(e),r=$d(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Oa.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Sa(t.sequenceNumber,new Ca(hd(t.readTime),new wa(Ja(t.documentKey)),t.largestBatchId)):Sa.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Ea(ba.fromServerFormat(t),n)}));return new _a(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ha(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Xd(e),i=$d(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Oa.forEach(t,(t=>i.put(vd(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Oa.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Oa.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Oa.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Oa.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Yd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Yd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Yd(e);let i=new Nu(Pd);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Dd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Nu(Pd);const r=this.An(t,e);if(null==r)return n;const i=Ta(t);if(null!=i){const o=e.data.field(i.fieldPath);if(nl(o))for(const i of o.arrayValue.values||[])n=n.add(new Dd(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Dd(t.indexId,e.key,Wd,r));return n}wn(e,t,n,r,i){Hs("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Pu(o),u=Pu(s);for(;a||u;){let e=!1,t=!1;if(a&&u){const r=n(a,u);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(u),u=Pu(s)):t?(i(a),a=Pu(o)):(a=Pu(o),u=Pu(s))}}(r,i,Pd,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),Oa.waitFor(o)}gn(e){let t=1;return $d(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Pd(e,t))).filter(((e,t,n)=>!t||0!==Pd(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Pd(o,e),i=Pd(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Wd,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Wd,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Pd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jd)}getMinOffset(e,t){return Oa.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Ys())))).next(Jd)}}function Qd(e){return xu(e,"collectionParents")}function Yd(e){return xu(e,"indexEntries")}function Xd(e){return xu(e,"indexConfiguration")}function $d(e){return xu(e,"indexState")}function Jd(e){Xs(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Aa(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ca(t.readTime,t.documentKey,n)}const Zd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ef{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ef(e,ef.DEFAULT_COLLECTION_PERCENTILE,ef.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tf(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(u.next((()=>{Xs(1===a)})));const l=[];for(const c of n.mutations){const e=tu(t,c.key.path,n.batchId);o.push(i.delete(e)),l.push(c.key)}return Oa.waitFor(o).next((()=>l))}function nf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ys();t=e.noDocument}return JSON.stringify(t).length}ef.DEFAULT_COLLECTION_PERCENTILE=10,ef.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ef.DEFAULT=new ef(41943040,ef.DEFAULT_COLLECTION_PERCENTILE,ef.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ef.DISABLED=new ef(-1,0,0);class rf{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Xs(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new rf(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sf(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=af(e),o=sf(e);return o.add({}).next((s=>{Xs("number"==typeof s);const a=new nh(s,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>Wh(e.ct,t))),i=n.mutations.map((t=>Wh(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let c=new Nu(((e,t)=>ha(e.canonicalString(),t.canonicalString())));for(const e of r){const t=tu(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),l.push(o.put(u)),l.push(i.put(t,nu))}return c.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),Oa.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return sf(e).get(t).next((e=>e?(Xs(e.userId===this.userId),dd(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Oa.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return sf(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Xs(t.batchId>=n),i=dd(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return sf(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sf(e).W("userMutationsIndex",t).next((e=>e.map((e=>dd(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=eu(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return af(e).Y({range:r},((n,r,o)=>{const[s,a,u]=n,l=Ja(a);if(s===this.userId&&t.path.isEqual(l))return sf(e).get(u).next((e=>{if(!e)throw Ys();Xs(e.userId===this.userId),i.push(dd(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nu(ha);const r=[];return t.forEach((t=>{const i=eu(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=af(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,u=Ja(s);o===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(s)})),Oa.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=eu(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Nu(ha);return af(e).Y({range:o},((e,t,i)=>{const[o,a,u]=e,l=Ja(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(u)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(sf(e).get(t).next((e=>{if(null===e)throw Ys();Xs(e.userId===this.userId),n.push(dd(this.serializer,e))})))})),Oa.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return tf(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Oa.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Oa.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return af(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ja(e[1]);r.push(t)}else n.done()})).next((()=>{Xs(0===r.length)}))}))}containsKey(e,t){return of(e,this.userId,t)}xn(e){return uf(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function of(e,t,n){const r=eu(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return af(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,u]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function sf(e){return xu(e,"mutations")}function af(e){return xu(e,"documentMutations")}function uf(e){return xu(e,"mutationQueues")}class lf{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new lf(0)}static Ln(){return new lf(-1)}}class cf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new lf(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>ma.fromTimestamp(new pa(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>hf(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Xs(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return hf(e).Y(((o,s)=>{const a=fd(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Oa.waitFor(i))).next((()=>r))}forEachTarget(e,t){return hf(e).Y(((e,n)=>{const r=fd(n);t(r)}))}Bn(e){return df(e).get("targetGlobalKey").next((e=>(Xs(null!==e),e)))}kn(e,t){return df(e).put("targetGlobalKey",t)}qn(e,t){return hf(e).put(pd(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ul(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return hf(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=fd(n);zl(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=ff(e);return t.forEach((t=>{const o=Ya(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Oa.waitFor(r)}removeMatchingKeys(e,t,n){const r=ff(e);return Oa.forEach(t,(t=>{const i=Ya(t.path);return Oa.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ff(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ff(e);let i=_c();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Ja(e[1]),o=new wa(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Ya(t.path),r=IDBKeyRange.bound([n],[fa(n)],!1,!0);let i=0;return ff(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return hf(e).get(t).next((e=>e?fd(e):null))}}function hf(e){return xu(e,"targets")}function df(e){return xu(e,"targetGlobal")}function ff(e){return xu(e,"targetDocuments")}function pf(e,t){let[n,r]=e,[i,o]=t;const s=ha(n,i);return 0===s?ha(r,o):s}class mf{constructor(e){this.Kn=e,this.buffer=new Nu(pf),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();pf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Hs("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fa(e)?Hs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Pa(e)}await this.zn(3e5)}))}}class yf{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Oa.resolve(Ha._e);const n=new mf(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hs("LruGarbageCollector","Garbage collection skipped; disabled"),Oa.resolve(Zd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Hs("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Zd):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,a,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Hs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Ks()<=lt.DEBUG&&Hs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-a)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Oa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function vf(e,t){return new yf(e,t)}class bf{constructor(e,t){this.db=e,this.garbageCollector=vf(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return wf(e,n)}removeReference(e,t,n){return wf(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return wf(e,t)}er(e,t){return function(e,t){let n=!1;return uf(e).Z((r=>of(e,r,t).next((e=>(e&&(n=!0),Oa.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,ma.min()),ff(e).delete(function(e){return[0,Ya(e.path)]}(o)))))}));r.push(t)}})).next((()=>Oa.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return wf(e,t)}Xn(e,t){const n=ff(e);let r,i=Ha._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:u}=n;0===o?(i!==Ha._e&&t(new wa(Ja(r)),i),i=u,r=a):i=Ha._e})).next((()=>{i!==Ha._e&&t(new wa(Ja(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wf(e,t){return ff(e).put(function(e,t){return{targetId:0,path:Ya(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class _f{constructor(){this.changes=new cc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Oa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return kf(e).put(n)}removeEntry(e,t,n){return kf(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ld(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=pl.newInvalidDocument(t);return kf(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(If(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:pl.newInvalidDocument(t)};return kf(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(If(t))},((e,r)=>{n={document:this.nr(t,r),size:nf(r)}})).next((()=>n))}getEntries(e,t){let n=dc();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=dc(),r=new Iu(wa.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,nf(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Oa.resolve();let r=new Nu(Af);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(If(r.first()),If(r.last())),o=r.getIterator();let s=o.getNext();return kf(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=wa.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Af(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(If(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),ld(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kf(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=dc();for(const i of e){const e=this.nr(wa.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(sc(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=dc();const o=Cf(t,n),s=Cf(t,Ca.max());return kf(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr(wa.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ef(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Sf(e).get("remoteDocumentGlobalKey").next((e=>(Xs(!!e),e)))}tr(e,t){return Sf(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Hh(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=wa.fromSegments(t.noDocument.path),r=hd(t.noDocument.readTime);n=pl.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ys();{const e=wa.fromSegments(t.unknownDocument.path),r=hd(t.unknownDocument.version);n=pl.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new pa(e[0],e[1]);return ma.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ma.min()))return e}return pl.newInvalidDocument(e)}}function xf(e){return new Tf(e)}class Ef extends _f{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new cc((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Nu(((e,t)=>ha(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ud(this.ar.serializer,o);r=r.add(i.path.popLast());const u=nf(a);n+=u-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ud(this.ar.serializer,o.convertToNoDocument(ma.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Oa.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Sf(e){return xu(e,"remoteDocumentGlobal")}function kf(e){return xu(e,"remoteDocumentsV14")}function If(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Cf(e,t){const n=t.documentKey.path.toArray();return[e,ld(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Af(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ha(n[o],r[o]),i)return i;return i=ha(n.length,r.length),i||(i=ha(n[n.length-2],r[r.length-2]),i||ha(n[n.length-1],r[r.length-1]))}class Nf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Df{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Wc(n.mutation,e,Ou.empty(),pa.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,_c()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_c();const r=gc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=pc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=gc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,_c())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=dc();const o=vc(),s=vc();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Xc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Wc(s.mutation,t,s.mutation.getFieldMask(),pa.now())):o.set(t.key,Ou.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Nf(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=vc();let r=new Iu(((e,t)=>e-t)),i=_c();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ou.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||_c()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,u=r.value,l=yc();u.forEach((e=>{if(!i.has(e)){const r=Kc(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Oa.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return wa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$l(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Oa.resolve(gc());let s=-1,a=i;return o.next((t=>Oa.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Oa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,_c()))).next((e=>({batchId:s,changes:mc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wa(t)).next((e=>{let t=pc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=pc();return this.indexManager.getCollectionParents(e,i).next((s=>Oa.forEach(s,(s=>{const a=function(e,t){return new Gl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pl.newInvalidDocument(r)))}));let n=pc();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Wc(o.mutation,r,Ou.empty(),pa.now()),sc(t,r)&&(n=n.insert(e,r))})),n}))}}class Pf{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Oa.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Rh(e.createTime)}}(t)),Oa.resolve()}getNamedQuery(e,t){return Oa.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:md(e.bundledQuery),readTime:Rh(e.readTime)}}(t)),Oa.resolve()}}class Of{constructor(){this.overlays=new Iu(wa.comparator),this.hr=new Map}getOverlay(e,t){return Oa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=gc();return Oa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Oa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Oa.resolve()}getOverlaysForCollection(e,t,n){const r=gc(),i=t.length+1,o=new wa(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Oa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Iu(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=gc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=gc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Oa.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ih(t,n));let i=this.hr.get(t);void 0===i&&(i=_c(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Rf{constructor(){this.Pr=new Nu(Lf.Ir),this.Tr=new Nu(Lf.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Lf(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Lf(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new wa(new ya([])),n=new Lf(t,e),r=new Lf(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new wa(new ya([])),n=new Lf(t,e),r=new Lf(t,e+1);let i=_c();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lf(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lf{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return wa.comparator(e.key,t.key)||ha(e.pr,t.pr)}static Er(e,t){return ha(e.pr,t.pr)||wa.comparator(e.key,t.key)}}class Mf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Nu(Lf.Ir)}checkEmpty(e){return Oa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nh(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new Lf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Oa.resolve(o)}lookupMutationBatch(e,t){return Oa.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Oa.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Oa.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Oa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lf(t,0),r=new Lf(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Oa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nu(ha);return t.forEach((e=>{const t=new Lf(e,0),r=new Lf(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Oa.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;wa.isDocumentKey(i)||(i=i.child(""));const o=new Lf(new wa(i),0);let s=new Nu(ha);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Oa.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xs(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Oa.forEach(t.mutations,(r=>{const i=new Lf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Lf(t,0),r=this.wr.firstAfterOrEqual(n);return Oa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oa.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jf{constructor(e){this.vr=e,this.docs=new Iu(wa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Oa.resolve(n?n.document.mutableCopy():pl.newInvalidDocument(t))}getEntries(e,t){let n=dc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pl.newInvalidDocument(e))})),Oa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=dc();const o=t.path,s=new wa(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Aa(Ia(s),n)<=0||(r.has(s.key)||sc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Oa.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ys()}Fr(e,t){return Oa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ff(this)}getSize(e){return Oa.resolve(this.size)}}class Ff extends _f{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Oa.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Vf{constructor(e){this.persistence=e,this.Mr=new cc((e=>Ul(e)),zl),this.lastRemoteSnapshotVersion=ma.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Rf,this.targetCount=0,this.Lr=lf.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Oa.resolve()}getLastRemoteSnapshotVersion(e){return Oa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oa.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Oa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Oa.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new lf(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Oa.resolve()}updateTargetData(e,t){return this.qn(t),Oa.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Oa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Oa.waitFor(i).next((()=>r))}getTargetCount(e){return Oa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Oa.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Oa.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Oa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Oa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Oa.resolve(n)}containsKey(e,t){return Oa.resolve(this.Nr.containsKey(t))}}class Bf{constructor(e,t){this.Br={},this.overlays={},this.kr=new Ha(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Vf(this),this.indexManager=new Kd,this.remoteDocumentCache=function(e){return new jf(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new ad(t),this.$r=new Pf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Of,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Mf(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Hs("MemoryPersistence","Starting transaction:",e);const r=new Uf(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Oa.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Uf extends Da{constructor(e){super(),this.currentSequenceNumber=e}}class zf{constructor(e){this.persistence=e,this.zr=new Rf,this.jr=null}static Hr(e){return new zf(e)}get Jr(){if(this.jr)return this.jr;throw Ys()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Oa.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Oa.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Oa.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oa.forEach(this.Jr,(n=>{const r=wa.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,ma.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Oa.or([()=>Oa.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class qf{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Ra("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Za,{unique:!0}),e.createObjectStore("documentMutations")}(e),Kf(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Oa.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Kf(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ma.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Za,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Oa.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:pu});t.createIndex("collectionPathOverlayIndex",mu,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",gu,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ru});t.createIndex("documentKeyIndex",iu),t.createIndex("collectionGroupIndex",ou)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:cu}).createIndex("sequenceNumberIndex",hu,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:du}).createIndex("documentKeyIndex",fu,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=nf(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Oa.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Oa.forEach(n,(n=>{Xs(n.userId===t.userId);const r=dd(this.serializer,n);return tf(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new ya(n),s=function(e){return[0,Ya(e)]}(o);r.push(t.get(s).next((n=>n?Oa.resolve():(n=>t.put({targetId:0,path:Ya(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Oa.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:lu});const n=t.store("collectionParents"),r=new Hd,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ya(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new ya(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=Ja(r);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=fd(n),i=pd(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new wa(ya.fromString(e.document.name).popFirst(5)):e.noDocument?wa.fromSegments(e.noDocument.path):e.unknownDocument?wa.fromSegments(e.unknownDocument.path):Ys()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Oa.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=xf(this.serializer),i=new Bf(zf.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:_c();dd(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Oa.forEach(n,((e,n)=>{const o=new Us(n),s=Td.lt(this.serializer,o),a=i.getIndexManager(o),u=rf.lt(o,this.serializer,a,i.referenceDelegate);return new Df(r,u,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Tu(t,Ha._e),e).next()}))}))}}function Kf(e){e.createObjectStore("targetDocuments",{keyPath:au}).createIndex("documentTargetsIndex",uu,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",su,{unique:!0}),e.createObjectStore("targetGlobal")}const Hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wf{constructor(e,t,n,r,i,o,s,a,u,l){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=u,this.ai=l,this.ui=c,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Wf.D())throw new Zs(Js.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bf(this,r),this.Ti=t+"main",this.serializer=new ad(a),this.Ei=new La(this.Ti,this.ui,new qf(this.serializer)),this.Qr=new cf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xf(this.serializer),this.$r=new bd,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Ws("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zs(Js.FAILED_PRECONDITION,Hf);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Ha(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Qf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Fa(e))return Hs("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Gf(e).get("owner").next((e=>Oa.resolve(this.Si(e))))}bi(e){return Qf(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=xu(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Oa.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Oa.resolve(!0):Gf(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Zs(Js.FAILED_PRECONDITION,Hf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qf(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Hs("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Tu(e,Ha._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Qf(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return rf.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Td.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Hs("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?_u:14===e?wu:13===e?bu:12===e?vu:11===e?yu:void Ys()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new Tu(r,this.kr?this.kr.next():Ha._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Ws("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Zs(Js.FAILED_PRECONDITION,Na);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Gf(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Zs(Js.FAILED_PRECONDITION,Hf)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gf(e).put("owner",t)}static D(){return La.D()}yi(e){const t=Gf(e);return t.get("owner").next((e=>this.Si(e)?(Hs("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Oa.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ws("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;We()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Hs("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ws("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ws("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Gf(e){return xu(e,"owner")}function Qf(e){return xu(e,"clientMetadata")}function Yf(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=_c(),r=_c();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xf(e,t.fromCache,n,r)}}class $f{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jf{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=We()?8:La.v(He())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new $f;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Ks()<=lt.DEBUG&&Hs("QueryEngine","SDK will not create cache indexes for query:",oc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Oa.resolve()):(Ks()<=lt.DEBUG&&Hs("QueryEngine","Query:",oc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Ks()<=lt.DEBUG&&Hs("QueryEngine","The SDK decides to create cache indexes for query:",oc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zl(t))):Oa.resolve())}ji(e,t){if(Xl(t))return Oa.resolve(null);let n=Zl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=nc(t,null,"F"),n=Zl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=_c(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,nc(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Xl(t)||r.isEqual(ma.min())?Oa.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Oa.resolve(null):(Ks()<=lt.DEBUG&&Hs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oc(t)),this.es(e,o,t,ka(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Nu(uc(e));return t.forEach(((t,r)=>{sc(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Ks()<=lt.DEBUG&&Hs("QueryEngine","Using full collection scan to execute query:",oc(t)),this.zi.getDocumentsMatchingQuery(e,t,Ca.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zf{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Iu(ha),this.rs=new cc((e=>Ul(e)),zl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Df(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function ep(e,t,n,r){return new Zf(e,t,n,r)}async function tp(e,t){const n=$s(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=_c();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function np(e){const t=$s(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function rp(e,t,n){let r=_c(),i=_c();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=dc();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ma.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Hs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function ip(e,t){const n=$s(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function op(e,t){const n=$s(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Oa.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new sd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function sp(e,t,n){const r=$s(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fa(e))throw e;Hs("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function ap(e,t,n){const r=$s(e);let i=ma.min(),o=_c();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=$s(e),i=r.rs.get(n);return void 0!==i?Oa.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Zl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:ma.min(),n?o:_c()))).next((e=>(cp(r,ac(t),e),{documents:e,hs:o})))))}function up(e,t){const n=$s(e),r=$s(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function lp(e,t){const n=$s(e),r=n.ss.get(t)||ma.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,ka(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(cp(n,t,e),e)))}function cp(e,t,n){let r=e.ss.get(t)||ma.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function hp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_c();const r=await op(e,Zl(md(t.bundledQuery))),i=$s(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Rh(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(Lu.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function dp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fp(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function pp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class mp{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Zs(r.error.code,r.error.message))),o?new mp(e,t,r.state,i):(Ws("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Zs(n.error.code,n.error.message))),i?new gp(e,n.state,r):(Ws("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=xc();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Qa(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new yp(e,i):(Ws("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class vp{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vp(t.clientId,t.onlineState):(Ws("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class bp{constructor(){this.activeTargetIds=xc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wp{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Iu(ha),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=dp(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new bp),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(dp(this.persistenceKey,n));if(e){const t=yp.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(pp(this.persistenceKey,e));if(n){const r=gp.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pp(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hs("SharedClientState","READ",e,t),t}setItem(e,t){Hs("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hs("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Hs("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Ws("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Ha._e;if(null!=e)try{const n=JSON.parse(e);Xs("number"==typeof n),t=n}catch(e){Ws("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ha._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new mp(this.currentUser,e,t,n),i=fp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=fp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=pp(this.persistenceKey,e),i=new gp(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return yp.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mp.Es(new Us(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return gp.Es(r,t)}xs(e){return vp.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Hs("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=xc();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class _p{constructor(){this.no=new bp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tp{io(e){}shutdown(){}}class xp{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Hs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Hs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ep=null;function Sp(){return null===Ep?Ep=268435456+Math.round(2147483648*Math.random()):Ep++,"0x"+Ep.toString(16)}const kp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ip{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Cp="WebChannelConnection";class Ap extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=Sp(),s=this.bo(e,t.toUriEncodedString());Hs("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Hs("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Gs("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=kp[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Sp();return new Promise(((o,s)=>{const a=new js;a.setWithCredentials(!0),a.listenOnce(Os.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ps.NO_ERROR:const t=a.getResponseJson();Hs(Cp,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Ps.TIMEOUT:Hs(Cp,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Zs(Js.DEADLINE_EXCEEDED,"Request time out"));break;case Ps.HTTP_ERROR:const n=a.getStatus();if(Hs(Cp,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Js).indexOf(t)>=0?t:Js.UNKNOWN}(t.status);s(new Zs(e,t.message))}else s(new Zs(Js.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Zs(Js.UNAVAILABLE,"Connection failed."));break;default:Ys()}}finally{Hs(Cp,"RPC '".concat(e,"' ").concat(i," completed."))}}));const u=JSON.stringify(r);Hs(Cp,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",u,n,15)}))}Fo(e,t,n){const r=Sp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ns(),s=Ds(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Hs(Cp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const c=o.createWebChannel(l,a);let h=!1,d=!1;const f=new Ip({lo:t=>{d?Hs(Cp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Hs(Cp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Ms.EventType.OPEN,(()=>{d||Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Ms.EventType.CLOSE,(()=>{d||(d=!0,Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(c,Ms.EventType.ERROR,(t=>{d||(d=!0,Gs(Cp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Zs(Js.UNAVAILABLE,"The operation could not be completed")))})),p(c,Ms.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Xs(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=sh[e];if(void 0!==t)return lh(t)}(t),i=s.message;void 0===n&&(n=Js.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new Zs(n,i)),c.close()}else Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,Rs.STAT_EVENT,(t=>{t.stat===Ls.PROXY?Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ls.NOPROXY&&Hs(Cp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Np(){return"undefined"!=typeof window?window:null}function Dp(){return"undefined"!=typeof document?document:null}function Pp(e){return new Ah(e,!0)}class Op{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Hs("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Rp{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Op(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Js.RESOURCE_EXHAUSTED?(Ws(t.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Js.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Zs(Js.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Hs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Hs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lp extends Rp{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ys()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Xs(void 0===t||"string"==typeof t),Lu.fromBase64String(t||"")):(Xs(void 0===t||t instanceof Uint8Array),Lu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Js.UNKNOWN:lh(e.code);return new Zs(t,e.message||"")}(s);n=new _h(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vh(e,r.document.name),o=Rh(r.document.updateTime),s=r.document.createTime?Rh(r.document.createTime):ma.min(),a=new dl({mapValue:{fields:r.document.fields}}),u=pl.newFoundDocument(i,o,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new bh(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vh(e,r.document),o=r.readTime?Rh(r.readTime):ma.min(),s=pl.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vh(e,r.document),o=r.removedTargetIds||[];n=new bh([],o,i,null)}else{if(!("filter"in t))return Ys();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new oh(r,i),s=e.targetId;n=new wh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ma.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ma.min():t.readTime?Rh(t.readTime):ma.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=zh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ql(r)?{documents:Qh(e,r)}:{query:Yh(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ph(e,t.resumeToken);const r=Nh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ma.min())>0){n.readTime=Dh(e,t.snapshotVersion.toTimestamp());const r=Nh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ys()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=zh(this.serializer),t.removeTarget=e,this.t_(t)}}class Mp extends Rp{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Xs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Xs(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Rh(e.updateTime):Rh(t);return n.isEqual(ma.min())&&(n=Rh(t)),new Bc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Rh(e.commitTime);return this.listener.T_(n,t)}return Xs(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=zh(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Wh(this.serializer,e)))};this.t_(t)}}class jp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Zs(Js.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,Mh(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Js.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zs(Js.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,Mh(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Js.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zs(Js.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Fp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ws(t),this.g_=!1):Hs("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Vp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Qp(this)&&(Hs("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=$s(e);t.v_.add(4),await Up(t),t.x_.set("Unknown"),t.v_.delete(4),await Bp(t)}(this))}))})),this.x_=new Fp(n,r)}}async function Bp(e){if(Qp(e))for(const t of e.F_)await t(!0)}async function Up(e){for(const t of e.F_)await t(!1)}function zp(e,t){const n=$s(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Gp(n)?Wp(n):dm(n).Jo()&&Kp(n,t))}function qp(e,t){const n=$s(e),r=dm(n);n.C_.delete(t),r.Jo()&&Hp(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Qp(n)&&n.x_.set("Unknown"))}function Kp(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ma.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dm(e).c_(t)}function Hp(e,t){e.O_.Oe(t),dm(e).l_(t)}function Wp(e){e.O_=new xh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),dm(e).start(),e.x_.p_()}function Gp(e){return Qp(e)&&!dm(e).Ho()&&e.C_.size>0}function Qp(e){return 0===$s(e).v_.size}function Yp(e){e.O_=void 0}async function Xp(e){e.C_.forEach(((t,n)=>{Kp(e,t)}))}async function $p(e,t){Yp(e),Gp(e)?(e.x_.S_(t),Wp(e)):e.x_.set("Unknown")}async function Jp(e,t,n){if(e.x_.set("Online"),t instanceof _h&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Hs("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zp(e,n)}else if(t instanceof bh?e.O_.$e(t):t instanceof wh?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(ma.min()))try{const t=await np(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Lu.EMPTY_BYTE_STRING,r.snapshotVersion)),Hp(e,t);const i=new sd(r.target,t,n,r.sequenceNumber);Kp(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hs("RemoteStore","Failed to raise snapshot:",t),await Zp(e,t)}}async function Zp(e,t,n){if(!Fa(t))throw t;e.v_.add(1),await Up(e),e.x_.set("Offline"),n||(n=()=>np(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Hs("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Bp(e)}))}function em(e,t){return t().catch((n=>Zp(e,n,t)))}async function tm(e){const t=$s(e),n=fm(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;nm(t);)try{const e=await ip(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,rm(t,e)}catch(e){await Zp(t,e)}im(t)&&om(t)}function nm(e){return Qp(e)&&e.D_.length<10}function rm(e,t){e.D_.push(t);const n=fm(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function im(e){return Qp(e)&&!fm(e).Ho()&&e.D_.length>0}function om(e){fm(e).start()}async function sm(e){fm(e).d_()}async function am(e){const t=fm(e);for(const n of e.D_)t.I_(n.mutations)}async function um(e,t,n){const r=e.D_.shift(),i=rh.from(r,t,n);await em(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await tm(e)}async function lm(e,t){t&&fm(e).P_&&await async function(e,t){if(function(e){return uh(e)&&e!==Js.ABORTED}(t.code)){const n=e.D_.shift();fm(e).Zo(),await em(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await tm(e)}}(e,t),im(e)&&om(e)}async function cm(e,t){const n=$s(e);n.asyncQueue.verifyOperationInProgress(),Hs("RemoteStore","RemoteStore received new credentials");const r=Qp(n);n.v_.add(3),await Up(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Bp(n)}async function hm(e,t){const n=$s(e);t?(n.v_.delete(2),await Bp(n)):t||(n.v_.add(2),await Up(n),n.x_.set("Unknown"))}function dm(e){return e.N_||(e.N_=function(e,t,n){const r=$s(e);return r.R_(),new Lp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Xp.bind(null,e),To:$p.bind(null,e),u_:Jp.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Gp(e)?Wp(e):e.x_.set("Unknown")):(await e.N_.stop(),Yp(e))}))),e.N_}function fm(e){return e.L_||(e.L_=function(e,t,n){const r=$s(e);return r.R_(),new Mp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:sm.bind(null,e),To:lm.bind(null,e),E_:am.bind(null,e),T_:um.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await tm(e)):(await e.L_.stop(),e.D_.length>0&&(Hs("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class pm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new pm(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zs(Js.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(e,t){if(Ws("AsyncQueue","".concat(t,": ").concat(e)),Fa(e))return new Zs(Js.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class gm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||wa.comparator(t.key,n.key):(e,t)=>wa.comparator(e.key,t.key),this.keyedMap=pc(),this.sortedSet=new Iu(this.comparator)}static emptySet(e){return new gm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new gm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ym{constructor(){this.B_=new Iu(wa.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ys():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class vm{constructor(e,t,n,r,i,o,s,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new vm(e,t,gm.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bm{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class wm{constructor(){this.queries=new cc((e=>ic(e)),rc),this.onlineState="Unknown",this.W_=new Set}}async function _m(e,t){const n=$s(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new bm,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=mm(e,"Initialization of query '".concat(oc(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&Sm(n)}async function Tm(e,t){const n=$s(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),0===o.Q_.length?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xm(e,t){const n=$s(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&Sm(n)}function Em(e,t,n){const r=$s(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function Sm(e){e.W_.forEach((e=>{e.next()}))}var km,Im;(Im=km||(km={})).j_="default",Im.Cache="cache";class Cm{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=vm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==km.Cache}}class Am{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class Nm{constructor(e){this.serializer=e}Ps(e){return Vh(this.serializer,e)}Is(e){return e.metadata.exists?Hh(this.serializer,e.document,!1):pl.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Rh(e)}}class Dm{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pm(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=ya.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new Nm(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||_c()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=$s(e);let o=_c(),s=dc();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(o=o.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=await op(i,function(e){return Zl(Yl(ya.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>rp(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Qr.addMatchingKeys(e,o,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new Nm(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await hp(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function Pm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Om{constructor(e){this.key=e}}class Rm{constructor(e){this.key=e}}class Lm{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=_c(),this.mutatedKeys=_c(),this.ha=uc(e),this.Pa=new gm(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new ym,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=sc(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.da(l,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ha(c,a)>0||u&&this.ha(c,u)<0)&&(s=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(a||u)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:o,Ea:n,Xi:s,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ys()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const s=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,u=a!==this.ca;return this.ca=a,0!==o.length||u?{snapshot:new vm(this.query,e.Pa,i,o,e.mutatedKeys,0===a,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new ym,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=_c(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new Rm(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Om(n))})),t}fa(e){this.ua=e.hs,this.la=_c();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return vm.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Mm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jm{constructor(e){this.key=e,this.pa=!1}}class Fm{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new cc((e=>ic(e)),rc),this.Sa=new Map,this.ba=new Set,this.Da=new Iu(wa.comparator),this.Ca=new Map,this.va=new Rf,this.Fa={},this.Ma=new Map,this.xa=lf.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function Vm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=pg(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await Um(r,t,n,!0),i}async function Bm(e,t){const n=pg(e);await Um(n,t,!0,!1)}async function Um(e,t,n,r){const i=await op(e.localStore,Zl(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await zm(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&zp(e.remoteStore,i),a}async function zm(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await ap(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return eg(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const o=await ap(e.localStore,t,!0),s=new Lm(t,o.hs),a=s.Ta(o.documents),u=vh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,u);eg(e,n,l.Va);const c=new Mm(t,n,s);return e.wa.set(t,c),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),l.snapshot}async function qm(e,t,n){const r=$s(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter((e=>!rc(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qp(r.remoteStore,i.targetId),Jm(r,i.targetId)})).catch(Pa)):(Jm(r,i.targetId),await sp(r.localStore,i.targetId,!0))}async function Km(e,t){const n=$s(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qp(n.remoteStore,r.targetId))}async function Hm(e,t){const n=$s(e);try{const e=await function(e,t){const n=$s(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const u=i.get(a);if(!u)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Lu.EMPTY_BYTE_STRING,ma.min()).withLastLimboFreeSnapshotVersion(ma.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,o)&&s.push(n.Qr.updateTargetData(e,l))}));let a=dc(),u=_c();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(rp(e,o,t.documentUpdates).next((e=>{a=e.cs,u=e.ls}))),!r.isEqual(ma.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Oa.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,u))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(Xs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?Xs(r.pa):e.removedDocuments.size>0&&(Xs(r.pa),r.pa=!1))})),await rg(n,e,t)}catch(e){await Pa(e)}}function Wm(e,t,n){const r=$s(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=$s(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&Sm(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gm(e,t,n){const r=$s(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let e=new Iu(wa.comparator);e=e.insert(o,pl.newNoDocument(o,ma.min()));const n=_c().add(o),i=new yh(ma.min(),new Map,new Iu(ha),e,n);await Hm(r,i),r.Da=r.Da.remove(o),r.Ca.delete(t),ng(r)}else await sp(r.localStore,t,!1).then((()=>Jm(r,t,n))).catch(Pa)}async function Qm(e,t){const n=$s(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$s(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Oa.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Xs(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_c();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);$m(n,r,null),Xm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rg(n,e)}catch(e){await Pa(e)}}async function Ym(e,t,n){const r=$s(e);try{const e=await function(e,t){const n=$s(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);$m(r,t,n),Xm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rg(r,e)}catch(n){await Pa(n)}}function Xm(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function $m(e,t,n){const r=$s(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||Zm(e,t)}))}function Zm(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(qp(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),ng(e))}function eg(e,t,n){for(const r of n)r instanceof Om?(e.va.addReference(r.key,t),tg(e,r)):r instanceof Rm?(Hs("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||Zm(e,r.key)):Ys()}function tg(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Hs("SyncEngine","New document in limbo: "+n),e.ba.add(r),ng(e))}function ng(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new wa(ya.fromString(t)),r=e.xa.next();e.Ca.set(r,new jm(n)),e.Da=e.Da.insert(n,r),zp(e.remoteStore,new sd(Zl(Yl(n.path)),r,"TargetPurposeLimboResolution",Ha._e))}}async function rg(e,t,n){const r=$s(e),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{s.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xf.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.ya.u_(i),await async function(e,t){const n=$s(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Oa.forEach(t,(t=>Oa.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Oa.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fa(e))throw e;Hs("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function ig(e,t){const n=$s(e);if(!n.currentUser.isEqual(t)){Hs("SyncEngine","User change. New user:",t.toKey());const e=await tp(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Zs(Js.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await rg(n,e.us)}}function og(e,t){const n=$s(e),r=n.Ca.get(t);if(r&&r.pa)return _c().add(r.key);{let e=_c();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function sg(e,t){const n=$s(e),r=await ap(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&eg(n,t.targetId,i.Va),i}async function ag(e,t){const n=$s(e);return lp(n.localStore,t).then((e=>rg(n,e)))}async function ug(e,t,n,r){const i=$s(e),o=await function(e,t){const n=$s(e),r=$s(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Oa.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await tm(i.remoteStore):"acknowledged"===n||"rejected"===n?($m(i,t,r||null),Xm(i,t),function(e,t){$s($s(e).mutationQueue).Mn(t)}(i.localStore,t)):Ys(),await rg(i,o)):Hs("SyncEngine","Cannot apply mutation batch with id: "+t)}async function lg(e,t,n){const r=$s(e),i=[],o=[];for(const s of t){let e;const t=r.Sa.get(s);if(t&&0!==t.length){e=await op(r.localStore,Zl(t[0]));for(const e of t){const t=r.wa.get(e),n=await sg(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await up(r.localStore,s);e=await op(r.localStore,t),await zm(r,cg(t),s,!1,e.resumeToken)}i.push(e)}return r.ya.u_(o),i}function cg(e){return Ql(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hg(e){return function(e){return $s($s(e).persistence).Bi()}($s(e).localStore)}async function dg(e,t,n,r){const i=$s(e);if(i.Oa)return void Hs("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await lp(i.localStore,ac(o[0])),r=yh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Lu.EMPTY_BYTE_STRING);await rg(i,e,r);break}case"rejected":await sp(i.localStore,t,!0),Jm(i,t,r);break;default:Ys()}}async function fg(e,t,n){const r=pg(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Hs("SyncEngine","Adding an already active target "+e);continue}const t=await up(r.localStore,e),n=await op(r.localStore,t);await zm(r,cg(t),n.targetId,!1,n.resumeToken),zp(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await sp(r.localStore,e,!1).then((()=>{qp(r.remoteStore,e),Jm(r,e)})).catch(Pa)}}function pg(e){const t=$s(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=og.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gm.bind(null,t),t.ya.u_=xm.bind(null,t.eventManager),t.ya.La=Em.bind(null,t.eventManager),t}function mg(e){const t=$s(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ym.bind(null,t),t}class gg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ep(this.persistence,new Jf,e.initialUser,this.serializer)}createPersistence(e){return new Bf(zf.Hr,this.serializer)}createSharedClientState(e){return new _p}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yg extends gg{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await mg(this.ka.syncEngine),await tm(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return ep(this.persistence,new Jf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new gf(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Ka(t,this.persistence);return new qa(e.asyncQueue,n)}createPersistence(e){const t=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ef.withCacheSize(this.cacheSizeBytes):ef.DEFAULT;return new Wf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Np(),Dp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _p}}class vg extends yg{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof wp&&(this.sharedClientState.syncEngine={Zs:ug.bind(null,t),Xs:dg.bind(null,t),eo:fg.bind(null,t),Bi:hg.bind(null,t),Ys:ag.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=$s(e);if(pg(n),mg(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await lg(n,e.toArray());n.Oa=!0,await hm(n.remoteStore,!0);for(const r of t)zp(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Jm(n,i),sp(n.localStore,i,!0)))),qp(n.remoteStore,i)})),await t,await lg(n,e),function(e){const t=$s(e);t.Ca.forEach(((e,n)=>{qp(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new Iu(wa.comparator)}(n),n.Oa=!1,await hm(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Np();if(!wp.D(t))throw new Zs(Js.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Wm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ig.bind(null,this.syncEngine),await hm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wm}createDatastore(e){const t=Pp(e.databaseInfo.databaseId),n=function(e){return new Ap(e)}(e.databaseInfo);return function(e,t,n,r){return new jp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Vp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Wm(this.syncEngine,e,0)),xp.D()?new xp:new Tp)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Fm(e,t,n,r,i,o);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=$s(e);Hs("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Up(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function wg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Tg{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new ea,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new Am(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class xg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Zs(Js.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=$s(e),r={documents:t.map((e=>Fh(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,ya.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Xs(!!t.found),t.found.name,t.found.updateTime;const n=Vh(e,t.found.name),r=Rh(t.found.updateTime),i=t.found.createTime?Rh(t.found.createTime):ma.min(),o=new dl({mapValue:{fields:t.found.fields}});return pl.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Xs(!!t.missing),Xs(!!t.readTime);const n=Vh(e,t.missing),r=Rh(t.readTime);return pl.newNoDocument(n,r)}(e,t):Ys()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());Xs(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=wa.fromPath(t);this.mutations.push(new th(n,this.precondition(n)))})),await async function(e,t){const n=$s(e),r={writes:t.map((e=>Wh(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,ya.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ys();t=ma.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zs(Js.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ma.min())?Uc.exists(!1):Uc.updateTime(t):Uc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ma.min()))throw new Zs(Js.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uc.updateTime(t)}return Uc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Eg{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new Op(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new xg(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!Wa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uh(t)}return!1}}class Sg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Us.UNAUTHENTICATED,this.clientId=ca.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Hs("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Hs("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zs(Js.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=mm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kg(e,t){e.asyncQueue.verifyOperationInProgress(),Hs("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ig(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ag(e);Hs("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>cm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>cm(t.remoteStore,n))),e._onlineComponents=t}function Cg(e){return"FirebaseError"===e.name?e.code===Js.FAILED_PRECONDITION||e.code===Js.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Ag(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Hs("FirestoreClient","Using user provided OfflineComponentProvider");try{await kg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Cg(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await kg(e,new gg)}}else Hs("FirestoreClient","Using default OfflineComponentProvider"),await kg(e,new gg);return e._offlineComponents}async function Ng(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Hs("FirestoreClient","Using user provided OnlineComponentProvider"),await Ig(e,e._uninitializedComponentsProvider._online)):(Hs("FirestoreClient","Using default OnlineComponentProvider"),await Ig(e,new bg))),e._onlineComponents}function Dg(e){return Ag(e).then((e=>e.persistence))}function Pg(e){return Ag(e).then((e=>e.localStore))}function Og(e){return Ng(e).then((e=>e.remoteStore))}function Rg(e){return Ng(e).then((e=>e.syncEngine))}function Lg(e){return Ng(e).then((e=>e.datastore))}async function Mg(e){const t=await Ng(e),n=t.eventManager;return n.onListen=Vm.bind(null,t.syncEngine),n.onUnlisten=qm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Bm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Km.bind(null,t.syncEngine),n}function jg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ea;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new _g({next:o=>{t.enqueueAndForget((()=>Tm(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Zs(Js.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Zs(Js.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Cm(Yl(n.path),o,{includeMetadataChanges:!0,ta:!0});return _m(e,s)}(await Mg(e),e.asyncQueue,t,n,r))),r.promise}function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ea;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new _g({next:n=>{t.enqueueAndForget((()=>Tm(e,s))),n.fromCache&&"server"===r.source?i.reject(new Zs(Js.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Cm(n,o,{includeMetadataChanges:!0,ta:!0});return _m(e,s)}(await Mg(e),e.asyncQueue,t,n,r))),r.promise}function Vg(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?hh().encode(e):e,function(e,t){return new Tg(e,t)}(function(e,t){if(e instanceof Uint8Array)return wg(e,t);if(e instanceof ArrayBuffer)return wg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Pp(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=$s(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=$s(e),r=Rh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Pm(r));const i=new Dm(r,e.localStore,t.serializer);let o=await t.Ba();for(;o;){const e=await i.sa(o);e&&n._updateProgress(e),o=await t.Ba()}const s=await i.complete();return await rg(e,s.aa,void 0),await function(e,t){const n=$s(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s._a)}catch(e){return Gs("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Rg(e),i,r)}))}function Bg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ug=new Map;function zg(e,t,n){if(!n)throw new Zs(Js.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qg(e,t,n,r){if(!0===t&&!0===r)throw new Zs(Js.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Kg(e){if(!wa.isDocumentKey(e))throw new Zs(Js.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hg(e){if(wa.isDocumentKey(e))throw new Zs(Js.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ys()}function Gg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zs(Js.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wg(e);throw new Zs(Js.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Qg(e,t){if(t<=0)throw new Zs(Js.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Yg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zs(Js.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zs(Js.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zs(Js.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Zs(Js.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Zs(Js.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zs(Js.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zs(Js.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new na;switch(e.type){case"firstParty":return new sa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zs(Js.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ug.get(e);t&&(Hs("ComponentProvider","Removing Datastore"),Ug.delete(e),t.terminate())}(this),Promise.resolve()}}function $g(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Gg(e,Xg))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Us.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Zs(Js.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Us(o)}e._authCredentials=new ra(new ta(t,n))}}class Jg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jg(this.firestore,e,this._query)}}class Zg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ey(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zg(this.firestore,e,this._key)}}class ey extends Jg{constructor(e,t,n){super(e,t,Yl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zg(this.firestore,null,new wa(e))}withConverter(e){return new ey(this.firestore,e,this._path)}}function ty(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rt(e),zg("collection","path",t),e instanceof Xg){const n=ya.fromString(t,...r);return Hg(n),new ey(e,null,n)}{if(!(e instanceof Zg||e instanceof ey))throw new Zs(Js.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ya.fromString(t,...r));return Hg(n),new ey(e.firestore,null,n)}}function ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rt(e),1===arguments.length&&(t=ca.newId()),zg("doc","path",t),e instanceof Xg){const n=ya.fromString(t,...r);return Kg(n),new Zg(e,null,new wa(n))}{if(!(e instanceof Zg||e instanceof ey))throw new Zs(Js.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ya.fromString(t,...r));return Kg(n),new Zg(e.firestore,e instanceof ey?e.converter:null,new wa(n))}}function ry(e,t){return e=rt(e),t=rt(t),(e instanceof Zg||e instanceof ey)&&(t instanceof Zg||t instanceof ey)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function iy(e,t){return e=rt(e),t=rt(t),e instanceof Jg&&t instanceof Jg&&e.firestore===t.firestore&&rc(e._query,t._query)&&e.converter===t.converter}class oy{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Op(this,"async_queue_retry"),this.cu=()=>{const e=Dp();e&&Hs("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Dp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Dp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new ea;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Fa(e))throw e;Hs("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ws("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=pm.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Ys()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function sy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ay{constructor(){this._progressObserver={},this._taskCompletionResolver=new ea,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class uy extends Xg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new oy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cy(this),this._firestoreClient.terminate()}}function ly(e){return e._firestoreClient||cy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cy(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new qu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Bg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Sg(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function hy(e,t,n){const r=new ea;return e.asyncQueue.enqueue((async()=>{try{await kg(e,n),await Ig(e,t),r.resolve()}catch(e){const n=e;if(!Cg(n))throw n;Gs("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function dy(e){return function(e){const t=new ea;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=$s(e);Qp(n.remoteStore)||Hs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=$s(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=mm(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Rg(e),t))),t.promise}(ly(e=Gg(e,uy)))}function fy(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Dg(e),n=await Og(e);return t.setNetworkEnabled(!0),function(e){const t=$s(e);return t.v_.delete(0),Bp(t)}(n)}))}(ly(e=Gg(e,uy)))}function py(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Dg(e),n=await Og(e);return t.setNetworkEnabled(!1),async function(e){const t=$s(e);t.v_.add(0),await Up(t),t.x_.set("Offline")}(n)}))}(ly(e=Gg(e,uy)))}function my(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=$s(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await Pg(e),t)))}(ly(e=Gg(e,uy)),t).then((t=>t?new Jg(e,null,t.query):null))}function gy(e){if(e._initialized||e._terminated)throw new Zs(Js.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yy(Lu.fromBase64String(e))}catch(e){throw new Zs(Js.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yy(Lu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zs(Js.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ba(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._methodName=e}}class wy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zs(Js.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zs(Js.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ha(this._lat,e._lat)||ha(this._long,e._long)}}const _y=/^__.*__$/;class Ty{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class xy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ey(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ys()}}class Sy{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Hy(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Ey(this.Vu)&&_y.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class ky{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pp(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sy({Vu:e,methodName:t,Du:n,path:ba.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iy(e){const t=e._freezeSettings(),n=Pp(e._databaseId);return new ky(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cy(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);Uy("Data must be an object, but it was:",s,r);const a=Vy(r,s);let u,l;if(o.merge)u=new Ou(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=zy(t,r,n);if(!s.contains(i))throw new Zs(Js.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Wy(e,i)||e.push(i)}u=new Ou(e),l=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=s.fieldTransforms;return new Ty(new dl(a),u,l)}class Ay extends by{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function Ny(e,t,n){return new Sy({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Dy extends by{_toFieldTransform(e){return new Vc(e.path,new Dc)}isEqual(e){return e instanceof Dy}}class Py extends by{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=Ny(this,e,!0),n=this.vu.map((e=>Fy(e,t))),r=new Pc(n);return new Vc(e.path,r)}isEqual(e){return e instanceof Py&&Je(this.vu,e.vu)}}class Oy extends by{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=Ny(this,e,!0),n=this.vu.map((e=>Fy(e,t))),r=new Rc(n);return new Vc(e.path,r)}isEqual(e){return e instanceof Oy&&Je(this.vu,e.vu)}}class Ry extends by{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new Mc(e.serializer,kc(e.serializer,this.Fu));return new Vc(e.path,t)}isEqual(e){return e instanceof Ry&&this.Fu===e.Fu}}function Ly(e,t,n,r){const i=e.Cu(1,t,n);Uy("Data must be an object, but it was:",i,r);const o=[],s=dl.empty();Su(r,((e,r)=>{const a=Ky(t,e,n);r=rt(r);const u=i.yu(a);if(r instanceof Ay)o.push(a);else{const e=Fy(r,u);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Ou(o);return new xy(s,a,i.fieldTransforms)}function My(e,t,n,r,i,o){const s=e.Cu(1,t,n),a=[zy(t,r,n)],u=[i];if(o.length%2!=0)throw new Zs(Js.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(zy(t,o[d])),u.push(o[d+1]);const l=[],c=dl.empty();for(let d=a.length-1;d>=0;--d)if(!Wy(l,a[d])){const e=a[d];let t=u[d];t=rt(t);const n=s.yu(e);if(t instanceof Ay)l.push(e);else{const r=Fy(t,n);null!=r&&(l.push(e),c.set(e,r))}}const h=new Ou(l);return new xy(c,h,s.fieldTransforms)}function jy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fy(n,e.Cu(r?4:3,t))}function Fy(e,t){if(By(e=rt(e)))return Uy("Unsupported field value:",t,e),Vy(e,t);if(e instanceof by)return function(e,t){if(!Ey(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fy(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=rt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pa.fromDate(e);return{timestampValue:Dh(t.serializer,n)}}if(e instanceof pa){const n=new pa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Dh(t.serializer,n)}}if(e instanceof wy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yy)return{bytesValue:Ph(t.serializer,e._byteString)};if(e instanceof Zg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Lh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(Wg(e)))}(e,t)}function Vy(e,t){const n={};return ku(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Su(e,((e,r)=>{const i=Fy(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function By(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pa||e instanceof wy||e instanceof yy||e instanceof Zg||e instanceof by)}function Uy(e,t,n){if(!By(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Wg(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function zy(e,t,n){if((t=rt(t))instanceof vy)return t._internalPath;if("string"==typeof t)return Ky(e,t);throw Hy("Field path arguments must be of type string or ",e,!1,void 0,n)}const qy=new RegExp("[~\\*/\\[\\]]");function Ky(e,t,n){if(t.search(qy)>=0)throw Hy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new vy(...t.split("."))._internalPath}catch(On){throw Hy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Hy(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=" in field ".concat(r)),s&&(u+=" in document ".concat(i)),u+=")"),new Zs(Js.INVALID_ARGUMENT,a+e+u)}function Wy(e,t){return e.some((e=>e.isEqual(t)))}class Gy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qy extends Gy{data(){return super.data()}}function Yy(e,t){return"string"==typeof t?Ky(e,t):t instanceof vy?t._internalPath:t._delegate._internalPath}function Xy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zs(Js.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class Jy extends $y{}function Zy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof $y&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof tv)).length,n=e.filter((e=>e instanceof ev)).length;if(t>1||t>0&&n>0)throw new Zs(Js.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class ev extends Jy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ev(e,t,n)}_apply(e){const t=this._parse(e);return lv(e._query,t),new Jg(e.firestore,e.converter,tc(e._query,t))}_parse(e){const t=Iy(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zs(Js.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){uv(s,o);const t=[];for(const n of s)t.push(av(r,e,n));a={arrayValue:{values:t}}}else a=av(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uv(s,o),a=jy(n,t,s,"in"===o||"not-in"===o);return _l.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class tv extends $y{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Tl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)lv(n,i),n=tc(n,i)}(e._query,t),new Jg(e.firestore,e.converter,tc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nv extends Jy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vl(t,n)}(e._query,this._field,this._direction);return new Jg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Gl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class rv extends Jy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new rv(e,t,n)}_apply(e){return new Jg(e.firestore,e.converter,nc(e._query,this._limit,this._limitType))}}class iv extends Jy{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new iv(e,t,n)}_apply(e){const t=sv(e,this.type,this._docOrFields,this._inclusive);return new Jg(e.firestore,e.converter,function(e,t){return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ov extends Jy{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ov(e,t,n)}_apply(e){const t=sv(e,this.type,this._docOrFields,this._inclusive);return new Jg(e.firestore,e.converter,function(e,t){return new Gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function sv(e,t,n,r){if(n[0]=rt(n[0]),n[0]instanceof Gy)return function(e,t,n,r,i){if(!r)throw new Zs(Js.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Jl(e))if(s.field.isKeyField())o.push(el(t,r.key));else{const e=r.data.field(s.field);if(Bu(e))throw new Zs(Js.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new ml(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Iy(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Zs(Js.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let u=0;u<i.length;u++){const o=i[u];if(s[u].field.isKeyField()){if("string"!=typeof o)throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!$l(e)&&-1!==o.indexOf("/"))throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(ya.fromString(o));if(!wa.isDocumentKey(n))throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new wa(n);a.push(el(t,i))}else{const e=jy(n,r,o);a.push(e)}}return new ml(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function av(e,t,n){if("string"==typeof(n=rt(n))){if(""===n)throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$l(t)&&-1!==n.indexOf("/"))throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ya.fromString(n));if(!wa.isDocumentKey(r))throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return el(e,new wa(r))}if(n instanceof Zg)return el(e,n._key);throw new Zs(Js.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Wg(n),"."))}function uv(e,t){if(!Array.isArray(e)||0===e.length)throw new Zs(Js.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function lv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Zs(Js.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zs(Js.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class cv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ys()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Su(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new wy(Fu(e.latitude),Fu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Uu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const t=ju(e);return new pa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ya.fromString(e);Xs(od(n));const r=new Ku(n.get(1),n.get(3)),i=new wa(n.popFirst(5));return r.isEqual(t)||Ws("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function hv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dv extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zg(this.firestore,null,t)}}class fv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pv extends Gy{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new mv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mv extends pv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new mv(this._firestore,this._userDataWriter,n.key,n,new fv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zs(Js.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new mv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new mv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:yv(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ys()}}function vv(e,t){return e instanceof pv&&t instanceof pv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof gv&&t instanceof gv&&e._firestore===t._firestore&&iy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class bv extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zg(this.firestore,null,t)}}function wv(e){e=Gg(e,Zg);const t=Gg(e.firestore,uy),n=ly(t),r=new bv(t);return function(e,t){const n=new ea;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=$s(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Zs(Js.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=mm(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Pg(e),t,n))),n.promise}(n,e._key).then((n=>new pv(t,r,e._key,n,new fv(null!==n&&n.hasLocalMutations,!0),e.converter)))}function _v(e){e=Gg(e,Jg);const t=Gg(e.firestore,uy),n=ly(t),r=new bv(t);return function(e,t){const n=new ea;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ap(e,t,!0),i=new Lm(t,r.hs),o=i.Ta(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=mm(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Pg(e),t,n))),n.promise}(n,e._query).then((n=>new gv(t,r,e,n)))}function Tv(e,t,n){e=Gg(e,Zg);const r=Gg(e.firestore,uy),i=hv(e.converter,t,n);return kv(r,[Cy(Iy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Uc.none())])}function xv(e,t,n){e=Gg(e,Zg);const r=Gg(e.firestore,uy),i=Iy(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),u=3;u<s;u++)a[u-3]=arguments[u];return o="string"==typeof(t=rt(t))||t instanceof vy?My(i,"updateDoc",e._key,t,n,a):Ly(i,"updateDoc",e._key,t),kv(r,[o.toMutation(e._key,Uc.exists(!0))])}function Ev(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=rt(e);let a={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof n[u]||sy(n[u])||(a=n[u],u++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(sy(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[u+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let c,h,d;if(e instanceof Zg)h=Gg(e.firestore,uy),d=Yl(e._key.path),c={next:t=>{n[u]&&n[u](Iv(h,e,t))},error:n[u+1],complete:n[u+2]};else{const t=Gg(e,Jg);h=Gg(t.firestore,uy),d=t._query;const r=new bv(h);c={next:e=>{n[u]&&n[u](new gv(h,r,t,e))},error:n[u+1],complete:n[u+2]},Xy(e._query)}return function(e,t,n,r){const i=new _g(r),o=new Cm(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>_m(await Mg(e),o))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>Tm(await Mg(e),o)))}}(ly(h),d,l,c)}function Sv(e,t){return function(e,t){const n=new _g(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){$s(e).W_.add(t),t.next()}(await Mg(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){$s(e).W_.delete(t)}(await Mg(e),n)))}}(ly(e=Gg(e,uy)),sy(t)?t:{next:t})}function kv(e,t){return function(e,t){const n=new ea;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=mg(e);try{const e=await function(e,t){const n=$s(e),r=pa.now(),i=t.reduce(((e,t)=>e.add(t.key)),_c());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=dc(),u=_c();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(u=u.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Gc(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Xc(e.key,t,fl(t.value.mapValue),Uc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:mc(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Iu(ha)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await rg(r,e.changes),await tm(r.remoteStore)}catch(e){const t=mm(e,"Failed to persist write");n.reject(t)}}(await Rg(e),t,n))),n.promise}(ly(e),t)}function Iv(e,t,n){const r=n.docs.get(t._key),i=new bv(e);return new pv(e,i,t._key,r,new fv(n.hasPendingWrites,n.fromCache),t.converter)}const Cv={maxAttempts:5};class Av{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Iy(e)}set(e,t,n){this._verifyNotCommitted();const r=Nv(e,this._firestore),i=hv(r.converter,t,n),o=Cy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Uc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Nv(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=rt(t))||t instanceof vy?My(this._dataReader,"WriteBatch.update",r._key,t,n,s):Ly(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Uc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nv(e,this._firestore);return this._mutations=this._mutations.concat(new eh(t._key,Uc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zs(Js.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nv(e,t){if((e=rt(e)).firestore!==t)throw new Zs(Js.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Dv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Iy(e)}get(e){const t=Nv(e,this._firestore),n=new dv(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ys();const r=e[0];if(r.isFoundDocument())return new Gy(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Gy(this._firestore,n,t._key,null,t.converter);throw Ys()}))}set(e,t,n){const r=Nv(e,this._firestore),i=hv(r.converter,t,n),o=Cy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Nv(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=rt(t))||t instanceof vy?My(this._dataReader,"Transaction.update",r._key,t,n,s):Ly(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Nv(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nv(e,this._firestore),n=new bv(this._firestore);return super.get(e).then((e=>new pv(this._firestore,n,t._key,e._document,new fv(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zs=e}(Qt),zt(new it("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new uy(new ia(e.getProvider("auth-internal")),new ua(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zs(Js.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Zt(Bs,"4.5.0",e),Zt(Bs,"4.5.0","esm2017")}();function Pv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zs("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Ov(){if("undefined"===typeof Uint8Array)throw new Zs("unimplemented","Uint8Arrays are not available in this environment.")}function Rv(){if("undefined"==typeof atob)throw new Zs("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lv{constructor(e){this._delegate=e}static fromBase64String(e){return Rv(),new Lv(yy.fromBase64String(e))}static fromUint8Array(e){return Ov(),new Lv(yy.fromUint8Array(e))}toBase64(){return Rv(),this._delegate.toBase64()}toUint8Array(){return Ov(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mv(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class jv{enableIndexedDbPersistence(e,t){return function(e,t){gy(e=Gg(e,uy));const n=ly(e);if(n._uninitializedComponentsProvider)throw new Zs(Js.FAILED_PRECONDITION,"SDK cache is already specified.");Gs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new bg;return hy(n,i,new yg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){gy(e=Gg(e,uy));const t=ly(e);if(t._uninitializedComponentsProvider)throw new Zs(Js.FAILED_PRECONDITION,"SDK cache is already specified.");Gs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new bg;return hy(t,r,new vg(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Zs(Js.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ea;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!La.D())return Promise.resolve();const t=e+"main";await La.delete(t)}(Yf(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Fv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Gs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$g(this._delegate,e,t,n)}enableNetwork(){return fy(this._delegate)}disableNetwork(){return py(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,qg("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return dy(this._delegate)}onSnapshotsInSync(e){return Sv(this._delegate,e)}get app(){if(!this._appCompat)throw new Zs("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jv(this,ty(this._delegate,e))}catch(t){throw Kv(t,"collection()","Firestore.collection()")}}doc(e){try{return new qv(this,ny(this._delegate,e))}catch(t){throw Kv(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yv(this,function(e,t){if(e=Gg(e,Xg),zg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zs(Js.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Jg(e,null,function(e){return new Gl(ya.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Kv(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Gg(e,uy);const r=Object.assign(Object.assign({},Cv),n);return function(e){if(e.maxAttempts<1)throw new Zs(Js.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ea;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Lg(e);new Eg(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(ly(e),(n=>t(new Dv(e,n))),r)}(this._delegate,(t=>e(new Bv(this,t))))}batch(){return ly(this._delegate),new Uv(new Av(this._delegate,(e=>kv(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ly(e=Gg(e,uy)),r=new ay;return Vg(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return my(this._delegate,e).then((e=>e?new Yv(this,e):null))}}class Vv extends cv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lv(new yy(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qv.forKey(t,this.firestore,null)}}class Bv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vv(e)}get(e){const t=Zv(e);return this._delegate.get(t).then((e=>new Gv(this._firestore,new pv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Zv(e);return n?(Pv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=Zv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=Zv(e);return this._delegate.delete(t),this}}class Uv{constructor(e){this._delegate=e}set(e,t,n){const r=Zv(e);return n?(Pv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=Zv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=Zv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new mv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qv(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=zv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new zv(e,new Vv(e),t),r.set(t,i)),i}}zv.INSTANCES=new WeakMap;class qv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vv(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Zs("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new qv(t,new Zg(t._delegate,n,new wa(e)))}static forKey(e,t,n){return new qv(t,new Zg(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Jv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jv(this.firestore,ty(this._delegate,e))}catch(t){throw Kv(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=rt(e))instanceof Zg&&ry(this._delegate,e)}set(e,t){t=Pv("DocumentReference.set",t);try{return t?Tv(this._delegate,e,t):Tv(this._delegate,e)}catch(n){throw Kv(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xv(this._delegate,e):xv(this._delegate,e,t,...r)}catch(o){throw Kv(o,"updateDoc()","DocumentReference.update()")}}delete(){return kv(Gg((e=this._delegate).firestore,uy),[new eh(e._key,Uc.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Hv(t),i=Wv(t,(e=>new Gv(this.firestore,new pv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Ev(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?wv(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Gg(e,Zg);const t=Gg(e.firestore,uy);return jg(ly(t),e._key,{source:"server"}).then((n=>Iv(t,e,n)))}(this._delegate):function(e){e=Gg(e,Zg);const t=Gg(e.firestore,uy);return jg(ly(t),e._key).then((n=>Iv(t,e,n)))}(this._delegate),t.then((e=>new Gv(this.firestore,new pv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new qv(this.firestore,e?this._delegate.withConverter(zv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kv(e,t,n){return e.message=e.message.replace(t,n),e}function Hv(e){for(const t of e)if("object"===typeof t&&!Mv(t))return t;return{}}function Wv(e,t){var n,r;let i;return i=Mv(e[0])?e[0]:Mv(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Gv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qv(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vv(this._delegate,e._delegate)}}class Qv extends Gv{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Ys(),t}}class Yv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vv(e)}where(e,t,n){try{return new Yv(this.firestore,Zy(this._delegate,function(e,t,n){const r=t,i=Yy("where",e);return ev._create(i,r,n)}(e,t,n)))}catch(r){throw Kv(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yv(this.firestore,Zy(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Yy("orderBy",e);return nv._create(n,t)}(e,t)))}catch(n){throw Kv(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yv(this.firestore,Zy(this._delegate,(Qg("limit",t=e),rv._create("limit",t,"F"))))}catch(t){throw Kv(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Yv(this.firestore,Zy(this._delegate,(Qg("limitToLast",t=e),rv._create("limitToLast",t,"L"))))}catch(t){throw Kv(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Yv(this.firestore,Zy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iv._create("startAt",t,!0)}(...arguments)))}catch(e){throw Kv(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Yv(this.firestore,Zy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iv._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Kv(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Yv(this.firestore,Zy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ov._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Kv(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Yv(this.firestore,Zy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ov._create("endAt",t,!0)}(...arguments)))}catch(e){throw Kv(e,"endAt()","Query.endAt()")}}isEqual(e){return iy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_v(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Gg(e,Jg);const t=Gg(e.firestore,uy),n=ly(t),r=new bv(t);return Fg(n,e._query,{source:"server"}).then((n=>new gv(t,r,e,n)))}(this._delegate):function(e){e=Gg(e,Jg);const t=Gg(e.firestore,uy),n=ly(t),r=new bv(t);return Xy(e._query),Fg(n,e._query).then((n=>new gv(t,r,e,n)))}(this._delegate),t.then((e=>new $v(this.firestore,new gv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Hv(t),i=Wv(t,(e=>new $v(this.firestore,new gv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Ev(this._delegate,r,i)}withConverter(e){return new Yv(this.firestore,e?this._delegate.withConverter(zv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Xv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $v{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yv(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Qv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Xv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Qv(this._firestore,n))}))}isEqual(e){return vv(this._delegate,e._delegate)}}class Jv extends Yv{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qv(this.firestore,e):null}doc(e){try{return new qv(this.firestore,void 0===e?ny(this._delegate):ny(this._delegate,e))}catch(t){throw Kv(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Gg(e.firestore,uy),r=ny(e),i=hv(e.converter,t);return kv(n,[Cy(Iy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Uc.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new qv(this.firestore,e)))}isEqual(e){return ry(this._delegate,e._delegate)}withConverter(e){return new Jv(this.firestore,e?this._delegate.withConverter(zv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zv(e){return Gg(e,Zg)}class eb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new vy(...t)}static documentId(){return new eb(ba.keyField().canonicalString())}isEqual(e){return(e=rt(e))instanceof vy&&this._delegate._internalPath.isEqual(e._internalPath)}}class tb{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Dy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new tb(e)}static delete(){const e=new Ay("deleteField");return e._methodName="FieldValue.delete",new tb(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Py("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new tb(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Oy("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new tb(e)}static increment(e){const t=new Ry("increment",e);return t._methodName="FieldValue.increment",new tb(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nb={Firestore:Fv,GeoPoint:wy,Timestamp:pa,Blob:Lv,Transaction:Bv,WriteBatch:Uv,DocumentReference:qv,DocumentSnapshot:Gv,Query:Yv,QueryDocumentSnapshot:Qv,QuerySnapshot:$v,CollectionReference:Jv,FieldPath:eb,FieldValue:tb,setLogLevel:function(e){var t;t=e,qs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var rb;(function(e,t){e.INTERNAL.registerComponent(new it("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},nb)))})(rb=bn,((e,t)=>new Fv(e,t,new jv))),rb.registerVersion("@firebase/firestore-compat","0.3.27"),bn.initializeApp({apiKey:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_apiKey,authDomain:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_authDomain,databaseURL:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_databaseURL,projectId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_projectId||"no-firebase",storageBucket:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_storageBucket,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_messagingSenderId,appId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_appId});const ib=bn.firestore();"localhost"===window.location.hostname&&ib.useEmulator("localhost",8080);const ob=(e,t)=>ib.doc("participant_responses/".concat(e,"/participants/").concat(t)),sb=(e,t,n)=>ib.doc("".concat(ob(e,t).path,"/data/").concat(n));const ab={name:"instructions",parameters:{pages:{type:f.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0},key_forward:{type:f.KEY,pretty_name:"Key forward",default:"ArrowRight"},key_backward:{type:f.KEY,pretty_name:"Key backward",default:"ArrowLeft"},allow_backward:{type:f.BOOL,pretty_name:"Allow backward",default:!0},allow_keys:{type:f.BOOL,pretty_name:"Allow keys",default:!0},show_clickable_nav:{type:f.BOOL,pretty_name:"Show clickable nav",default:!1},show_page_number:{type:f.BOOL,pretty_name:"Show page number",default:!1},page_label:{type:f.STRING,pretty_name:"Page label",default:"Page"},button_label_previous:{type:f.STRING,pretty_name:"Button label previous",default:"Previous"},button_label_next:{type:f.STRING,pretty_name:"Button label next",default:"Next"}}};class ub{constructor(e){this.jsPsych=e}trial(e,t){var n=0,r=[],i=performance.now(),o=i;function s(e){e.target.removeEventListener("click",s),"jspsych-instructions-back"===this.id?l():"jspsych-instructions-next"===this.id&&u()}function a(){var r=t.pages[n],i="";if(t.show_page_number&&(i="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>"+t.page_label+" "+(n+1)+"/"+t.pages.length+"</span>"),t.show_clickable_nav){var o="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";if(t.allow_backward)o+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+(n>0?"":"disabled='disabled'")+">&lt; "+t.button_label_previous+"</button>";t.pages.length>1&&t.show_page_number&&(o+=i),r+=o+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+t.button_label_next+" &gt;</button></div>",e.innerHTML=r,0!=n&&t.allow_backward&&e.querySelector("#jspsych-instructions-back").addEventListener("click",s),e.querySelector("#jspsych-instructions-next").addEventListener("click",s)}else t.show_page_number&&t.pages.length>1&&(r+="<div class='jspsych-instructions-pagenum'>"+i+"</div>"),e.innerHTML=r}function u(){c(),++n>=t.pages.length?h():a()}function l(){c(),n--,a()}function c(){var e=performance.now(),t=Math.round(e-o);r.push({page_index:n,viewing_time:t}),o=e}const h=()=>{t.allow_keys&&this.jsPsych.pluginAPI.cancelKeyboardResponse(f),e.innerHTML="";var n={view_history:r,rt:Math.round(performance.now()-i)};this.jsPsych.finishTrial(n)},d=e=>{f=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1,allow_held_key:!1}),this.jsPsych.pluginAPI.compareKeys(e.key,t.key_backward)&&0!==n&&t.allow_backward&&l(),this.jsPsych.pluginAPI.compareKeys(e.key,t.key_forward)&&u()};if(a(),t.allow_keys)var f=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1})}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){var n,r,i,o,s,a;let u=0,l=0,c=[];if(!(null===(n=t.data)||void 0===n?void 0:n.view_history)&&!(null===(r=t.data)||void 0===r?void 0:r.rt))for(;u!==e.pages.length;){const t=Math.round(this.jsPsych.randomization.sampleExGaussian(3e3,300,1/300));c.push({page_index:u,viewing_time:t}),l+=t,0!=u&&e.allow_backward?1==this.jsPsych.randomization.sampleBernoulli(.9)?u++:u--:u++}if(!(null===(i=t.data)||void 0===i?void 0:i.view_history)&&(null===(o=t.data)||void 0===o?void 0:o.rt)){for(l=t.data.rt;u!==e.pages.length;)c.push({page_index:u,viewing_time:null}),0!=u&&e.allow_backward?1==this.jsPsych.randomization.sampleBernoulli(.9)?u++:u--:u++;const n=t.data.rt/c.length;let r=0;for(const e of c){const t=Math.round(this.jsPsych.randomization.sampleExGaussian(n,n/10,1/(n/10)));e.viewing_time=t,r+=t}const i=t.data.rt-r,o=Math.round(i/c.length);for(const e of c)e.viewing_time+=o}if((null===(s=t.data)||void 0===s?void 0:s.view_history)&&!(null===(a=t.data)||void 0===a?void 0:a.rt)){c=t.data.view_history,l=0;for(const e of t.data.view_history)l+=e.viewing_time}const h={view_history:c,rt:l},d=this.jsPsych.pluginAPI.mergeSimulationData(h,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,d),d}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n();const o=t=>{e.allow_keys?this.jsPsych.pluginAPI.pressKey(e.key_forward,t):e.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-instructions-next"),t)},s=t=>{e.allow_keys?this.jsPsych.pluginAPI.pressKey(e.key_backward,t):e.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-instructions-back"),t)};let a=0,u=0;for(let l=0;l<r.view_history.length;l++)l==r.view_history.length-1?o(u+r.view_history[l].viewing_time):(r.view_history[l+1].page_index>a&&o(u+r.view_history[l].viewing_time),r.view_history[l+1].page_index<a&&s(u+r.view_history[l].viewing_time),u+=r.view_history[l].viewing_time,a=r.view_history[l+1].page_index)}}ub.info=ab;const lb={name:"fullscreen",parameters:{fullscreen_mode:{type:f.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:f.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:f.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:f.INT,pretty_name:"Delay after",default:1e3,array:!1}}};class cb{constructor(e){this.jsPsych=e,this.rt=null,this.start_time=0}trial(e,t){"undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element?this.endTrial(e,!1,t):t.fullscreen_mode?this.showDisplay(e,t):(this.exitFullScreen(),this.endTrial(e,!0,t))}showDisplay(e,t){e.innerHTML="\n      ".concat(t.message,'\n      <button id="jspsych-fullscreen-btn" class="jspsych-btn">').concat(t.button_label,"</button>\n    "),e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",(()=>{this.rt=Math.round(performance.now()-this.start_time),this.enterFullScreen(),this.endTrial(e,!0,t)})),this.start_time=performance.now()}endTrial(e,t,n){e.innerHTML="",this.jsPsych.pluginAPI.setTimeout((()=>{var e={success:t,rt:this.rt};this.jsPsych.finishTrial(e)}),n.delay_after)}enterFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={success:!0,rt:this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)};return this.jsPsych.pluginAPI.mergeSimulationData(n,t)}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();!1===r.success?this.endTrial(i,!1,e):(this.trial(i,e),n(),this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-fullscreen-btn"),r.rt))}}cb.info=lb;const hb={type:cb,fullscreen_mode:!0},db={type:cb,fullscreen_mode:!1};function fb(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=0===Object.keys(r).length?"":" "+Object.entries(r).map((e=>{let[t,n]=e;return"".concat(t,'="').concat(n,'"')})).join(" "),"<".concat(e).concat(n,">").concat(t,"</").concat(e,">")}function pb(e){return fb("div",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function mb(e){return fb("h1",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function gb(e){return fb("p",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function yb(){const e=function(e){return fb("span",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}("",{id:"photodiode-spot",class:"photodiode-spot"});return pb(e,{id:"photodiode-box",class:Oe.USE_PHOTODIODE?"photodiode-box visible":"photodiode-box invisible"})}function vb(e){let t=!1;if(!Oe.USE_ELECTRON)throw new Error("photodiodeSpot trial is only available when running inside Electron");t=window.require("electron").ipcRenderer;if(Oe.USE_PHOTODIODE){const n=40;let r=e;e<Se.eventCodes.open_task&&(r=1),function e(t,n){n>0&&function(e,t){ve()(".photodiode-spot").css({"background-color":"white"}),setTimeout((()=>{ve()(".photodiode-spot").css({"background-color":"black"}),t()}),e)}(t,(()=>{setTimeout((()=>{e(t,n-1)}),t)}))}(n,r),t&&t.send("trigger",e)}}const bb=function(){return{type:ge,stimulus:mb(xe.trials.holdUpMarker)+yb(),choices:[xe.prompts.continue.button]}};function wb(e){return pb(e,{class:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"center_container":arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"main-prompt":"main"})}const _b=function(){const e=mb(xe.prompts.settingUp);return{type:pe,stimulus:wb(e,!0)+yb(),trial_duration:2e3,on_load:()=>{vb(Se.eventCodes.open_task)}}};const Tb=[{type:ge,stimulus:mb(xe.name),responseEndsTrial:!0,choices:[xe.prompts.continue.button]},hb];Oe.USE_PHOTODIODE&&(Tb.push(bb()),Tb.push(_b()));const xb={timeline:Tb},Eb={type:pe,stimulus:'<div class="center_container"><div id="fixation-dot"> </div></div>'+yb(),choices:"NO_KEYS",trial_duration:Ee.fixation.default_duration,data:{test_part:"fixation"},on_load:()=>{vb(Se.eventCodes.fixation)}};function Sb(e,t,n,r){const i=[];for(let a=0;a<r.length;a++){const e=r[a];let o;o=0===t?"X":r[a-t];const s=e===o;i.push({stimulus:gb(e,{class:"stimulus",style:"font-size:".concat(Ee.nback.letter_size,"px")}),data:{test_part:"test",level:t,block:n,letter:e,letters_match:s}})}const o=function(e){const{match_key:t,mismatch_key:n,letter_duration:r}=Ee.nback;return{type:pe,stimulus:()=>pb(e.timelineVariable("stimulus")+yb()),on_load:()=>{vb(Se.eventCodes.test)},choices:[t,n],data:e.timelineVariable("data"),trial_duration:r,stimulus_duration:r,on_finish:function(e){if(null===e.response)e.result="no_response";else if(e.letters_match&&e.response===t)e.result="correct_match";else if(e.letters_match&&e.response===n)e.result="missed_match";else if(e.letters_match||e.response!==t){if(e.letters_match||e.response!==n)throw new Error("Invalid Response");e.result="correct_mismatch"}else e.result="missed_mismatch";e.correct_response="correct_match"===e.result||"correct_mismatch"===e.result}}}(e),s=[Eb,o];return"practice"===n&&s.push(function(e){return{type:pe,choices:"NO_KEYS",trial_duration:Ee.nback.feedback_duration,data:{test_part:"feedback"},stimulus:function(){const t=e.data.getLastTrialData().trials[0].result;if("no_response"===t)return'<div style="font-size:40px; color: red">'.concat(xe.nback.feedback.noResponse,"</div>");if("correct_match"===t||"correct_mismatch"===t)return'<div style="font-size:40px; color: green">'.concat(xe.nback.feedback.correct,"</div>");if("missed_match"===t||"missed_mismatch"===t)return'<div style="font-size:40px; color: red">'.concat(xe.nback.feedback.wrong,"</div>");throw new Error("Invalid response")}}}(e)),{repetitions:1,randomize_order:!1,timeline_variables:i,timeline:s}}const kb={name:"preload",parameters:{auto_preload:{type:f.BOOL,pretty_name:"Auto-preload",default:!1},trials:{type:f.TIMELINE,pretty_name:"Trials",default:[]},images:{type:f.STRING,pretty_name:"Images",default:[],array:!0},audio:{type:f.STRING,pretty_name:"Audio",default:[],array:!0},video:{type:f.STRING,pretty_name:"Video",default:[],array:!0},message:{type:f.HTML_STRING,pretty_name:"Message",default:null},show_progress_bar:{type:f.BOOL,pretty_name:"Show progress bar",default:!0},continue_after_error:{type:f.BOOL,pretty_name:"Continue after error",default:!1},error_message:{type:f.HTML_STRING,pretty_name:"Error message",default:"The experiment failed to load."},show_detailed_errors:{type:f.BOOL,pretty_name:"Show detailed errors",default:!1},max_load_time:{type:f.INT,pretty_name:"Max load time",default:null},on_error:{type:f.FUNCTION,pretty_name:"On error",default:null},on_success:{type:f.FUNCTION,pretty_name:"On success",default:null}}};class Ib{constructor(e){this.jsPsych=e}trial(e,t){var n=null,r=!1,i=[],o=[],s=[],a=[],u=this.jsPsych.getSafeModeStatus(),l=[],c=[],h=[];if(t.auto_preload){var d=this.jsPsych.getTimeline(),f=this.jsPsych.pluginAPI.getAutoPreloadList(d);l=l.concat(f.images),c=c.concat(f.audio),h=h.concat(f.video)}if(t.trials.length>0){var p=this.jsPsych.pluginAPI.getAutoPreloadList(t.trials);l=l.concat(p.images),c=c.concat(p.audio),h=h.concat(p.video)}l=l.concat(t.images),c=c.concat(t.audio),h=h.concat(t.video),l=this.jsPsych.utils.unique(l.flat()),c=this.jsPsych.utils.unique(c.flat()),h=this.jsPsych.utils.unique(h.flat()),u&&(h=[]);var m="";null!==t.message&&(m+=t.message),t.show_progress_bar&&(m+="\n            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>\n              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>\n            </div>"),e.innerHTML=m;const g=()=>{if(T++,t.show_progress_bar){var n=T/_*100,r=e.querySelector("#jspsych-loading-progress-bar");null!==r&&(r.style.width=n+"%")}},y=()=>{"undefined"!==typeof r&&!1===r&&(this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),n=!0,w())},v=()=>{this.jsPsych.pluginAPI.cancelPreloads(),"undefined"===typeof n||!1!==n&&null!==n||(r=!0,x<_&&(n=!1),k("timeout"),a.push("<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>"),t.continue_after_error?w():b())},b=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),e.innerHTML=t.error_message,t.show_detailed_errors&&(e.innerHTML+="<p><strong>Error details:</strong></p>",a.forEach((t=>{e.innerHTML+=t})))},w=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var t={success:n,timeout:r,failed_images:i,failed_audio:o,failed_video:s};e.innerHTML="",this.jsPsych.finishTrial(t)};null!==t.max_load_time&&this.jsPsych.pluginAPI.setTimeout(v,t.max_load_time);var _=l.length+c.length+h.length,T=0,x=0;if(0==_)y();else{const e=e=>{this.jsPsych.pluginAPI.preloadVideo(h,e,S,E)},t=e=>{this.jsPsych.pluginAPI.preloadAudio(c,e,S,E)},n=e=>{this.jsPsych.pluginAPI.preloadImages(l,e,S,E)};h.length>0&&e((()=>{})),c.length>0&&t((()=>{})),l.length>0&&n((()=>{}))}function E(e){g(),null==n&&(n=!1);var r="unknown file";e.source&&(r=e.source),e.error&&e.error.path&&e.error.path.length>0&&("img"==e.error.path[0].localName?i.push(r):"audio"==e.error.path[0].localName?o.push(r):"video"==e.error.path[0].localName&&s.push(r));var u="<p><strong>Error loading file: "+r+"</strong><br>";e.error.statusText&&(u+="File request response status: "+e.error.statusText+"<br>"),"404"==e.error&&(u+="404 - file not found.<br>"),"undefined"!==typeof e.error.loaded&&null!==e.error.loaded&&0!==e.error.loaded?u+=e.error.loaded+" bytes transferred.":u+="File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.",u+="</p>",a.push(u),k(r),T==_&&(t.continue_after_error?w():b())}function S(e){g(),function(e){null!==t.on_success&&t.on_success(e)}(e),++x==_?y():T==_&&(t.continue_after_error?w():b())}function k(e){null!==t.on_error&&t.on_error(e)}}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){return this.jsPsych.pluginAPI.mergeSimulationData({success:!0,timeout:!1,failed_images:[],failed_audio:[],failed_video:[]},t)}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.jsPsych.getDisplayElement();this.trial(r,e),n()}}Ib.info=kb;const Cb=xe.nback,Ab={type:Ib,images:["/assets/instruction_0back_en.gif","/assets/instruction_1back_en.gif","/assets/instruction_2back_en.gif","/assets/instruction_3back_en.gif"]},Nb={type:pe,stimulus:"<p>".concat(Cb.betweenBlocks.rest,"</p><p>").concat(Cb.betweenBlocks.pressKey,"</p>")},Db={type:pe,stimulus:"<p>".concat(Cb.betweenBlocks.continue,"</p>")},Pb={type:pe,stimulus:"<p>".concat(Cb.practice.practice,"</p><p>").concat(Cb.practice.startPractice,"<p>")},Ob={type:pe,stimulus:"<h2>".concat(Cb.practice.end,"</h2><p>").concat(Cb.task.start,"</p><p>").concat(Cb.task.press,"<p>")};function Rb(e){return{type:pe,choices:"NO_KEYS",stimulus:function(){let t=e.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"test"===e.test_part})),n=t.filterCustom((function(e){return e.correct_response})),r=Math.round(n.count()/t.count()*100),i=Math.round(n.select("rt").mean());return"\n    <h2>".concat(Cb.end.end,"</h2>\n    <p>").concat(Cb.feedback.accuracy).concat(r).concat(Cb.feedback.accuracy2,"</p>\n    <p>").concat(Cb.feedback.rt).concat(i).concat(Cb.feedback.rt2,"</p>\n    <p>").concat(Cb.end.thankYou,"</p>")},trial_duration:3e3,on_finish:function(t){!function(e,t){let n,r,i=t.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"correct_match"===e.result})),o=t.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"missed_match"===e.result})),s=t.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"missed_mismatch"===e.result})),a=t.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"correct_mismatch"===e.result}));n=o.count()>0?i.count()/(o.count()+i.count()):i.count()-.5/(o.count()+i.count()),r=s.count()>0?s.count()/(s.count()+a.count()):.5/(s.count()+a.count());let u=Te(n),l=Te(r),c=t.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"test"===e.test_part&&null!==e.key_press}));e.test_part="debrief",e.STAT_nr_correct_match=i.count(),e.STAT_nr_missed_match=o.count(),e.STAT_nr_missed_mismatch=s.count(),e.STAT_nr_correct_mismatch=a.count(),e.STAT_nr_response=c.count(),e.STAT_nr_no_response=t.data.get().filterCustom((function(e){return("block_one"===e.block||"block_two"===e.block)&&"test"===e.test_part&&null==e.key_press})).count(),e.STAT_accuracy=(i.count()+a.count())/c.count()*100,e.STAT_rt_mean=Math.round(c.select("rt").mean()),e.STAT_rt_median=Math.round(c.select("rt").median()),e.STAT_correct_match_rt_mean=Math.round(i.select("rt").mean()),e.STAT_correct_match_rt_median=Math.round(i.select("rt").median()),e.STAT_missed_mismatch_rt_mean=Math.round(s.select("rt").mean()),e.STAT_missed_mismatch_rt_median=Math.round(s.select("rt").median()),e.STAT_correct_mismatch_rt_mean=Math.round(a.select("rt").mean()),e.STAT_correct_mismatch_rt_median=Math.round(a.select("rt").median()),e.STAT_missed_match_rt_mean=Math.round(o.select("rt").mean()),e.STAT_missed_match_rt_median=Math.round(o.select("rt").median()),e.STAT_dprime=u-l}(t,e)}}}const Lb=xe.nback;const Mb={on_trial_finish:function(e){console.log("A trial just ended, here are the latest data:"),console.log(e)},default_iti:0};function jb(e){const t=function(e){let t=[];const{level:n}=Ee.nback;let r;console.log("level:",n),0==n?r=Lb.instructions0back:1==n?r=Lb.instructions1back:2==n?r=Lb.instructions2back:3==n&&(r=Lb.instructions3back);const i={type:ub,pages:["<h1>".concat(Lb.welcomePage.welcome,"</h1><br><p>").concat(Lb.welcomePage.clickNext,"</p>"),"<p>".concat(r.letter,"</p><p>").concat(r.yourTask1,"</p><p>").concat(r.yourTask2,"</p><p>").concat(Lb.generalInstruction.fastAndAccurate,"</p><p>").concat(Lb.generalInstruction.clickNext,"</p>")],show_clickable_nav:!0,button_label_next:Lb.button.next,button_label_previous:Lb.button.previous};let o;0===n?o=ke.level_zero:1===n?o=ke.level_one:2===n?o=ke.level_two:3===n&&(o=ke.level_three);const s=Sb(e,n,"practice",o.practice),a=Sb(e,n,"block_one",o.block_one),u=Sb(e,n,"block_two",o.block_two),l=Rb(e);return t.push(xb,Ab,i,Pb,s,Ob,a,Nb,Db,u,l,db),t}(e);return t}function Fb(e){let{studyId:n,participantId:r,taskVersion:o,dataUpdateFunction:s,dataFinishFunction:a}=e;const u="experimentWindow",l=t.useRef(null),c={...Mb,display_element:u,on_data_update:e=>{const t=h.data.getInteractionData().filter({trial:h.data.get().last(1).values()[0].trial_index}).values();t&&(h.data.get().last(1).values()[0].browser_events=JSON.stringify(t)),s(e)},on_finish:e=>a(e)},h=t.useMemo((()=>{const e=(new Date).toISOString();Oe.USE_FIREBASE&&async function(e,t,n){try{const r=sb(e,t,n);return await r.set({start_time:n,app_version:window.navigator.appVersion,app_platform:window.navigator.platform}),console.log("Initialized experiment:",e,t,n),!0}catch($w){return console.error("Unable to initialize the experiment:\n",$w),!1}}(n,r,e);const t=he(c);return t.data.addProperties({study_id:n,participant_id:r,start_date:e,task_version:o}),t}),[n,r,o]),d=jb(h),f=t.useCallback((e=>{if(e.redispatched)return;const t=new e.constructor(e.type,e);t.redispatched=!0,l.current.dispatchEvent(t)}),[]);return t.useEffect((()=>(window.addEventListener("keyup",f,!0),window.addEventListener("keydown",f,!0),h.run(d),()=>{window.removeEventListener("keyup",f,!0),window.removeEventListener("keydown",f,!0);try{h.endExperiment("Ended Experiment")}catch(e){console.error("Experiment closed before unmount")}}))),(0,i.jsx)("div",{id:u,ref:l,className:"App"})}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(this,arguments)}function Bb(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ub=n(139),zb=n.n(Ub),qb=(n(197),n(173)),Kb=n.n(qb),Hb=["as","className","type","tooltip"],Wb={type:Kb().string,tooltip:Kb().bool,as:Kb().elementType},Gb=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,o=e.className,s=e.type,a=void 0===s?"valid":s,u=e.tooltip,l=void 0!==u&&u,c=Bb(e,Hb);return t.createElement(i,Vb({},c,{ref:n,className:zb()(o,a+"-"+(l?"tooltip":"feedback"))}))}));Gb.displayName="Feedback",Gb.propTypes=Wb;const Qb=Gb;const Yb=t.createContext({controlId:void 0});var Xb=t.createContext({});Xb.Consumer,Xb.Provider;function $b(e,n){var r=(0,t.useContext)(Xb);return e||r[n]||n}var Jb=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],Zb=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,o=e.bsCustomPrefix,s=e.className,a=e.type,u=void 0===a?"checkbox":a,l=e.isValid,c=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,f=e.isStatic,p=e.as,m=void 0===p?"input":p,g=Bb(e,Jb),y=(0,t.useContext)(Yb),v=y.controlId,b=y.custom?[o,"custom-control-input"]:[i,"form-check-input"];return i=$b(b[0],b[1]),t.createElement(m,Vb({},g,{ref:n,type:u,id:r||v,className:zb()(s,i,c&&"is-valid",d&&"is-invalid",f&&"position-static")}))}));Zb.displayName="FormCheckInput";const ew=Zb;var tw=["bsPrefix","bsCustomPrefix","className","htmlFor"],nw=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.bsCustomPrefix,o=e.className,s=e.htmlFor,a=Bb(e,tw),u=(0,t.useContext)(Yb),l=u.controlId,c=u.custom?[i,"custom-control-label"]:[r,"form-check-label"];return r=$b(c[0],c[1]),t.createElement("label",Vb({},a,{ref:n,htmlFor:s||l,className:zb()(o,r)}))}));nw.displayName="FormCheckLabel";const rw=nw;var iw=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],ow=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,o=e.bsCustomPrefix,s=e.inline,a=void 0!==s&&s,u=e.disabled,l=void 0!==u&&u,c=e.isValid,h=void 0!==c&&c,d=e.isInvalid,f=void 0!==d&&d,p=e.feedbackTooltip,m=void 0!==p&&p,g=e.feedback,y=e.className,v=e.style,b=e.title,w=void 0===b?"":b,_=e.type,T=void 0===_?"checkbox":_,x=e.label,E=e.children,S=e.custom,k=e.as,I=void 0===k?"input":k,C=Bb(e,iw),A="switch"===T||S,N=A?[o,"custom-control"]:[i,"form-check"];i=$b(N[0],N[1]);var D=(0,t.useContext)(Yb).controlId,P=(0,t.useMemo)((function(){return{controlId:r||D,custom:A}}),[D,A,r]),O=A||null!=x&&!1!==x&&!E,R=t.createElement(ew,Vb({},C,{type:"switch"===T?"checkbox":T,ref:n,isValid:h,isInvalid:f,isStatic:!O,disabled:l,as:I}));return t.createElement(Yb.Provider,{value:P},t.createElement("div",{style:v,className:zb()(y,i,A&&"custom-"+T,a&&i+"-inline")},E||t.createElement(t.Fragment,null,R,O&&t.createElement(rw,{title:w},x),(h||f)&&t.createElement(Qb,{type:h?"valid":"invalid",tooltip:m},g))))}));ow.displayName="FormCheck",ow.Input=ew,ow.Label=rw;const sw=ow;var aw=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],uw=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,o=e.bsCustomPrefix,s=e.className,a=e.isValid,u=e.isInvalid,l=e.lang,c=e.as,h=void 0===c?"input":c,d=Bb(e,aw),f=(0,t.useContext)(Yb),p=f.controlId,m=f.custom?[o,"custom-file-input"]:[i,"form-control-file"];return i=$b(m[0],m[1]),t.createElement(h,Vb({},d,{ref:n,id:r||p,type:"file",lang:l,className:zb()(s,i,a&&"is-valid",u&&"is-invalid")}))}));uw.displayName="FormFileInput";const lw=uw;var cw=["bsPrefix","bsCustomPrefix","className","htmlFor"],hw=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.bsCustomPrefix,o=e.className,s=e.htmlFor,a=Bb(e,cw),u=(0,t.useContext)(Yb),l=u.controlId,c=u.custom?[i,"custom-file-label"]:[r,"form-file-label"];return r=$b(c[0],c[1]),t.createElement("label",Vb({},a,{ref:n,htmlFor:s||l,className:zb()(o,r),"data-browse":a["data-browse"]}))}));hw.displayName="FormFileLabel";const dw=hw;var fw=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],pw=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,o=e.bsCustomPrefix,s=e.disabled,a=void 0!==s&&s,u=e.isValid,l=void 0!==u&&u,c=e.isInvalid,h=void 0!==c&&c,d=e.feedbackTooltip,f=void 0!==d&&d,p=e.feedback,m=e.className,g=e.style,y=e.label,v=e.children,b=e.custom,w=e.lang,_=e["data-browse"],T=e.as,x=void 0===T?"div":T,E=e.inputAs,S=void 0===E?"input":E,k=Bb(e,fw),I=b?[o,"custom"]:[i,"form-file"];i=$b(I[0],I[1]);var C=(0,t.useContext)(Yb).controlId,A=(0,t.useMemo)((function(){return{controlId:r||C,custom:b}}),[C,b,r]),N=null!=y&&!1!==y&&!v,D=t.createElement(lw,Vb({},k,{ref:n,isValid:l,isInvalid:h,disabled:a,as:S,lang:w}));return t.createElement(Yb.Provider,{value:A},t.createElement(x,{style:g,className:zb()(m,i,b&&"custom-file")},v||t.createElement(t.Fragment,null,b?t.createElement(t.Fragment,null,D,N&&t.createElement(dw,{"data-browse":_},y)):t.createElement(t.Fragment,null,N&&t.createElement(dw,null,y),D),(l||h)&&t.createElement(Qb,{type:l?"valid":"invalid",tooltip:f},p))))}));pw.displayName="FormFile",pw.Input=lw,pw.Label=dw;const mw=pw;n(440);var gw=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],yw=t.forwardRef((function(e,n){var r,i,o=e.bsPrefix,s=e.bsCustomPrefix,a=e.type,u=e.size,l=e.htmlSize,c=e.id,h=e.className,d=e.isValid,f=void 0!==d&&d,p=e.isInvalid,m=void 0!==p&&p,g=e.plaintext,y=e.readOnly,v=e.custom,b=e.as,w=void 0===b?"input":b,_=Bb(e,gw),T=(0,t.useContext)(Yb).controlId,x=v?[s,"custom"]:[o,"form-control"];if(o=$b(x[0],x[1]),g)(i={})[o+"-plaintext"]=!0,r=i;else if("file"===a){var E;(E={})[o+"-file"]=!0,r=E}else if("range"===a){var S;(S={})[o+"-range"]=!0,r=S}else if("select"===w&&v){var k;(k={})[o+"-select"]=!0,k[o+"-select-"+u]=u,r=k}else{var I;(I={})[o]=!0,I[o+"-"+u]=u,r=I}return t.createElement(w,Vb({},_,{type:a,size:l,ref:n,readOnly:y,id:c||T,className:zb()(h,r,f&&"is-valid",m&&"is-invalid")}))}));yw.displayName="FormControl";const vw=Object.assign(yw,{Feedback:Qb});var bw=["bsPrefix","className","children","controlId","as"],ww=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.children,s=e.controlId,a=e.as,u=void 0===a?"div":a,l=Bb(e,bw);r=$b(r,"form-group");var c=(0,t.useMemo)((function(){return{controlId:s}}),[s]);return t.createElement(Yb.Provider,{value:c},t.createElement(u,Vb({},l,{ref:n,className:zb()(i,r)}),o))}));ww.displayName="FormGroup";const _w=ww;var Tw=["bsPrefix","className","as"],xw=["xl","lg","md","sm","xs"],Ew=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.as,s=void 0===o?"div":o,a=Bb(e,Tw),u=$b(r,"col"),l=[],c=[];return xw.forEach((function(e){var t,n,r,i=a[e];if(delete a[e],"object"===typeof i&&null!=i){var o=i.span;t=void 0===o||o,n=i.offset,r=i.order}else t=i;var s="xs"!==e?"-"+e:"";t&&l.push(!0===t?""+u+s:""+u+s+"-"+t),null!=r&&c.push("order"+s+"-"+r),null!=n&&c.push("offset"+s+"-"+n)})),l.length||l.push(u),t.createElement(s,Vb({},a,{ref:n,className:zb().apply(void 0,[i].concat(l,c))}))}));Ew.displayName="Col";const Sw=Ew;var kw=["as","bsPrefix","column","srOnly","className","htmlFor"],Iw=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,o=e.bsPrefix,s=e.column,a=e.srOnly,u=e.className,l=e.htmlFor,c=Bb(e,kw),h=(0,t.useContext)(Yb).controlId;o=$b(o,"form-label");var d="col-form-label";"string"===typeof s&&(d=d+" "+d+"-"+s);var f=zb()(u,o,a&&"sr-only",s&&d);return l=l||h,s?t.createElement(Sw,Vb({ref:n,as:"label",className:f,htmlFor:l},c)):t.createElement(i,Vb({ref:n,className:f,htmlFor:l},c))}));Iw.displayName="FormLabel",Iw.defaultProps={column:!1,srOnly:!1};const Cw=Iw;var Aw=["bsPrefix","className","as","muted"],Nw=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.as,s=void 0===o?"small":o,a=e.muted,u=Bb(e,Aw);return r=$b(r,"form-text"),t.createElement(s,Vb({},u,{ref:n,className:zb()(i,r,a&&"text-muted")}))}));Nw.displayName="FormText";const Dw=Nw;var Pw=t.forwardRef((function(e,n){return t.createElement(sw,Vb({},e,{ref:n,type:"switch"}))}));Pw.displayName="Switch",Pw.Input=sw.Input,Pw.Label=sw.Label;const Ow=Pw;var Rw=/-(.)/g;var Lw=["className","bsPrefix","as"],Mw=function(e){return e[0].toUpperCase()+(t=e,t.replace(Rw,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var jw=["bsPrefix","inline","className","validated","as"],Fw=function(e,n){var r=void 0===n?{}:n,i=r.displayName,o=void 0===i?Mw(e):i,s=r.Component,a=r.defaultProps,u=t.forwardRef((function(n,r){var i=n.className,o=n.bsPrefix,a=n.as,u=void 0===a?s||"div":a,l=Bb(n,Lw),c=$b(o,e);return t.createElement(u,Vb({ref:r,className:zb()(i,c)},l))}));return u.defaultProps=a,u.displayName=o,u}("form-row"),Vw=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.inline,o=e.className,s=e.validated,a=e.as,u=void 0===a?"form":a,l=Bb(e,jw);return r=$b(r,"form"),t.createElement(u,Vb({},l,{ref:n,className:zb()(o,s&&"was-validated",i&&r+"-inline")}))}));Vw.displayName="Form",Vw.defaultProps={inline:!1},Vw.Row=Fw,Vw.Group=_w,Vw.Control=vw,Vw.Check=sw,Vw.File=mw,Vw.Switch=Ow,Vw.Label=Cw,Vw.Text=Dw;const Bw=Vw;const Uw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};var zw=["as","disabled","onKeyDown"];function qw(e){return!e||"#"===e.trim()}var Kw=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"a":r,o=e.disabled,s=e.onKeyDown,a=Bb(e,zw),u=function(e){var t=a.href,n=a.onClick;(o||qw(t))&&e.preventDefault(),o?e.stopPropagation():n&&n(e)};return qw(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),o&&(a.tabIndex=-1,a["aria-disabled"]=!0),t.createElement(i,Vb({ref:n},a,{onClick:u,onKeyDown:Uw((function(e){" "===e.key&&(e.preventDefault(),u(e))}),s)}))}));Kw.displayName="SafeAnchor";const Hw=Kw;var Ww=["bsPrefix","variant","size","active","className","block","type","as"],Gw=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.variant,o=e.size,s=e.active,a=e.className,u=e.block,l=e.type,c=e.as,h=Bb(e,Ww),d=$b(r,"btn"),f=zb()(a,d,s&&"active",i&&d+"-"+i,u&&d+"-block",o&&d+"-"+o);if(h.href)return t.createElement(Hw,Vb({},h,{as:c,ref:n,className:zb()(f,h.disabled&&"disabled")}));n&&(h.ref=n),l?h.type=l:c||(h.type="button");var p=c||"button";return t.createElement(p,Vb({},h,{className:f}))}));Gw.displayName="Button",Gw.defaultProps={variant:"primary",active:!1,disabled:!1};const Qw=Gw;function Yw(e){let{handleLogin:n,initialParticipantID:r,initialStudyID:o,validationFunction:s}=e;const[a,u]=t.useState(r),[l,c]=t.useState(o),[h,d]=t.useState(!1);return(0,i.jsx)("div",{className:"centered-h-v",children:(0,i.jsxs)("div",{className:"width-50",children:[(0,i.jsxs)(Bw,{className:"centered-h-v",onSubmit:function(e){e.preventDefault(),s(l,a).then((e=>{d(!e),e&&n(l,a)}))},children:[(0,i.jsxs)(Bw.Group,{className:"width-100",size:"lg",controlId:"participantId",children:[(0,i.jsx)(Bw.Label,{children:"Participant ID"}),(0,i.jsx)(Bw.Control,{autoFocus:!0,type:"participantId",value:a,onChange:e=>u(e.target.value)})]}),(0,i.jsxs)(Bw.Group,{className:"width-100",size:"lg",controlId:"studyId",children:[(0,i.jsx)(Bw.Label,{children:"Study ID"}),(0,i.jsx)(Bw.Control,{type:"studyId",value:l,onChange:e=>c(e.target.value)})]}),(0,i.jsx)(Qw,{style:{width:"100%"},block:!0,size:"lg",type:"submit",disabled:0===l.length||0===a.length,children:"Log In"})]}),h?(0,i.jsx)("div",{className:"alert alert-danger",role:"alert",children:"No matching experiment found for this participant and study"}):null]})})}function Xw(){const[e,n]=t.useState(!1),[r,s]=t.useState(!1),[a,u]=t.useState(),[l,c]=t.useState(!1),[h,d]=t.useState(""),[f,p]=t.useState(""),[m,g]=t.useState("default");t.useEffect((()=>{if(console.log({"Honeycomb Configuration":Oe,"Task Settings":Ee}),Oe.USE_ELECTRON){const{ipcRenderer:e}=window.require("electron");u(e),e.send("updateEnvironmentVariables",Oe);const t=e.sendSync("syncCredentials");t.participantID&&d(t.participantID),t.studyID&&p(t.studyID),g("desktop")}else if(Oe.USE_MTURK)window.lodash=_.noConflict(),c(new PsiTurk(Ne,"/complete")),g("mturk"),I("mturk",Ne);else if(Oe.USE_PROLIFIC){const e=_e();Oe.USE_FIREBASE&&e?(g("firebase"),I("prolific",e)):s(!0)}else if(Oe.USE_FIREBASE){const e=new URLSearchParams(window.location.search),t=e.get("studyID"),n=e.get("participantID");t&&p(t),n&&d(n),g("firebase")}else g("default")}),[]);const y=async()=>!0,v=(e,t)=>async function(e,t){try{return await ob(e,t).get(),!0}catch($w){return console.error("Unable to validate the experiment:\n",$w),!1}}(e,t),b=()=>{},w=e=>{!async function(e){const t=e.study_id,n=e.participant_id,r=e.start_date;try{const i=sb(t,n,r);await i.collection("trials").add(e)}catch($w){console.error("Unable to add trial:\n",$w)}}(e)},T=e=>{a.send("data",e)},x=e=>{l.recordTrialData(e)},E=e=>{e.localSave("csv","neuro-task.csv")},S=()=>{a.send("end","true")},k=()=>{(async()=>{l.saveData({success:()=>l.completeHIT(),error:()=>s(!0)})})()},I=t.useCallback(((e,t)=>{p(e),d(t),n(!0)}),[]);return r?(0,i.jsx)(o,{}):e?(0,i.jsx)(Fb,{studyId:f,participantId:h,taskVersion:Ie,dataUpdateFunction:{desktop:T,firebase:w,mturk:x,default:b}[m],dataFinishFunction:{desktop:S,mturk:k,firebase:b,default:E}[m]}):(0,i.jsx)(Yw,{validationFunction:{desktop:y,default:y,firebase:v}[m],initialStudyID:f,initialParticipantID:h,handleLogin:I})}r.render((0,i.jsx)(Xw,{}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.53464fd7.js.map